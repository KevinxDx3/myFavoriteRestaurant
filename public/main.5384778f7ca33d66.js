(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{9058:(Qt,it,O)=>{"use strict";O.d(it,{BH:()=>Fe,G6:()=>ot,L:()=>Ge,LL:()=>Xe,Pz:()=>Be,Sg:()=>Ee,UG:()=>q,ZB:()=>Ne,ZR:()=>Ke,aH:()=>he,b$:()=>Me,eu:()=>le,hl:()=>Pe,jU:()=>ee,m9:()=>gi,ne:()=>Yn,pd:()=>Cn,r3:()=>bt,ru:()=>ze,tV:()=>Ce,uI:()=>_e,vZ:()=>an,w1:()=>St,xO:()=>Zn,xb:()=>En,z$:()=>re,zd:()=>Gt});const ae=function(se){const W=[];let ue=0;for(let pe=0;pe<se.length;pe++){let ge=se.charCodeAt(pe);ge<128?W[ue++]=ge:ge<2048?(W[ue++]=ge>>6|192,W[ue++]=63&ge|128):55296==(64512&ge)&&pe+1<se.length&&56320==(64512&se.charCodeAt(pe+1))?(ge=65536+((1023&ge)<<10)+(1023&se.charCodeAt(++pe)),W[ue++]=ge>>18|240,W[ue++]=ge>>12&63|128,W[ue++]=ge>>6&63|128,W[ue++]=63&ge|128):(W[ue++]=ge>>12|224,W[ue++]=ge>>6&63|128,W[ue++]=63&ge|128)}return W},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,W){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ge=0;ge<se.length;ge+=3){const ut=se[ge],wt=ge+1<se.length,Yt=wt?se[ge+1]:0,kn=ge+2<se.length,$n=kn?se[ge+2]:0;let Zt=(15&Yt)<<2|$n>>6,mi=63&$n;kn||(mi=64,wt||(Zt=64)),pe.push(ue[ut>>2],ue[(3&ut)<<4|Yt>>4],ue[Zt],ue[mi])}return pe.join("")},encodeString(se,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(se):this.encodeByteArray(ae(se),W)},decodeString(se,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(se):function(se){const W=[];let ue=0,pe=0;for(;ue<se.length;){const ge=se[ue++];if(ge<128)W[pe++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const ut=se[ue++];W[pe++]=String.fromCharCode((31&ge)<<6|63&ut)}else if(ge>239&&ge<365){const kn=((7&ge)<<18|(63&se[ue++])<<12|(63&se[ue++])<<6|63&se[ue++])-65536;W[pe++]=String.fromCharCode(55296+(kn>>10)),W[pe++]=String.fromCharCode(56320+(1023&kn))}else{const ut=se[ue++],wt=se[ue++];W[pe++]=String.fromCharCode((15&ge)<<12|(63&ut)<<6|63&wt)}}return W.join("")}(this.decodeStringToByteArray(se,W))},decodeStringToByteArray(se,W){this.init_();const ue=W?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ge=0;ge<se.length;){const ut=ue[se.charAt(ge++)],Yt=ge<se.length?ue[se.charAt(ge)]:0;++ge;const $n=ge<se.length?ue[se.charAt(ge)]:64;++ge;const nn=ge<se.length?ue[se.charAt(ge)]:64;if(++ge,null==ut||null==Yt||null==$n||null==nn)throw new Ie;pe.push(ut<<2|Yt>>4),64!==$n&&(pe.push(Yt<<4&240|$n>>2),64!==nn&&pe.push($n<<6&192|nn))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(se){return function(se){const W=ae(se);return de.encodeByteArray(W,!0)}(se).replace(/\./g,"")},Ce=function(se){try{return de.decodeString(se,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function Ne(se,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return W}for(const ue in W)!W.hasOwnProperty(ue)||!$e(ue)||(se[ue]=Ne(se[ue],W[ue]));return se}function $e(se){return"__proto__"!==se}const je=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=se&&Ce(se[1]);return W&&JSON.parse(W)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},he=()=>{var se;return null===(se=je())||void 0===se?void 0:se.config},Be=se=>{var W;return null===(W=je())||void 0===W?void 0:W[`_${se}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,ue)=>{this.resolve=W,this.reject=ue})}wrapCallback(W){return(ue,pe)=>{ue?this.reject(ue):this.resolve(pe),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(ue):W(ue,pe))}}}function Ee(se,W){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=W||"demo-project",ge=se.iat||0,ut=se.sub||se.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ge,exp:ge+3600,auth_time:ge,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},se);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(wt)),""].join(".")}function re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(re())}function q(){var se;const W=null===(se=je())||void 0===se?void 0:se.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ee(){return"object"==typeof self&&self.self===self}function ze(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function St(){const se=re();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function ot(){return!q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((se,W)=>{try{let ue=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(pe);ge.onsuccess=()=>{ge.result.close(),ue||self.indexedDB.deleteDatabase(pe),se(!0)},ge.onupgradeneeded=()=>{ue=!1},ge.onerror=()=>{var ut;W((null===(ut=ge.error)||void 0===ut?void 0:ut.message)||"")}}catch(ue){W(ue)}})}class Ke extends Error{constructor(W,ue,pe){super(ue),this.code=W,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(W,ue,pe){this.service=W,this.serviceName=ue,this.errors=pe}create(W,...ue){const pe=ue[0]||{},ge=`${this.service}/${W}`,ut=this.errors[W],wt=ut?function Tt(se,W){return se.replace(At,(ue,pe)=>{const ge=W[pe];return null!=ge?String(ge):`<${pe}?>`})}(ut,pe):"Error";return new Ke(ge,`${this.serviceName}: ${wt} (${ge}).`,pe)}}const At=/\{\$([^}]+)}/g;function bt(se,W){return Object.prototype.hasOwnProperty.call(se,W)}function En(se){for(const W in se)if(Object.prototype.hasOwnProperty.call(se,W))return!1;return!0}function an(se,W){if(se===W)return!0;const ue=Object.keys(se),pe=Object.keys(W);for(const ge of ue){if(!pe.includes(ge))return!1;const ut=se[ge],wt=W[ge];if(Nn(ut)&&Nn(wt)){if(!an(ut,wt))return!1}else if(ut!==wt)return!1}for(const ge of pe)if(!ue.includes(ge))return!1;return!0}function Nn(se){return null!==se&&"object"==typeof se}function Zn(se){const W=[];for(const[ue,pe]of Object.entries(se))Array.isArray(pe)?pe.forEach(ge=>{W.push(encodeURIComponent(ue)+"="+encodeURIComponent(ge))}):W.push(encodeURIComponent(ue)+"="+encodeURIComponent(pe));return W.length?"&"+W.join("&"):""}function Gt(se){const W={};return se.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ge,ut]=pe.split("=");W[decodeURIComponent(ge)]=decodeURIComponent(ut)}}),W}function Cn(se){const W=se.indexOf("?");if(!W)return"";const ue=se.indexOf("#",W);return se.substring(W,ue>0?ue:void 0)}function Yn(se,W){const ue=new rr(se,W);return ue.subscribe.bind(ue)}class rr{constructor(W,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{W(this)}).catch(pe=>{this.error(pe)})}next(W){this.forEachObserver(ue=>{ue.next(W)})}error(W){this.forEachObserver(ue=>{ue.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,ue,pe){let ge;if(void 0===W&&void 0===ue&&void 0===pe)throw new Error("Missing Observer.");ge=function Er(se,W){if("object"!=typeof se||null===se)return!1;for(const ue of W)if(ue in se&&"function"==typeof se[ue])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:ue,complete:pe},void 0===ge.next&&(ge.next=Mn),void 0===ge.error&&(ge.error=Mn),void 0===ge.complete&&(ge.complete=Mn);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch{}}),this.observers.push(ge),ut}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,W)}sendOne(W,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{ue(this.observers[W])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}function gi(se){return se&&se._delegate?se._delegate:se}},3630:(Qt,it,O)=>{"use strict";O.d(it,{c:()=>K,r:()=>fe});const K=(re,_e)=>{re.componentOnReady?re.componentOnReady().then(q=>_e(q)):fe(()=>_e(re))},fe=re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(re):"function"==typeof requestAnimationFrame?requestAnimationFrame(re):setTimeout(re)},191:(Qt,it,O)=>{"use strict";O.d(it,{L:()=>u,a:()=>U,b:()=>K,c:()=>ae,d:()=>Oe,g:()=>re});const u="ionViewWillEnter",U="ionViewDidEnter",K="ionViewWillLeave",ae="ionViewDidLeave",Oe="ionViewWillUnload",re=_e=>_e.classList.contains("ion-page")?_e:_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||_e},4913:(Qt,it,O)=>{"use strict";O.d(it,{c:()=>st});var u=O(1848),U=O(512);let K;const Oe=Le=>Le.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),de=Le=>(void 0===K&&(K=void 0===Le.style.animationName&&void 0!==Le.style.webkitAnimationName?"-webkit-":""),K),Ie=(Le,je,Ye)=>{const gt=je.startsWith("animation")?de(Le):"";Le.style.setProperty(gt+je,Ye)},qe=(Le,je)=>{const Ye=je.startsWith("animation")?de(Le):"";Le.style.removeProperty(Ye+je)},fe=[],ke=(Le=[],je)=>{if(void 0!==je){const Ye=Array.isArray(je)?je:[je];return[...Le,...Ye]}return Le},st=Le=>{let je,Ye,gt,he,Be,Fe,ee,Pe,le,be,Te,At,Pt,Ee=[],re=[],_e=[],q=!1,ze={},Me=[],Je=[],St={},Xt=0,Pn=!1,ot=!1,Ke=!0,Xe=!1,Tt=!0,dt=!1;const Ht=Le,dn=[],vt=[],ht=[],lt=[],bt=[],zt=[],En=[],_n=[],an=[],Nn=[],Tn=[],Zn="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,Gt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zn,wn=()=>Tn,Mn=(B,Z)=>{const xe=Z.findIndex(He=>He.c===B);xe>-1&&Z.splice(xe,1)},ar=(B,Z)=>((null!=Z&&Z.oneTimeCallback?vt:dn).push({c:B,o:Z}),Pt),Bn=()=>{if(Gt)Tn.forEach(B=>{B.cancel()}),Tn.length=0;else{const B=lt.slice();(0,U.r)(()=>{B.forEach(Z=>{qe(Z,"animation-name"),qe(Z,"animation-duration"),qe(Z,"animation-timing-function"),qe(Z,"animation-iteration-count"),qe(Z,"animation-delay"),qe(Z,"animation-play-state"),qe(Z,"animation-fill-mode"),qe(Z,"animation-direction")})})}},hr=()=>{zt.forEach(B=>{null!=B&&B.parentNode&&B.parentNode.removeChild(B)}),zt.length=0},W=()=>void 0!==Be?Be:ee?ee.getFill():"both",ue=()=>void 0!==le?le:void 0!==Fe?Fe:ee?ee.getDirection():"normal",pe=()=>Pn?"linear":void 0!==gt?gt:ee?ee.getEasing():"linear",ge=()=>ot?0:void 0!==be?be:void 0!==Ye?Ye:ee?ee.getDuration():0,ut=()=>void 0!==he?he:ee?ee.getIterations():1,wt=()=>void 0!==Te?Te:void 0!==je?je:ee?ee.getDelay():0,Sn=()=>{0!==Xt&&(Xt--,0===Xt&&((()=>{ye(),an.forEach(mt=>mt()),Nn.forEach(mt=>mt());const B=Ke?1:0,Z=Me,xe=Je,He=St;lt.forEach(mt=>{const rt=mt.classList;Z.forEach(xt=>rt.add(xt)),xe.forEach(xt=>rt.remove(xt));for(const xt in He)He.hasOwnProperty(xt)&&Ie(mt,xt,He[xt])}),be=void 0,le=void 0,Te=void 0,dn.forEach(mt=>mt.c(B,Pt)),vt.forEach(mt=>mt.c(B,Pt)),vt.length=0,Tt=!0,Ke&&(Xe=!0),Ke=!0})(),ee&&ee.animationFinish()))},Gn=(B=!0)=>{hr();const Z=(Le=>(Le.forEach(je=>{for(const Ye in je)if(je.hasOwnProperty(Ye)){const gt=je[Ye];if("easing"===Ye)je["animation-timing-function"]=gt,delete je[Ye];else{const he=Oe(Ye);he!==Ye&&(je[he]=gt,delete je[Ye])}}}),Le))(Ee);lt.forEach(xe=>{if(Z.length>0){const He=((Le=[])=>Le.map(je=>{const Ye=je.offset,gt=[];for(const he in je)je.hasOwnProperty(he)&&"offset"!==he&&gt.push(`${he}: ${je[he]};`);return`${100*Ye}% { ${gt.join(" ")} }`}).join(" "))(Z);At=void 0!==Le?Le:(Le=>{let je=fe.indexOf(Le);return je<0&&(je=fe.push(Le)-1),`ion-animation-${je}`})(He);const mt=((Le,je,Ye)=>{var gt;const he=(Le=>{const je=void 0!==Le.getRootNode?Le.getRootNode():Le;return je.head||je})(Ye),Be=de(Ye),Fe=he.querySelector("#"+Le);if(Fe)return Fe;const Ee=(null!==(gt=Ye.ownerDocument)&&void 0!==gt?gt:document).createElement("style");return Ee.id=Le,Ee.textContent=`@${Be}keyframes ${Le} { ${je} } @${Be}keyframes ${Le}-alt { ${je} }`,he.appendChild(Ee),Ee})(At,He,xe);zt.push(mt),Ie(xe,"animation-duration",`${ge()}ms`),Ie(xe,"animation-timing-function",pe()),Ie(xe,"animation-delay",`${wt()}ms`),Ie(xe,"animation-fill-mode",W()),Ie(xe,"animation-direction",ue());const rt=ut()===1/0?"infinite":ut().toString();Ie(xe,"animation-iteration-count",rt),Ie(xe,"animation-play-state","paused"),B&&Ie(xe,"animation-name",`${mt.id}-alt`),(0,U.r)(()=>{Ie(xe,"animation-name",mt.id||null)})}})},Xn=(B=!0)=>{(()=>{En.forEach(He=>He()),_n.forEach(He=>He());const B=re,Z=_e,xe=ze;lt.forEach(He=>{const mt=He.classList;B.forEach(rt=>mt.add(rt)),Z.forEach(rt=>mt.remove(rt));for(const rt in xe)xe.hasOwnProperty(rt)&&Ie(He,rt,xe[rt])})})(),Ee.length>0&&(Gt?(lt.forEach(B=>{const Z=B.animate(Ee,{id:Ht,delay:wt(),duration:ge(),easing:pe(),iterations:ut(),fill:W(),direction:ue()});Z.pause(),Tn.push(Z)}),Tn.length>0&&(Tn[0].onfinish=()=>{Sn()})):Gn(B)),q=!0},pr=B=>{if(B=Math.min(Math.max(B,0),.9999),Gt)Tn.forEach(Z=>{Z.currentTime=Z.effect.getComputedTiming().delay+ge()*B,Z.pause()});else{const Z=`-${ge()*B}ms`;lt.forEach(xe=>{Ee.length>0&&(Ie(xe,"animation-delay",Z),Ie(xe,"animation-play-state","paused"))})}},di=B=>{Tn.forEach(Z=>{Z.effect.updateTiming({delay:wt(),duration:ge(),easing:pe(),iterations:ut(),fill:W(),direction:ue()})}),void 0!==B&&pr(B)},Ri=(B=!0,Z)=>{(0,U.r)(()=>{lt.forEach(xe=>{Ie(xe,"animation-name",At||null),Ie(xe,"animation-duration",`${ge()}ms`),Ie(xe,"animation-timing-function",pe()),Ie(xe,"animation-delay",void 0!==Z?`-${Z*ge()}ms`:`${wt()}ms`),Ie(xe,"animation-fill-mode",W()||null),Ie(xe,"animation-direction",ue()||null);const He=ut()===1/0?"infinite":ut().toString();Ie(xe,"animation-iteration-count",He),B&&Ie(xe,"animation-name",`${At}-alt`),(0,U.r)(()=>{Ie(xe,"animation-name",At||null)})})})},Dr=(B=!1,Z=!0,xe)=>(B&&bt.forEach(He=>{He.update(B,Z,xe)}),Gt?di(xe):Ri(Z,xe),Pt),jn=()=>{q&&(Gt?Tn.forEach(B=>{B.pause()}):lt.forEach(B=>{Ie(B,"animation-play-state","paused")}),dt=!0)},we=()=>{Pe=void 0,Sn()},ye=()=>{Pe&&clearTimeout(Pe)},tn=B=>new Promise(Z=>{null!=B&&B.sync&&(ot=!0,ar(()=>ot=!1,{oneTimeCallback:!0})),q||Xn(),Xe&&(Gt?(pr(0),di()):Ri(),Xe=!1),Tt&&(Xt=bt.length+1,Tt=!1);const xe=()=>{Mn(He,vt),Z()},He=()=>{Mn(xe,ht),Z()};ar(He,{oneTimeCallback:!0}),((B,Z)=>{ht.push({c:B,o:{oneTimeCallback:!0}})})(xe),bt.forEach(mt=>{mt.play()}),Gt?(Tn.forEach(B=>{B.play()}),(0===Ee.length||0===lt.length)&&Sn()):(()=>{if(ye(),(0,U.r)(()=>{lt.forEach(B=>{Ee.length>0&&Ie(B,"animation-play-state","running")})}),0===Ee.length||0===lt.length)Sn();else{const B=wt()||0,Z=ge()||0,xe=ut()||1;isFinite(xe)&&(Pe=setTimeout(we,B+Z*xe+100)),((Le,je)=>{let Ye;const gt={passive:!0},Be=Fe=>{Le===Fe.target&&(Ye&&Ye(),ye(),(0,U.r)(()=>{lt.forEach(B=>{qe(B,"animation-duration"),qe(B,"animation-delay"),qe(B,"animation-play-state")}),(0,U.r)(Sn)}))};Le&&(Le.addEventListener("webkitAnimationEnd",Be,gt),Le.addEventListener("animationend",Be,gt),Ye=()=>{Le.removeEventListener("webkitAnimationEnd",Be,gt),Le.removeEventListener("animationend",Be,gt)})})(lt[0])}})(),dt=!1}),un=(B,Z)=>{const xe=Ee[0];return void 0===xe||void 0!==xe.offset&&0!==xe.offset?Ee=[{offset:0,[B]:Z},...Ee]:xe[B]=Z,Pt};return Pt={parentAnimation:ee,elements:lt,childAnimations:bt,id:Ht,animationFinish:Sn,from:un,to:(B,Z)=>{const xe=Ee[Ee.length-1];return void 0===xe||void 0!==xe.offset&&1!==xe.offset?Ee=[...Ee,{offset:1,[B]:Z}]:xe[B]=Z,Pt},fromTo:(B,Z,xe)=>un(B,Z).to(B,xe),parent:B=>(ee=B,Pt),play:tn,pause:()=>(bt.forEach(B=>{B.pause()}),jn(),Pt),stop:()=>{bt.forEach(B=>{B.stop()}),q&&(Bn(),q=!1),Pn=!1,ot=!1,Tt=!0,le=void 0,be=void 0,Te=void 0,Xt=0,Xe=!1,Ke=!0,dt=!1,ht.forEach(B=>B.c(0,Pt)),ht.length=0},destroy:B=>(bt.forEach(Z=>{Z.destroy(B)}),(B=>{Bn(),B&&hr()})(B),lt.length=0,bt.length=0,Ee.length=0,dn.length=0,vt.length=0,q=!1,Tt=!0,Pt),keyframes:B=>{const Z=Ee!==B;return Ee=B,Z&&(B=>{Gt?wn().forEach(Z=>{const xe=Z.effect;if(xe.setKeyframes)xe.setKeyframes(B);else{const He=new KeyframeEffect(xe.target,B,xe.getTiming());Z.effect=He}}):Gn()})(Ee),Pt},addAnimation:B=>{if(null!=B)if(Array.isArray(B))for(const Z of B)Z.parent(Pt),bt.push(Z);else B.parent(Pt),bt.push(B);return Pt},addElement:B=>{if(null!=B)if(1===B.nodeType)lt.push(B);else if(B.length>=0)for(let Z=0;Z<B.length;Z++)lt.push(B[Z]);else console.error("Invalid addElement value");return Pt},update:Dr,fill:B=>(Be=B,Dr(!0),Pt),direction:B=>(Fe=B,Dr(!0),Pt),iterations:B=>(he=B,Dr(!0),Pt),duration:B=>(!Gt&&0===B&&(B=1),Ye=B,Dr(!0),Pt),easing:B=>(gt=B,Dr(!0),Pt),delay:B=>(je=B,Dr(!0),Pt),getWebAnimations:wn,getKeyframes:()=>Ee,getFill:W,getDirection:ue,getDelay:wt,getIterations:ut,getEasing:pe,getDuration:ge,afterAddRead:B=>(an.push(B),Pt),afterAddWrite:B=>(Nn.push(B),Pt),afterClearStyles:(B=[])=>{for(const Z of B)St[Z]="";return Pt},afterStyles:(B={})=>(St=B,Pt),afterRemoveClass:B=>(Je=ke(Je,B),Pt),afterAddClass:B=>(Me=ke(Me,B),Pt),beforeAddRead:B=>(En.push(B),Pt),beforeAddWrite:B=>(_n.push(B),Pt),beforeClearStyles:(B=[])=>{for(const Z of B)ze[Z]="";return Pt},beforeStyles:(B={})=>(ze=B,Pt),beforeRemoveClass:B=>(_e=ke(_e,B),Pt),beforeAddClass:B=>(re=ke(re,B),Pt),onFinish:ar,isRunning:()=>0!==Xt&&!dt,progressStart:(B=!1,Z)=>(bt.forEach(xe=>{xe.progressStart(B,Z)}),jn(),Pn=B,q||Xn(),Dr(!1,!0,Z),Pt),progressStep:B=>(bt.forEach(Z=>{Z.progressStep(B)}),pr(B),Pt),progressEnd:(B,Z,xe)=>(Pn=!1,bt.forEach(He=>{He.progressEnd(B,Z,xe)}),void 0!==xe&&(be=xe),Xe=!1,Ke=!0,0===B?(le="reverse"===ue()?"normal":"reverse","reverse"===le&&(Ke=!1),Gt?(Dr(),pr(1-Z)):(Te=(1-Z)*ge()*-1,Dr(!1,!1))):1===B&&(Gt?(Dr(),pr(Z)):(Te=Z*ge()*-1,Dr(!1,!1))),void 0!==B&&!ee&&tn(),Pt)}}},8958:(Qt,it,O)=>{"use strict";O.d(it,{E:()=>Ce,a:()=>u,s:()=>qe});const u=fe=>{try{if(fe instanceof Ie)return fe.value;if(!ae()||"string"!=typeof fe||""===fe)return fe;if(fe.includes("onload="))return"";const Ne=document.createDocumentFragment(),$e=document.createElement("div");Ne.appendChild($e),$e.innerHTML=fe,de.forEach(Le=>{const je=Ne.querySelectorAll(Le);for(let Ye=je.length-1;Ye>=0;Ye--){const gt=je[Ye];gt.parentNode?gt.parentNode.removeChild(gt):Ne.removeChild(gt);const he=K(gt);for(let Be=0;Be<he.length;Be++)U(he[Be])}});const Ve=K(Ne);for(let Le=0;Le<Ve.length;Le++)U(Ve[Le]);const ke=document.createElement("div");ke.appendChild(Ne);const st=ke.querySelector("div");return null!==st?st.innerHTML:ke.innerHTML}catch(Ne){return console.error(Ne),""}},U=fe=>{if(fe.nodeType&&1!==fe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(fe.attributes instanceof NamedNodeMap))return void fe.remove();for(let $e=fe.attributes.length-1;$e>=0;$e--){const Ve=fe.attributes.item($e),ke=Ve.name;if(!Oe.includes(ke.toLowerCase())){fe.removeAttribute(ke);continue}const st=Ve.value,Le=fe[ke];(null!=st&&st.toLowerCase().includes("javascript:")||null!=Le&&Le.toLowerCase().includes("javascript:"))&&fe.removeAttribute(ke)}const Ne=K(fe);for(let $e=0;$e<Ne.length;$e++)U(Ne[$e])},K=fe=>null!=fe.children?fe.children:fe.childNodes,ae=()=>{var fe;const Ne=window,$e=null===(fe=null==Ne?void 0:Ne.Ionic)||void 0===fe?void 0:fe.config;return!$e||($e.get?$e.get("sanitizerEnabled",!0):!0===$e.sanitizerEnabled||void 0===$e.sanitizerEnabled)},Oe=["class","id","href","src","name","slot"],de=["script","style","iframe","meta","link","object","embed"];class Ie{constructor(Ne){this.value=Ne}}const qe=fe=>{const Ne=window,$e=Ne.Ionic;if(!$e||!$e.config||"Object"===$e.config.constructor.name)return Ne.Ionic=Ne.Ionic||{},Ne.Ionic.config=Object.assign(Object.assign({},Ne.Ionic.config),fe),Ne.Ionic.config},Ce=!1},3254:(Qt,it,O)=>{"use strict";O.d(it,{C:()=>Oe,a:()=>K,d:()=>ae});var u=O(5861),U=O(512);const K=function(){var de=(0,u.Z)(function*(Ie,qe,Ge,Ce,fe,Ne){var $e;if(Ie)return Ie.attachViewToDom(qe,Ge,fe,Ce);if(!(Ne||"string"==typeof Ge||Ge instanceof HTMLElement))throw new Error("framework delegate is missing");const Ve="string"==typeof Ge?null===($e=qe.ownerDocument)||void 0===$e?void 0:$e.createElement(Ge):Ge;return Ce&&Ce.forEach(ke=>Ve.classList.add(ke)),fe&&Object.assign(Ve,fe),qe.appendChild(Ve),yield new Promise(ke=>(0,U.c)(Ve,ke)),Ve});return function(qe,Ge,Ce,fe,Ne,$e){return de.apply(this,arguments)}}(),ae=(de,Ie)=>{if(Ie){if(de)return de.removeViewFromDom(Ie.parentElement,Ie);Ie.remove()}return Promise.resolve()},Oe=()=>{let de,Ie;return{attachViewToDom:function(){var Ce=(0,u.Z)(function*(fe,Ne,$e={},Ve=[]){var ke,st;let Le;if(de=fe,Ne){const Ye="string"==typeof Ne?null===(ke=de.ownerDocument)||void 0===ke?void 0:ke.createElement(Ne):Ne;Ve.forEach(gt=>Ye.classList.add(gt)),Object.assign(Ye,$e),de.appendChild(Ye),Le=Ye,yield new Promise(gt=>(0,U.c)(Ye,gt))}else if(de.children.length>0&&("ION-MODAL"===de.tagName||"ION-POPOVER"===de.tagName)&&!(Le=de.children[0]).classList.contains("ion-delegate-host")){const gt=null===(st=de.ownerDocument)||void 0===st?void 0:st.createElement("div");gt.classList.add("ion-delegate-host"),Ve.forEach(he=>gt.classList.add(he)),gt.append(...de.children),de.appendChild(gt),Le=gt}const je=document.querySelector("ion-app")||document.body;return Ie=document.createComment("ionic teleport"),de.parentNode.insertBefore(Ie,de),je.appendChild(de),null!=Le?Le:de});return function(Ne,$e){return Ce.apply(this,arguments)}}(),removeViewFromDom:()=>(de&&Ie&&(Ie.parentNode.insertBefore(de,Ie),Ie.remove()),Promise.resolve())}}},2019:(Qt,it,O)=>{"use strict";O.d(it,{G:()=>Oe});class U{constructor(Ie,qe,Ge,Ce,fe){this.id=qe,this.name=Ge,this.disableScroll=fe,this.priority=1e6*Ce+qe,this.ctrl=Ie}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ie=this.ctrl.capture(this.name,this.id,this.priority);return Ie&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ie}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(Ie,qe,Ge,Ce){this.id=qe,this.disable=Ge,this.disableScroll=Ce,this.ctrl=Ie}block(){if(this.ctrl){if(this.disable)for(const Ie of this.disable)this.ctrl.disableGesture(Ie,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ie of this.disable)this.ctrl.enableGesture(Ie,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ae="backdrop-no-scroll",Oe=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ie){var qe;return new U(this,this.newID(),Ie.name,null!==(qe=Ie.priority)&&void 0!==qe?qe:0,!!Ie.disableScroll)}createBlocker(Ie={}){return new K(this,this.newID(),Ie.disable,!!Ie.disableScroll)}start(Ie,qe,Ge){return this.canStart(Ie)?(this.requestedStart.set(qe,Ge),!0):(this.requestedStart.delete(qe),!1)}capture(Ie,qe,Ge){if(!this.start(Ie,qe,Ge))return!1;const Ce=this.requestedStart;let fe=-1e4;if(Ce.forEach(Ne=>{fe=Math.max(fe,Ne)}),fe===Ge){this.capturedId=qe,Ce.clear();const Ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ie}});return document.dispatchEvent(Ne),!0}return Ce.delete(qe),!1}release(Ie){this.requestedStart.delete(Ie),this.capturedId===Ie&&(this.capturedId=void 0)}disableGesture(Ie,qe){let Ge=this.disabledGestures.get(Ie);void 0===Ge&&(Ge=new Set,this.disabledGestures.set(Ie,Ge)),Ge.add(qe)}enableGesture(Ie,qe){const Ge=this.disabledGestures.get(Ie);void 0!==Ge&&Ge.delete(qe)}disableScroll(Ie){this.disabledScroll.add(Ie),1===this.disabledScroll.size&&document.body.classList.add(ae)}enableScroll(Ie){this.disabledScroll.delete(Ie),0===this.disabledScroll.size&&document.body.classList.remove(ae)}canStart(Ie){return!(void 0!==this.capturedId||this.isDisabled(Ie))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ie){const qe=this.disabledGestures.get(Ie);return!!(qe&&qe.size>0)}newID(){return this.gestureId++,this.gestureId}}},4393:(Qt,it,O)=>{"use strict";O.r(it),O.d(it,{MENU_BACK_BUTTON_PRIORITY:()=>Oe,OVERLAY_BACK_BUTTON_PRIORITY:()=>ae,blockHardwareBackButton:()=>U,startHardwareBackButton:()=>K});var u=O(5861);const U=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const de=document;let Ie=!1;de.addEventListener("backbutton",()=>{if(Ie)return;let qe=0,Ge=[];const Ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($e,Ve){Ge.push({priority:$e,handler:Ve,id:qe++})}}});de.dispatchEvent(Ce);const fe=function(){var $e=(0,u.Z)(function*(Ve){try{if(null!=Ve&&Ve.handler){const ke=Ve.handler(Ne);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return $e.apply(this,arguments)}}(),Ne=()=>{if(Ge.length>0){let $e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ge.forEach(Ve=>{Ve.priority>=$e.priority&&($e=Ve)}),Ie=!0,Ge=Ge.filter(Ve=>Ve.id!==$e.id),fe($e).then(()=>Ie=!1)}};Ne()})},ae=100,Oe=99},512:(Qt,it,O)=>{"use strict";O.d(it,{a:()=>qe,b:()=>Ge,c:()=>K,d:()=>st,e:()=>ke,f:()=>Ve,g:()=>Ce,h:()=>$e,i:()=>Ie,j:()=>Be,k:()=>Oe,l:()=>Le,m:()=>ae,n:()=>Ne,o:()=>je,p:()=>he,q:()=>Fe,r:()=>fe,s:()=>Ee,t:()=>u,u:()=>Ye,v:()=>gt});const u=(re,_e=0)=>new Promise(q=>{U(re,_e,q)}),U=(re,_e=0,q)=>{let ee,ze;const Me={passive:!0},St=()=>{ee&&ee()},Xt=Pn=>{(void 0===Pn||re===Pn.target)&&(St(),q(Pn))};return re&&(re.addEventListener("webkitTransitionEnd",Xt,Me),re.addEventListener("transitionend",Xt,Me),ze=setTimeout(Xt,_e+500),ee=()=>{ze&&(clearTimeout(ze),ze=void 0),re.removeEventListener("webkitTransitionEnd",Xt,Me),re.removeEventListener("transitionend",Xt,Me)}),St},K=(re,_e)=>{re.componentOnReady?re.componentOnReady().then(q=>_e(q)):fe(()=>_e(re))},ae=re=>void 0!==re.componentOnReady,Oe=(re,_e=[])=>{const q={};return _e.forEach(ee=>{re.hasAttribute(ee)&&(null!==re.getAttribute(ee)&&(q[ee]=re.getAttribute(ee)),re.removeAttribute(ee))}),q},de=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ie=(re,_e)=>{let q=de;return _e&&_e.length>0&&(q=q.filter(ee=>!_e.includes(ee))),Oe(re,q)},qe=(re,_e,q,ee)=>{var ze;if(typeof window<"u"){const Me=window,Je=null===(ze=null==Me?void 0:Me.Ionic)||void 0===ze?void 0:ze.config;if(Je){const St=Je.get("_ael");if(St)return St(re,_e,q,ee);if(Je._ael)return Je._ael(re,_e,q,ee)}}return re.addEventListener(_e,q,ee)},Ge=(re,_e,q,ee)=>{var ze;if(typeof window<"u"){const Me=window,Je=null===(ze=null==Me?void 0:Me.Ionic)||void 0===ze?void 0:ze.config;if(Je){const St=Je.get("_rel");if(St)return St(re,_e,q,ee);if(Je._rel)return Je._rel(re,_e,q,ee)}}return re.removeEventListener(_e,q,ee)},Ce=(re,_e=re)=>re.shadowRoot||_e,fe=re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(re):"function"==typeof requestAnimationFrame?requestAnimationFrame(re):setTimeout(re),Ne=re=>!!re.shadowRoot&&!!re.attachShadow,$e=re=>{const _e=re.closest("ion-item");return _e?_e.querySelector("ion-label"):null},Ve=re=>{if(re.focus(),re.classList.contains("ion-focusable")){const _e=re.closest("ion-app");_e&&_e.setFocus([re])}},ke=(re,_e)=>{let q;const ee=re.getAttribute("aria-labelledby"),ze=re.id;let Me=null!==ee&&""!==ee.trim()?ee:_e+"-lbl",Je=null!==ee&&""!==ee.trim()?document.getElementById(ee):$e(re);return Je?(null===ee&&(Je.id=Me),q=Je.textContent,Je.setAttribute("aria-hidden","true")):""!==ze.trim()&&(Je=document.querySelector(`label[for="${ze}"]`),Je&&(""!==Je.id?Me=Je.id:Je.id=Me=`${ze}-lbl`,q=Je.textContent)),{label:Je,labelId:Me,labelText:q}},st=(re,_e,q,ee,ze)=>{if(re||Ne(_e)){let Me=_e.querySelector("input.aux-input");Me||(Me=_e.ownerDocument.createElement("input"),Me.type="hidden",Me.classList.add("aux-input"),_e.appendChild(Me)),Me.disabled=ze,Me.name=q,Me.value=ee||""}},Le=(re,_e,q)=>Math.max(re,Math.min(_e,q)),je=(re,_e)=>{if(!re){const q="ASSERT: "+_e;throw console.error(q),new Error(q)}},Ye=re=>re.timeStamp||Date.now(),gt=re=>{if(re){const _e=re.changedTouches;if(_e&&_e.length>0){const q=_e[0];return{x:q.clientX,y:q.clientY}}if(void 0!==re.pageX)return{x:re.pageX,y:re.pageY}}return{x:0,y:0}},he=re=>{const _e="rtl"===document.dir;switch(re){case"start":return _e;case"end":return!_e;default:throw new Error(`"${re}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Be=(re,_e)=>{const q=re._original||re;return{_original:re,emit:Fe(q.emit.bind(q),_e)}},Fe=(re,_e=0)=>{let q;return(...ee)=>{clearTimeout(q),q=setTimeout(re,_e,...ee)}},Ee=(re,_e)=>{if(null!=re||(re={}),null!=_e||(_e={}),re===_e)return!0;const q=Object.keys(re);if(q.length!==Object.keys(_e).length)return!1;for(const ee of q)if(!(ee in _e)||re[ee]!==_e[ee])return!1;return!0}},5613:(Qt,it,O)=>{"use strict";O.d(it,{m:()=>$e});var u=O(5861),U=O(1848),K=O(4393),ae=O(2400),Oe=O(512),de=O(2905),Ie=O(4913);const qe=Ve=>(0,Ie.c)().duration(Ve?400:300),Ge=Ve=>{let ke,st;const Le=Ve.width+8,je=(0,Ie.c)(),Ye=(0,Ie.c)();Ve.isEndSide?(ke=Le+"px",st="0px"):(ke=-Le+"px",st="0px"),je.addElement(Ve.menuInnerEl).fromTo("transform",`translateX(${ke})`,`translateX(${st})`);const he="ios"===(0,de.b)(Ve),Be=he?.2:.25;return Ye.addElement(Ve.backdropEl).fromTo("opacity",.01,Be),qe(he).addAnimation([je,Ye])},Ce=Ve=>{let ke,st;const Le=(0,de.b)(Ve),je=Ve.width;Ve.isEndSide?(ke=-je+"px",st=je+"px"):(ke=je+"px",st=-je+"px");const Ye=(0,Ie.c)().addElement(Ve.menuInnerEl).fromTo("transform",`translateX(${st})`,"translateX(0px)"),gt=(0,Ie.c)().addElement(Ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`),he=(0,Ie.c)().addElement(Ve.backdropEl).fromTo("opacity",.01,.32);return qe("ios"===Le).addAnimation([Ye,gt,he])},fe=Ve=>{const ke=(0,de.b)(Ve),st=Ve.width*(Ve.isEndSide?-1:1)+"px",Le=(0,Ie.c)().addElement(Ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${st})`);return qe("ios"===ke).addAnimation(Le)},$e=(()=>{const Ve=new Map,ke=[],st=function(){var le=(0,u.Z)(function*(be){const Te=yield Fe(be,!0);return!!Te&&Te.open()});return function(Te){return le.apply(this,arguments)}}(),Le=function(){var le=(0,u.Z)(function*(be){const Te=yield void 0!==be?Fe(be,!0):Ee();return void 0!==Te&&Te.close()});return function(Te){return le.apply(this,arguments)}}(),je=function(){var le=(0,u.Z)(function*(be){const Te=yield Fe(be,!0);return!!Te&&Te.toggle()});return function(Te){return le.apply(this,arguments)}}(),Ye=function(){var le=(0,u.Z)(function*(be,Te){const Ke=yield Fe(Te);return Ke&&(Ke.disabled=!be),Ke});return function(Te,Ke){return le.apply(this,arguments)}}(),gt=function(){var le=(0,u.Z)(function*(be,Te){const Ke=yield Fe(Te);return Ke&&(Ke.swipeGesture=be),Ke});return function(Te,Ke){return le.apply(this,arguments)}}(),he=function(){var le=(0,u.Z)(function*(be){if(null!=be){const Te=yield Fe(be);return void 0!==Te&&Te.isOpen()}return void 0!==(yield Ee())});return function(Te){return le.apply(this,arguments)}}(),Be=function(){var le=(0,u.Z)(function*(be){const Te=yield Fe(be);return!!Te&&!Te.disabled});return function(Te){return le.apply(this,arguments)}}(),Fe=function(){var le=(0,u.Z)(function*(be,Te=!1){if(yield Pe(),"start"===be||"end"===be){const Xe=ke.filter(At=>At.side===be&&!At.disabled);if(Xe.length>=1)return Xe.length>1&&Te&&(0,ae.p)(`menuController queried for a menu on the "${be}" side, but ${Xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Xe.map(At=>At.el)),Xe[0].el;const Tt=ke.filter(At=>At.side===be);if(Tt.length>=1)return Tt.length>1&&Te&&(0,ae.p)(`menuController queried for a menu on the "${be}" side, but ${Tt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Tt.map(At=>At.el)),Tt[0].el}else if(null!=be)return ot(Xe=>Xe.menuId===be);return ot(Xe=>!Xe.disabled)||(ke.length>0?ke[0].el:void 0)});return function(Te){return le.apply(this,arguments)}}(),Ee=function(){var le=(0,u.Z)(function*(){return yield Pe(),St()});return function(){return le.apply(this,arguments)}}(),re=function(){var le=(0,u.Z)(function*(){return yield Pe(),Xt()});return function(){return le.apply(this,arguments)}}(),_e=function(){var le=(0,u.Z)(function*(){return yield Pe(),Pn()});return function(){return le.apply(this,arguments)}}(),q=(le,be)=>{Ve.set(le,be)},Me=function(){var le=(0,u.Z)(function*(be,Te,Ke){if(Pn())return!1;if(Te){const Xe=yield Ee();Xe&&be.el!==Xe&&(yield Xe.setOpen(!1,!1))}return be._setOpen(Te,Ke)});return function(Te,Ke,Xe){return le.apply(this,arguments)}}(),St=()=>ot(le=>le._isOpen),Xt=()=>ke.map(le=>le.el),Pn=()=>ke.some(le=>le.isAnimating),ot=le=>{const be=ke.find(le);if(void 0!==be)return be.el},Pe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(le=>new Promise(be=>(0,Oe.c)(le,be))));return q("reveal",fe),q("push",Ce),q("overlay",Ge),null==U.d||U.d.addEventListener("ionBackButton",le=>{const be=St();be&&le.detail.register(K.MENU_BACK_BUTTON_PRIORITY,()=>be.close())}),{registerAnimation:q,get:Fe,getMenus:re,getOpen:Ee,isEnabled:Be,swipeGesture:gt,isAnimating:_e,isOpen:he,enable:Ye,toggle:je,close:Le,open:st,_getOpenSync:St,_createAnimation:(le,be)=>{const Te=Ve.get(le);if(!Te)throw new Error("animation not registered");return Te(be)},_register:le=>{ke.indexOf(le)<0&&ke.push(le)},_unregister:le=>{const be=ke.indexOf(le);be>-1&&ke.splice(be,1)},_setOpen:Me}})()},6535:(Qt,it,O)=>{"use strict";O.r(it),O.d(it,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>Ge});var u=O(2019);const U=($e,Ve,ke,st)=>{const Le=K($e)?{capture:!!st.capture,passive:!!st.passive}:!!st.capture;let je,Ye;return $e.__zone_symbol__addEventListener?(je="__zone_symbol__addEventListener",Ye="__zone_symbol__removeEventListener"):(je="addEventListener",Ye="removeEventListener"),$e[je](Ve,ke,Le),()=>{$e[Ye](Ve,ke,Le)}},K=$e=>{if(void 0===ae)try{const Ve=Object.defineProperty({},"passive",{get:()=>{ae=!0}});$e.addEventListener("optsTest",()=>{},Ve)}catch{ae=!1}return!!ae};let ae;const Ie=$e=>$e instanceof Document?$e:$e.ownerDocument,Ge=$e=>{let Ve=!1,ke=!1,st=!0,Le=!1;const je=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$e),Ye=je.canStart,gt=je.onWillStart,he=je.onStart,Be=je.onEnd,Fe=je.notCaptured,Ee=je.onMove,re=je.threshold,_e=je.passive,q=je.blurOnStart,ee={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ze=(($e,Ve,ke)=>{const st=ke*(Math.PI/180),Le="x"===$e,je=Math.cos(st),Ye=Ve*Ve;let gt=0,he=0,Be=!1,Fe=0;return{start(Ee,re){gt=Ee,he=re,Fe=0,Be=!0},detect(Ee,re){if(!Be)return!1;const _e=Ee-gt,q=re-he,ee=_e*_e+q*q;if(ee<Ye)return!1;const ze=Math.sqrt(ee),Me=(Le?_e:q)/ze;return Fe=Me>je?1:Me<-je?-1:0,Be=!1,!0},isGesture:()=>0!==Fe,getDirection:()=>Fe}})(je.direction,je.threshold,je.maxAngle),Me=u.G.createGesture({name:$e.gestureName,priority:$e.gesturePriority,disableScroll:$e.disableScroll}),Xt=()=>{Ve&&(Le=!1,Ee&&Ee(ee))},Pn=()=>!!Me.capture()&&(Ve=!0,st=!1,ee.startX=ee.currentX,ee.startY=ee.currentY,ee.startTime=ee.currentTime,gt?gt(ee).then(Pe):Pe(),!0),Pe=()=>{q&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;null!=Xe&&Xe.blur&&Xe.blur()}})(),he&&he(ee),st=!0},le=()=>{Ve=!1,ke=!1,Le=!1,st=!0,Me.release()},be=Xe=>{const Tt=Ve,At=st;if(le(),At){if(Ce(ee,Xe),Tt)return void(Be&&Be(ee));Fe&&Fe(ee)}},Te=(($e,Ve,ke,st,Le)=>{let je,Ye,gt,he,Be,Fe,Ee,re=0;const _e=ot=>{re=Date.now()+2e3,Ve(ot)&&(!Ye&&ke&&(Ye=U($e,"touchmove",ke,Le)),gt||(gt=U(ot.target,"touchend",ee,Le)),he||(he=U(ot.target,"touchcancel",ee,Le)))},q=ot=>{re>Date.now()||Ve(ot)&&(!Fe&&ke&&(Fe=U(Ie($e),"mousemove",ke,Le)),Ee||(Ee=U(Ie($e),"mouseup",ze,Le)))},ee=ot=>{Me(),st&&st(ot)},ze=ot=>{Je(),st&&st(ot)},Me=()=>{Ye&&Ye(),gt&&gt(),he&&he(),Ye=gt=he=void 0},Je=()=>{Fe&&Fe(),Ee&&Ee(),Fe=Ee=void 0},St=()=>{Me(),Je()},Xt=(ot=!0)=>{ot?(je||(je=U($e,"touchstart",_e,Le)),Be||(Be=U($e,"mousedown",q,Le))):(je&&je(),Be&&Be(),je=Be=void 0,St())};return{enable:Xt,stop:St,destroy:()=>{Xt(!1),st=ke=Ve=void 0}}})(je.el,Xe=>{const Tt=Ne(Xe);return!(ke||!st||(fe(Xe,ee),ee.startX=ee.currentX,ee.startY=ee.currentY,ee.startTime=ee.currentTime=Tt,ee.velocityX=ee.velocityY=ee.deltaX=ee.deltaY=0,ee.event=Xe,Ye&&!1===Ye(ee))||(Me.release(),!Me.start()))&&(ke=!0,0===re?Pn():(ze.start(ee.startX,ee.startY),!0))},Xe=>{Ve?!Le&&st&&(Le=!0,Ce(ee,Xe),requestAnimationFrame(Xt)):(Ce(ee,Xe),ze.detect(ee.currentX,ee.currentY)&&(!ze.isGesture()||!Pn())&&Ke())},be,{capture:!1,passive:_e}),Ke=()=>{le(),Te.stop(),Fe&&Fe(ee)};return{enable(Xe=!0){Xe||(Ve&&be(void 0),le()),Te.enable(Xe)},destroy(){Me.destroy(),Te.destroy()}}},Ce=($e,Ve)=>{if(!Ve)return;const ke=$e.currentX,st=$e.currentY,Le=$e.currentTime;fe(Ve,$e);const je=$e.currentX,Ye=$e.currentY,he=($e.currentTime=Ne(Ve))-Le;if(he>0&&he<100){const Fe=(Ye-st)/he;$e.velocityX=(je-ke)/he*.7+.3*$e.velocityX,$e.velocityY=.7*Fe+.3*$e.velocityY}$e.deltaX=je-$e.startX,$e.deltaY=Ye-$e.startY,$e.event=Ve},fe=($e,Ve)=>{let ke=0,st=0;if($e){const Le=$e.changedTouches;if(Le&&Le.length>0){const je=Le[0];ke=je.clientX,st=je.clientY}else void 0!==$e.pageX&&(ke=$e.pageX,st=$e.pageY)}Ve.currentX=ke,Ve.currentY=st},Ne=$e=>$e.timeStamp||Date.now()},2325:(Qt,it,O)=>{"use strict";O.d(it,{b:()=>de,c:()=>Ie,d:()=>qe,e:()=>re,g:()=>ee,l:()=>Fe,s:()=>_e,t:()=>fe,w:()=>Ee});var u=O(5861),U=O(771),K=O(512);const de="ionViewWillLeave",Ie="ionViewDidLeave",qe="ionViewWillUnload",fe=ze=>new Promise((Me,Je)=>{(0,U.w)(()=>{Ne(ze),$e(ze).then(St=>{St.animation&&St.animation.destroy(),Ve(ze),Me(St)},St=>{Ve(ze),Je(St)})})}),Ne=ze=>{const Me=ze.enteringEl,Je=ze.leavingEl;q(Me,Je,ze.direction),ze.showGoBack?Me.classList.add("can-go-back"):Me.classList.remove("can-go-back"),_e(Me,!1),Me.style.setProperty("pointer-events","none"),Je&&(_e(Je,!1),Je.style.setProperty("pointer-events","none"))},$e=function(){var ze=(0,u.Z)(function*(Me){const Je=yield ke(Me);return Je&&U.B.isBrowser?st(Je,Me):Le(Me)});return function(Je){return ze.apply(this,arguments)}}(),Ve=ze=>{const Me=ze.enteringEl,Je=ze.leavingEl;Me.classList.remove("ion-page-invisible"),Me.style.removeProperty("pointer-events"),void 0!==Je&&(Je.classList.remove("ion-page-invisible"),Je.style.removeProperty("pointer-events"))},ke=function(){var ze=(0,u.Z)(function*(Me){return Me.leavingEl&&Me.animated&&0!==Me.duration?Me.animationBuilder?Me.animationBuilder:"ios"===Me.mode?(yield Promise.resolve().then(O.bind(O,3433))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,6615))).mdTransitionAnimation:void 0});return function(Je){return ze.apply(this,arguments)}}(),st=function(){var ze=(0,u.Z)(function*(Me,Je){yield je(Je,!0);const St=Me(Je.baseEl,Je);he(Je.enteringEl,Je.leavingEl);const Xt=yield gt(St,Je);return Je.progressCallback&&Je.progressCallback(void 0),Xt&&Be(Je.enteringEl,Je.leavingEl),{hasCompleted:Xt,animation:St}});return function(Je,St){return ze.apply(this,arguments)}}(),Le=function(){var ze=(0,u.Z)(function*(Me){const Je=Me.enteringEl,St=Me.leavingEl;return yield je(Me,!1),he(Je,St),Be(Je,St),{hasCompleted:!0}});return function(Je){return ze.apply(this,arguments)}}(),je=function(){var ze=(0,u.Z)(function*(Me,Je){(void 0!==Me.deepWait?Me.deepWait:Je)&&(yield Promise.all([re(Me.enteringEl),re(Me.leavingEl)])),yield Ye(Me.viewIsReady,Me.enteringEl)});return function(Je,St){return ze.apply(this,arguments)}}(),Ye=function(){var ze=(0,u.Z)(function*(Me,Je){Me&&(yield Me(Je))});return function(Je,St){return ze.apply(this,arguments)}}(),gt=(ze,Me)=>{const Je=Me.progressCallback,St=new Promise(Xt=>{ze.onFinish(Pn=>Xt(1===Pn))});return Je?(ze.progressStart(!0),Je(ze)):ze.play(),St},he=(ze,Me)=>{Fe(Me,de),Fe(ze,"ionViewWillEnter")},Be=(ze,Me)=>{Fe(ze,"ionViewDidEnter"),Fe(Me,Ie)},Fe=(ze,Me)=>{if(ze){const Je=new CustomEvent(Me,{bubbles:!1,cancelable:!1});ze.dispatchEvent(Je)}},Ee=()=>new Promise(ze=>(0,K.r)(()=>(0,K.r)(()=>ze()))),re=function(){var ze=(0,u.Z)(function*(Me){const Je=Me;if(Je){if(null!=Je.componentOnReady){if(null!=(yield Je.componentOnReady()))return}else if(null!=Je.__registerHost)return void(yield new Promise(Xt=>(0,K.r)(Xt)));yield Promise.all(Array.from(Je.children).map(re))}});return function(Je){return ze.apply(this,arguments)}}(),_e=(ze,Me)=>{Me?(ze.setAttribute("aria-hidden","true"),ze.classList.add("ion-page-hidden")):(ze.hidden=!1,ze.removeAttribute("aria-hidden"),ze.classList.remove("ion-page-hidden"))},q=(ze,Me,Je)=>{void 0!==ze&&(ze.style.zIndex="back"===Je?"99":"101"),void 0!==Me&&(Me.style.zIndex="100")},ee=ze=>ze.classList.contains("ion-page")?ze:ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ze},2400:(Qt,it,O)=>{"use strict";O.d(it,{a:()=>U,b:()=>K,p:()=>u});const u=(ae,...Oe)=>console.warn(`[Ionic Warning]: ${ae}`,...Oe),U=(ae,...Oe)=>console.error(`[Ionic Error]: ${ae}`,...Oe),K=(ae,...Oe)=>console.error(`<${ae.tagName.toLowerCase()}> must be used inside ${Oe.join(" or ")}.`)},1848:(Qt,it,O)=>{"use strict";O.d(it,{d:()=>U,w:()=>u});const u=typeof window<"u"?window:void 0,U=typeof document<"u"?document:void 0},771:(Qt,it,O)=>{"use strict";O.d(it,{B:()=>Ne,H:()=>Pn,a:()=>gr,b:()=>kr,c:()=>At,d:()=>dn,e:()=>Ln,f:()=>Ht,g:()=>Pt,h:()=>St,i:()=>W,j:()=>$e,r:()=>Gn,w:()=>Br});var u=O(5861);let ae,Oe,de,Ie=!1,qe=!1,Ge=!1,Ce=!1,fe=!1;const Ne={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$e=B=>{const Z=new URL(B,jn.$resourcesUrl$);return Z.origin!==_i.location.origin?Z.href:Z.pathname},gt="s-id",he="sty-id",Ee="slot-fb{display:contents}slot-fb[hidden]{display:none}",re="http://www.w3.org/1999/xlink",_e={},Me=B=>"object"==(B=typeof B)||"function"===B;function Je(B){var Z,xe,He;return null!==(He=null===(xe=null===(Z=B.head)||void 0===Z?void 0:Z.querySelector('meta[name="csp-nonce"]'))||void 0===xe?void 0:xe.getAttribute("content"))&&void 0!==He?He:void 0}const St=(B,Z,...xe)=>{let He=null,mt=null,rt=null,xt=!1,Ft=!1;const $t=[],Nt=vn=>{for(let mn=0;mn<vn.length;mn++)He=vn[mn],Array.isArray(He)?Nt(He):null!=He&&"boolean"!=typeof He&&((xt="function"!=typeof B&&!Me(He))&&(He=String(He)),xt&&Ft?$t[$t.length-1].$text$+=He:$t.push(xt?Xt(null,He):He),Ft=xt)};if(Nt(xe),Z){Z.key&&(mt=Z.key),Z.name&&(rt=Z.name);{const vn=Z.className||Z.class;vn&&(Z.class="object"!=typeof vn?vn:Object.keys(vn).filter(mn=>vn[mn]).join(" "))}}if("function"==typeof B)return B(null===Z?{}:Z,$t,Pe);const Kt=Xt(B,null);return Kt.$attrs$=Z,$t.length>0&&(Kt.$children$=$t),Kt.$key$=mt,Kt.$name$=rt,Kt},Xt=(B,Z)=>({$flags$:0,$tag$:B,$text$:Z,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pn={},Pe={forEach:(B,Z)=>B.map(le).forEach(Z),map:(B,Z)=>B.map(le).map(Z).map(be)},le=B=>({vattrs:B.$attrs$,vchildren:B.$children$,vkey:B.$key$,vname:B.$name$,vtag:B.$tag$,vtext:B.$text$}),be=B=>{if("function"==typeof B.vtag){const xe=Object.assign({},B.vattrs);return B.vkey&&(xe.key=B.vkey),B.vname&&(xe.name=B.vname),St(B.vtag,xe,...B.vchildren||[])}const Z=Xt(B.vtag,B.vtext);return Z.$attrs$=B.vattrs,Z.$children$=B.vchildren,Z.$key$=B.vkey,Z.$name$=B.vname,Z},Ke=(B,Z,xe,He,mt,rt,xt)=>{let Ft,$t,Nt,Kt;if(1===rt.nodeType){for(Ft=rt.getAttribute("c-id"),Ft&&($t=Ft.split("."),($t[0]===xt||"0"===$t[0])&&(Nt={$flags$:0,$hostId$:$t[0],$nodeId$:$t[1],$depth$:$t[2],$index$:$t[3],$tag$:rt.tagName.toLowerCase(),$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Z.push(Nt),rt.removeAttribute("c-id"),B.$children$||(B.$children$=[]),B.$children$[Nt.$index$]=Nt,B=Nt,He&&"0"===Nt.$depth$&&(He[Nt.$index$]=Nt.$elm$))),Kt=rt.childNodes.length-1;Kt>=0;Kt--)Ke(B,Z,xe,He,mt,rt.childNodes[Kt],xt);if(rt.shadowRoot)for(Kt=rt.shadowRoot.childNodes.length-1;Kt>=0;Kt--)Ke(B,Z,xe,He,mt,rt.shadowRoot.childNodes[Kt],xt)}else if(8===rt.nodeType)$t=rt.nodeValue.split("."),($t[1]===xt||"0"===$t[1])&&(Ft=$t[0],Nt={$flags$:0,$hostId$:$t[1],$nodeId$:$t[2],$depth$:$t[3],$index$:$t[4],$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ft?(Nt.$elm$=rt.nextSibling,Nt.$elm$&&3===Nt.$elm$.nodeType&&(Nt.$text$=Nt.$elm$.textContent,Z.push(Nt),rt.remove(),B.$children$||(B.$children$=[]),B.$children$[Nt.$index$]=Nt,He&&"0"===Nt.$depth$&&(He[Nt.$index$]=Nt.$elm$))):Nt.$hostId$===xt&&("s"===Ft?(Nt.$tag$="slot",rt["s-sn"]=$t[5]?Nt.$name$=$t[5]:"",rt["s-sr"]=!0,He&&(Nt.$elm$=Or.createElement(Nt.$tag$),Nt.$name$&&Nt.$elm$.setAttribute("name",Nt.$name$),rt.parentNode.insertBefore(Nt.$elm$,rt),rt.remove(),"0"===Nt.$depth$&&(He[Nt.$index$]=Nt.$elm$)),xe.push(Nt),B.$children$||(B.$children$=[]),B.$children$[Nt.$index$]=Nt):"r"===Ft&&(He?rt.remove():(mt["s-cr"]=rt,rt["s-cn"]=!0))));else if(B&&"style"===B.$tag$){const vn=Xt(null,rt.textContent);vn.$elm$=rt,vn.$index$="0",B.$children$=[vn]}},Xe=(B,Z)=>{if(1===B.nodeType){let xe=0;for(;xe<B.childNodes.length;xe++)Xe(B.childNodes[xe],Z);if(B.shadowRoot)for(xe=0;xe<B.shadowRoot.childNodes.length;xe++)Xe(B.shadowRoot.childNodes[xe],Z)}else if(8===B.nodeType){const xe=B.nodeValue.split(".");"o"===xe[0]&&(Z.set(xe[1]+"."+xe[2],B),B.nodeValue="",B["s-en"]=xe[3])}},At=B=>zn.push(B),Pt=B=>Sn(B).$modeName$,Ht=B=>Sn(B).$hostElement$,dn=(B,Z,xe)=>{const He=Ht(B);return{emit:mt=>vt(He,Z,{bubbles:!!(4&xe),composed:!!(2&xe),cancelable:!!(1&xe),detail:mt})}},vt=(B,Z,xe)=>{const He=jn.ce(Z,xe);return B.dispatchEvent(He),He},ht=new WeakMap,lt=(B,Z,xe)=>{let He=Dr.get(B);Y&&xe?(He=He||new CSSStyleSheet,"string"==typeof He?He=Z:He.replaceSync(Z)):He=Z,Dr.set(B,He)},bt=(B,Z,xe)=>{var He;const mt=En(Z,xe),rt=Dr.get(mt);if(B=11===B.nodeType?B:Or,rt)if("string"==typeof rt){let Ft,xt=ht.get(B=B.head||B);if(xt||ht.set(B,xt=new Set),!xt.has(mt)){if(B.host&&(Ft=B.querySelector(`[${he}="${mt}"]`)))Ft.innerHTML=rt;else{Ft=Or.createElement("style"),Ft.innerHTML=rt;const $t=null!==(He=jn.$nonce$)&&void 0!==He?He:Je(Or);null!=$t&&Ft.setAttribute("nonce",$t),B.insertBefore(Ft,B.querySelector("link"))}4&Z.$flags$&&(Ft.innerHTML+=Ee),xt&&xt.add(mt)}}else B.adoptedStyleSheets.includes(rt)||(B.adoptedStyleSheets=[...B.adoptedStyleSheets,rt]);return mt},En=(B,Z)=>"sc-"+(Z&&32&B.$flags$?B.$tagName$+"-"+Z:B.$tagName$),_n=B=>B.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),an=(B,Z,xe,He,mt,rt)=>{if(xe!==He){let xt=Xn(B,Z),Ft=Z.toLowerCase();if("class"===Z){const $t=B.classList,Nt=Tn(xe),Kt=Tn(He);$t.remove(...Nt.filter(vn=>vn&&!Kt.includes(vn))),$t.add(...Kt.filter(vn=>vn&&!Nt.includes(vn)))}else if("style"===Z){for(const $t in xe)(!He||null==He[$t])&&($t.includes("-")?B.style.removeProperty($t):B.style[$t]="");for(const $t in He)(!xe||He[$t]!==xe[$t])&&($t.includes("-")?B.style.setProperty($t,He[$t]):B.style[$t]=He[$t])}else if("key"!==Z)if("ref"===Z)He&&He(B);else if(xt||"o"!==Z[0]||"n"!==Z[1]){const $t=Me(He);if((xt||$t&&null!==He)&&!mt)try{if(B.tagName.includes("-"))B[Z]=He;else{const Kt=null==He?"":He;"list"===Z?xt=!1:(null==xe||B[Z]!=Kt)&&(B[Z]=Kt)}}catch{}let Nt=!1;Ft!==(Ft=Ft.replace(/^xlink\:?/,""))&&(Z=Ft,Nt=!0),null==He||!1===He?(!1!==He||""===B.getAttribute(Z))&&(Nt?B.removeAttributeNS(re,Z):B.removeAttribute(Z)):(!xt||4&rt||mt)&&!$t&&(He=!0===He?"":He,Nt?B.setAttributeNS(re,Z,He):B.setAttribute(Z,He))}else if(Z="-"===Z[2]?Z.slice(3):Xn(_i,Ft)?Ft.slice(2):Ft[2]+Z.slice(3),xe||He){const $t=Z.endsWith(Zn);Z=Z.replace(Gt,""),xe&&jn.rel(B,Z,xe,$t),He&&jn.ael(B,Z,He,$t)}}},Nn=/\s/,Tn=B=>B?B.split(Nn):[],Zn="Capture",Gt=new RegExp(Zn+"$"),Cn=(B,Z,xe,He)=>{const mt=11===Z.$elm$.nodeType&&Z.$elm$.host?Z.$elm$.host:Z.$elm$,rt=B&&B.$attrs$||_e,xt=Z.$attrs$||_e;for(He in rt)He in xt||an(mt,He,rt[He],void 0,xe,Z.$flags$);for(He in xt)an(mt,He,rt[He],xt[He],xe,Z.$flags$)},wn=(B,Z,xe,He)=>{var mt;const rt=Z.$children$[xe];let Ft,$t,Nt,xt=0;if(Ie||(Ge=!0,"slot"===rt.$tag$&&(ae&&He.classList.add(ae+"-s"),rt.$flags$|=rt.$children$?2:1)),null!==rt.$text$)Ft=rt.$elm$=Or.createTextNode(rt.$text$);else if(1&rt.$flags$)Ft=rt.$elm$=Or.createTextNode("");else{if(Ce||(Ce="svg"===rt.$tag$),Ft=rt.$elm$=Or.createElementNS(Ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&rt.$flags$?"slot-fb":rt.$tag$),Ce&&"foreignObject"===rt.$tag$&&(Ce=!1),Cn(null,rt,Ce),(B=>null!=B)(ae)&&Ft["s-si"]!==ae&&Ft.classList.add(Ft["s-si"]=ae),rt.$children$)for(xt=0;xt<rt.$children$.length;++xt)$t=wn(B,rt,xt,Ft),$t&&Ft.appendChild($t);"svg"===rt.$tag$?Ce=!1:"foreignObject"===Ft.tagName&&(Ce=!0)}return Ft["s-hn"]=de,3&rt.$flags$&&(Ft["s-sr"]=!0,Ft["s-fs"]=null===(mt=rt.$attrs$)||void 0===mt?void 0:mt.slot,Ft["s-cr"]=Oe,Ft["s-sn"]=rt.$name$||"",Nt=B&&B.$children$&&B.$children$[xe],Nt&&Nt.$tag$===rt.$tag$&&B.$elm$&&Yn(B.$elm$,!1)),Ft},Yn=(B,Z)=>{var xe;jn.$flags$|=1;const He=B.childNodes;for(let mt=He.length-1;mt>=0;mt--){const rt=He[mt];rt["s-hn"]!==de&&rt["s-ol"]&&(ar(rt).insertBefore(rt,Yr(rt)),rt["s-ol"].remove(),rt["s-ol"]=void 0,rt["s-sh"]=void 0,1===rt.nodeType&&rt.setAttribute("slot",null!==(xe=rt["s-sn"])&&void 0!==xe?xe:""),Ge=!0),Z&&Yn(rt,Z)}jn.$flags$&=-2},rr=(B,Z,xe,He,mt,rt)=>{let Ft,xt=B["s-cr"]&&B["s-cr"].parentNode||B;for(xt.shadowRoot&&xt.tagName===de&&(xt=xt.shadowRoot);mt<=rt;++mt)He[mt]&&(Ft=wn(null,xe,mt,B),Ft&&(He[mt].$elm$=Ft,xt.insertBefore(Ft,Yr(Z))))},Wt=(B,Z,xe)=>{for(let He=Z;He<=xe;++He){const mt=B[He];if(mt){const rt=mt.$elm$;Hn(mt),rt&&(qe=!0,rt["s-ol"]?rt["s-ol"].remove():Yn(rt,!0),rt.remove())}}},Mn=(B,Z)=>B.$tag$===Z.$tag$&&("slot"===B.$tag$?B.$name$===Z.$name$:B.$key$===Z.$key$),Yr=B=>B&&B["s-ol"]||B,ar=B=>(B["s-ol"]?B["s-ol"]:B).parentNode,br=(B,Z)=>{const xe=Z.$elm$=B.$elm$,He=B.$children$,mt=Z.$children$,rt=Z.$tag$,xt=Z.$text$;let Ft;null===xt?(Ce="svg"===rt||"foreignObject"!==rt&&Ce,"slot"===rt||Cn(B,Z,Ce),null!==He&&null!==mt?((B,Z,xe,He)=>{let Cr,C,mt=0,rt=0,xt=0,Ft=0,$t=Z.length-1,Nt=Z[0],Kt=Z[$t],vn=He.length-1,mn=He[0],Jn=He[vn];for(;mt<=$t&&rt<=vn;)if(null==Nt)Nt=Z[++mt];else if(null==Kt)Kt=Z[--$t];else if(null==mn)mn=He[++rt];else if(null==Jn)Jn=He[--vn];else if(Mn(Nt,mn))br(Nt,mn),Nt=Z[++mt],mn=He[++rt];else if(Mn(Kt,Jn))br(Kt,Jn),Kt=Z[--$t],Jn=He[--vn];else if(Mn(Nt,Jn))("slot"===Nt.$tag$||"slot"===Jn.$tag$)&&Yn(Nt.$elm$.parentNode,!1),br(Nt,Jn),B.insertBefore(Nt.$elm$,Kt.$elm$.nextSibling),Nt=Z[++mt],Jn=He[--vn];else if(Mn(Kt,mn))("slot"===Nt.$tag$||"slot"===Jn.$tag$)&&Yn(Kt.$elm$.parentNode,!1),br(Kt,mn),B.insertBefore(Kt.$elm$,Nt.$elm$),Kt=Z[--$t],mn=He[++rt];else{for(xt=-1,Ft=mt;Ft<=$t;++Ft)if(Z[Ft]&&null!==Z[Ft].$key$&&Z[Ft].$key$===mn.$key$){xt=Ft;break}xt>=0?(C=Z[xt],C.$tag$!==mn.$tag$?Cr=wn(Z&&Z[rt],xe,xt,B):(br(C,mn),Z[xt]=void 0,Cr=C.$elm$),mn=He[++rt]):(Cr=wn(Z&&Z[rt],xe,rt,B),mn=He[++rt]),Cr&&ar(Nt.$elm$).insertBefore(Cr,Yr(Nt.$elm$))}mt>$t?rr(B,null==He[vn+1]?null:He[vn+1].$elm$,xe,He,rt,vn):rt>vn&&Wt(Z,mt,$t)})(xe,He,Z,mt):null!==mt?(null!==B.$text$&&(xe.textContent=""),rr(xe,null,Z,mt,0,mt.length-1)):null!==He&&Wt(He,0,He.length-1),Ce&&"svg"===rt&&(Ce=!1)):(Ft=xe["s-cr"])?Ft.parentNode.textContent=xt:B.$text$!==xt&&(xe.data=xt)},Bn=B=>{const Z=B.childNodes;for(const xe of Z)if(1===xe.nodeType){if(xe["s-sr"]){const He=xe["s-sn"];xe.hidden=!1;for(const mt of Z)if(mt!==xe)if(mt["s-hn"]!==xe["s-hn"]||""!==He){if(1===mt.nodeType&&(He===mt.getAttribute("slot")||He===mt["s-sn"])){xe.hidden=!0;break}}else if(1===mt.nodeType||3===mt.nodeType&&""!==mt.textContent.trim()){xe.hidden=!0;break}}Bn(xe)}},hr=[],ni=B=>{let Z,xe,He;for(const mt of B.childNodes){if(mt["s-sr"]&&(Z=mt["s-cr"])&&Z.parentNode){xe=Z.parentNode.childNodes;const rt=mt["s-sn"];for(He=xe.length-1;He>=0;He--)if(Z=xe[He],!Z["s-cn"]&&!Z["s-nr"]&&Z["s-hn"]!==mt["s-hn"])if(In(Z,rt)){let xt=hr.find(Ft=>Ft.$nodeToRelocate$===Z);qe=!0,Z["s-sn"]=Z["s-sn"]||rt,xt?(xt.$nodeToRelocate$["s-sh"]=mt["s-hn"],xt.$slotRefNode$=mt):(Z["s-sh"]=mt["s-hn"],hr.push({$slotRefNode$:mt,$nodeToRelocate$:Z})),Z["s-sr"]&&hr.map(Ft=>{In(Ft.$nodeToRelocate$,Z["s-sn"])&&(xt=hr.find($t=>$t.$nodeToRelocate$===Z),xt&&!Ft.$slotRefNode$&&(Ft.$slotRefNode$=xt.$slotRefNode$))})}else hr.some(xt=>xt.$nodeToRelocate$===Z)||hr.push({$nodeToRelocate$:Z})}1===mt.nodeType&&ni(mt)}},In=(B,Z)=>1===B.nodeType?null===B.getAttribute("slot")&&""===Z||B.getAttribute("slot")===Z:B["s-sn"]===Z||""===Z,Hn=B=>{B.$attrs$&&B.$attrs$.ref&&B.$attrs$.ref(null),B.$children$&&B.$children$.map(Hn)},ei=(B,Z)=>{Z&&!B.$onRenderResolve$&&Z["s-p"]&&Z["s-p"].push(new Promise(xe=>B.$onRenderResolve$=xe))},Zr=(B,Z)=>{if(B.$flags$|=16,!(4&B.$flags$))return ei(B,B.$ancestorComponent$),Br(()=>li(B,Z));B.$flags$|=512},li=(B,Z)=>{const He=B.$lazyInstance$;let mt;return Z&&(B.$flags$|=256,B.$queuedListeners$&&(B.$queuedListeners$.map(([rt,xt])=>pe(He,rt,xt)),B.$queuedListeners$=void 0),mt=pe(He,"componentWillLoad")),mt=zr(mt,()=>pe(He,"componentWillRender")),zr(mt,()=>vr(B,He,Z))},zr=(B,Z)=>ri(B)?B.then(Z):Z(),ri=B=>B instanceof Promise||B&&B.then&&"function"==typeof B.then,vr=function(){var B=(0,u.Z)(function*(Z,xe,He){var mt;const rt=Z.$hostElement$,Ft=rt["s-rc"];He&&(B=>{const Z=B.$cmpMeta$,xe=B.$hostElement$,He=Z.$flags$,rt=bt(xe.shadowRoot?xe.shadowRoot:xe.getRootNode(),Z,B.$modeName$);10&He&&(xe["s-sc"]=rt,xe.classList.add(rt+"-h"),2&He&&xe.classList.add(rt+"-s"))})(Z);gi(Z,xe,rt,He),Ft&&(Ft.map(Nt=>Nt()),rt["s-rc"]=void 0);{const Nt=null!==(mt=rt["s-p"])&&void 0!==mt?mt:[],Kt=()=>se(Z);0===Nt.length?Kt():(Promise.all(Nt).then(Kt),Z.$flags$|=4,Nt.length=0)}});return function(xe,He,mt){return B.apply(this,arguments)}}(),gi=(B,Z,xe,He)=>{try{Z=Z.render&&Z.render(),B.$flags$&=-17,B.$flags$|=2,((B,Z,xe=!1)=>{var He,mt,rt,xt;const Ft=B.$hostElement$,$t=B.$cmpMeta$,Nt=B.$vnode$||Xt(null,null),Kt=(B=>B&&B.$tag$===Pn)(Z)?Z:St(null,null,Z);if(de=Ft.tagName,$t.$attrsToReflect$&&(Kt.$attrs$=Kt.$attrs$||{},$t.$attrsToReflect$.map(([vn,mn])=>Kt.$attrs$[mn]=Ft[vn])),xe&&Kt.$attrs$)for(const vn of Object.keys(Kt.$attrs$))Ft.hasAttribute(vn)&&!["key","ref","style","class"].includes(vn)&&(Kt.$attrs$[vn]=Ft[vn]);if(Kt.$tag$=null,Kt.$flags$|=4,B.$vnode$=Kt,Kt.$elm$=Nt.$elm$=Ft.shadowRoot||Ft,ae=Ft["s-sc"],Oe=Ft["s-cr"],Ie=0!=(1&$t.$flags$),qe=!1,br(Nt,Kt),jn.$flags$|=1,Ge){ni(Kt.$elm$);for(const vn of hr){const mn=vn.$nodeToRelocate$;if(!mn["s-ol"]){const Jn=Or.createTextNode("");Jn["s-nr"]=mn,mn.parentNode.insertBefore(mn["s-ol"]=Jn,mn)}}for(const vn of hr){const mn=vn.$nodeToRelocate$,Jn=vn.$slotRefNode$;if(Jn){const Cr=Jn.parentNode;let C=Jn.nextSibling;{let ne=null===(He=mn["s-ol"])||void 0===He?void 0:He.previousSibling;for(;ne;){let P=null!==(mt=ne["s-nr"])&&void 0!==mt?mt:null;if(P&&P["s-sn"]===mn["s-sn"]&&Cr===P.parentNode&&(P=P.nextSibling,!P||!P["s-nr"])){C=P;break}ne=ne.previousSibling}}(!C&&Cr!==mn.parentNode||mn.nextSibling!==C)&&mn!==C&&(!mn["s-hn"]&&mn["s-ol"]&&(mn["s-hn"]=mn["s-ol"].parentNode.nodeName),Cr.insertBefore(mn,C),1===mn.nodeType&&(mn.hidden=null!==(rt=mn["s-ih"])&&void 0!==rt&&rt))}else 1===mn.nodeType&&(xe&&(mn["s-ih"]=null!==(xt=mn.hidden)&&void 0!==xt&&xt),mn.hidden=!0)}}qe&&Bn(Kt.$elm$),jn.$flags$&=-2,hr.length=0})(B,Z,He)}catch(mt){pr(mt,B.$hostElement$)}return null},se=B=>{const xe=B.$hostElement$,mt=B.$lazyInstance$,rt=B.$ancestorComponent$;pe(mt,"componentDidRender"),64&B.$flags$?pe(mt,"componentDidUpdate"):(B.$flags$|=64,ge(xe),pe(mt,"componentDidLoad"),B.$onReadyResolve$(xe),rt||ue()),B.$onInstanceResolve$(xe),B.$onRenderResolve$&&(B.$onRenderResolve$(),B.$onRenderResolve$=void 0),512&B.$flags$&&un(()=>Zr(B,!1)),B.$flags$&=-517},W=B=>{{const Z=Sn(B),xe=Z.$hostElement$.isConnected;return xe&&2==(18&Z.$flags$)&&Zr(Z,!1),xe}},ue=B=>{ge(Or.documentElement),un(()=>vt(_i,"appload",{detail:{namespace:"ionic"}}))},pe=(B,Z,xe)=>{if(B&&B[Z])try{return B[Z](xe)}catch(He){pr(He)}},ge=B=>B.classList.add("hydrated"),Yt=(B,Z,xe)=>{var He;const mt=B.prototype;if(Z.$members$){B.watchers&&(Z.$watchers$=B.watchers);const rt=Object.entries(Z.$members$);if(rt.map(([xt,[Ft]])=>{31&Ft||2&xe&&32&Ft?Object.defineProperty(mt,xt,{get(){return((B,Z)=>Sn(this).$instanceValues$.get(Z))(0,xt)},set($t){((B,Z,xe,He)=>{const mt=Sn(B),rt=mt.$hostElement$,xt=mt.$instanceValues$.get(Z),Ft=mt.$flags$,$t=mt.$lazyInstance$;xe=((B,Z)=>null==B||Me(B)?B:4&Z?"false"!==B&&(""===B||!!B):2&Z?parseFloat(B):1&Z?String(B):B)(xe,He.$members$[Z][0]);const Nt=Number.isNaN(xt)&&Number.isNaN(xe);if((!(8&Ft)||void 0===xt)&&xe!==xt&&!Nt&&(mt.$instanceValues$.set(Z,xe),$t)){if(He.$watchers$&&128&Ft){const vn=He.$watchers$[Z];vn&&vn.map(mn=>{try{$t[mn](xe,xt,Z)}catch(Jn){pr(Jn,rt)}})}2==(18&Ft)&&Zr(mt,!1)}})(this,xt,$t,Z)},configurable:!0,enumerable:!0}):1&xe&&64&Ft&&Object.defineProperty(mt,xt,{value(...$t){var Nt;const Kt=Sn(this);return null===(Nt=null==Kt?void 0:Kt.$onInstancePromise$)||void 0===Nt?void 0:Nt.then(()=>{var vn;return null===(vn=Kt.$lazyInstance$)||void 0===vn?void 0:vn[xt](...$t)})}})}),1&xe){const xt=new Map;mt.attributeChangedCallback=function(Ft,$t,Nt){jn.jmp(()=>{var Kt;const vn=xt.get(Ft);if(this.hasOwnProperty(vn))Nt=this[vn],delete this[vn];else{if(mt.hasOwnProperty(vn)&&"number"==typeof this[vn]&&this[vn]==Nt)return;if(null==vn){const mn=Sn(this),Jn=null==mn?void 0:mn.$flags$;if(Jn&&!(8&Jn)&&128&Jn&&Nt!==$t){const Cr=mn.$lazyInstance$,C=null===(Kt=Z.$watchers$)||void 0===Kt?void 0:Kt[Ft];null==C||C.forEach(ne=>{null!=Cr[ne]&&Cr[ne].call(Cr,Nt,$t,Ft)})}return}}this[vn]=(null!==Nt||"boolean"!=typeof this[vn])&&Nt})},B.observedAttributes=Array.from(new Set([...Object.keys(null!==(He=Z.$watchers$)&&void 0!==He?He:{}),...rt.filter(([Ft,$t])=>15&$t[0]).map(([Ft,$t])=>{var Nt;const Kt=$t[1]||Ft;return xt.set(Kt,Ft),512&$t[0]&&(null===(Nt=Z.$attrsToReflect$)||void 0===Nt||Nt.push([Ft,Kt])),Kt})]))}}return B},kn=function(){var B=(0,u.Z)(function*(Z,xe,He,mt){let rt;if(!(32&xe.$flags$)){xe.$flags$|=32;{if(rt=Ri(He),rt.then){const Nt=()=>{};rt=yield rt,Nt()}rt.isProxied||(He.$watchers$=rt.watchers,Yt(rt,He,2),rt.isProxied=!0);const $t=()=>{};xe.$flags$|=8;try{new rt(xe)}catch(Nt){pr(Nt)}xe.$flags$&=-9,xe.$flags$|=128,$t(),$n(xe.$lazyInstance$)}if(rt.style){let $t=rt.style;"string"!=typeof $t&&($t=$t[xe.$modeName$=(B=>zn.map(Z=>Z(B)).find(Z=>!!Z))(Z)]);const Nt=En(He,xe.$modeName$);if(!Dr.has(Nt)){const Kt=()=>{};lt(Nt,$t,!!(1&He.$flags$)),Kt()}}}const xt=xe.$ancestorComponent$,Ft=()=>Zr(xe,!0);xt&&xt["s-rc"]?xt["s-rc"].push(Ft):Ft()});return function(xe,He,mt,rt){return B.apply(this,arguments)}}(),$n=B=>{pe(B,"connectedCallback")},nn=B=>{const Z=B["s-cr"]=Or.createComment("");Z["s-cn"]=!0,B.insertBefore(Z,B.firstChild)},Zt=B=>{pe(B,"disconnectedCallback")},mi=function(){var B=(0,u.Z)(function*(Z){if(!(1&jn.$flags$)){const xe=Sn(Z);xe.$rmListeners$&&(xe.$rmListeners$.map(He=>He()),xe.$rmListeners$=void 0),null!=xe&&xe.$lazyInstance$?Zt(xe.$lazyInstance$):null!=xe&&xe.$onReadyPromise$&&xe.$onReadyPromise$.then(()=>Zt(xe.$lazyInstance$))}});return function(xe){return B.apply(this,arguments)}}(),kr=(B,Z={})=>{var xe;const mt=[],rt=Z.exclude||[],xt=_i.customElements,Ft=Or.head,$t=Ft.querySelector("meta[charset]"),Nt=Or.createElement("style"),Kt=[],vn=Or.querySelectorAll(`[${he}]`);let mn,Jn=!0,Cr=0;for(Object.assign(jn,Z),jn.$resourcesUrl$=new URL(Z.resourcesUrl||"./",Or.baseURI).href,jn.$flags$|=2;Cr<vn.length;Cr++)lt(vn[Cr].getAttribute(he),_n(vn[Cr].innerHTML),!0);let C=!1;if(B.map(ne=>{ne[1].map(P=>{var oe;const et={$flags$:P[0],$tagName$:P[1],$members$:P[2],$listeners$:P[3]};4&et.$flags$&&(C=!0),et.$members$=P[2],et.$listeners$=P[3],et.$attrsToReflect$=[],et.$watchers$=null!==(oe=P[4])&&void 0!==oe?oe:{};const Wn=et.$tagName$,ii=class extends HTMLElement{constructor(Qr){super(Qr),xr(Qr=this,et),1&et.$flags$&&Qr.attachShadow({mode:"open",delegatesFocus:!!(16&et.$flags$)})}connectedCallback(){mn&&(clearTimeout(mn),mn=null),Jn?Kt.push(this):jn.jmp(()=>(B=>{if(!(1&jn.$flags$)){const Z=Sn(B),xe=Z.$cmpMeta$,He=()=>{};if(1&Z.$flags$)Fi(B,Z,xe.$listeners$),null!=Z&&Z.$lazyInstance$?$n(Z.$lazyInstance$):null!=Z&&Z.$onReadyPromise$&&Z.$onReadyPromise$.then(()=>$n(Z.$lazyInstance$));else{let mt;if(Z.$flags$|=1,mt=B.getAttribute(gt),mt){if(1&xe.$flags$){const rt=bt(B.shadowRoot,xe,B.getAttribute("s-mode"));B.classList.remove(rt+"-h",rt+"-s")}((B,Z,xe,He)=>{const rt=B.shadowRoot,xt=[],$t=rt?[]:null,Nt=He.$vnode$=Xt(Z,null);jn.$orgLocNodes$||Xe(Or.body,jn.$orgLocNodes$=new Map),B[gt]=xe,B.removeAttribute(gt),Ke(Nt,xt,[],$t,B,B,xe),xt.map(Kt=>{const vn=Kt.$hostId$+"."+Kt.$nodeId$,mn=jn.$orgLocNodes$.get(vn),Jn=Kt.$elm$;mn&&we&&""===mn["s-en"]&&mn.parentNode.insertBefore(Jn,mn.nextSibling),rt||(Jn["s-hn"]=Z,mn&&(Jn["s-ol"]=mn,Jn["s-ol"]["s-nr"]=Jn)),jn.$orgLocNodes$.delete(vn)}),rt&&$t.map(Kt=>{Kt&&rt.appendChild(Kt)})})(B,xe.$tagName$,mt,Z)}mt||12&xe.$flags$&&nn(B);{let rt=B;for(;rt=rt.parentNode||rt.host;)if(1===rt.nodeType&&rt.hasAttribute("s-id")&&rt["s-p"]||rt["s-p"]){ei(Z,Z.$ancestorComponent$=rt);break}}xe.$members$&&Object.entries(xe.$members$).map(([rt,[xt]])=>{if(31&xt&&B.hasOwnProperty(rt)){const Ft=B[rt];delete B[rt],B[rt]=Ft}}),kn(B,Z,xe)}He()}})(this))}disconnectedCallback(){jn.jmp(()=>mi(this))}componentOnReady(){return Sn(this).$onReadyPromise$}};et.$lazyBundleId$=ne[0],!rt.includes(Wn)&&!xt.get(Wn)&&(mt.push(Wn),xt.define(Wn,Yt(ii,et,1)))})}),C&&(Nt.innerHTML+=Ee),Nt.innerHTML+=mt+"{visibility:hidden}.hydrated{visibility:inherit}",Nt.innerHTML.length){Nt.setAttribute("data-styles","");const ne=null!==(xe=jn.$nonce$)&&void 0!==xe?xe:Je(Or);null!=ne&&Nt.setAttribute("nonce",ne),Ft.insertBefore(Nt,$t?$t.nextSibling:Ft.firstChild)}Jn=!1,Kt.length?Kt.map(ne=>ne.connectedCallback()):jn.jmp(()=>mn=setTimeout(ue,30))},Fi=(B,Z,xe,He)=>{xe&&xe.map(([mt,rt,xt])=>{const Ft=nt(B,mt),$t=Dt(Z,xt),Nt=kt(mt);jn.ael(Ft,rt,$t,Nt),(Z.$rmListeners$=Z.$rmListeners$||[]).push(()=>jn.rel(Ft,rt,$t,Nt))})},Dt=(B,Z)=>xe=>{try{256&B.$flags$?B.$lazyInstance$[Z](xe):(B.$queuedListeners$=B.$queuedListeners$||[]).push([Z,xe])}catch(He){pr(He)}},nt=(B,Z)=>4&Z?Or:8&Z?_i:16&Z?Or.body:B,kt=B=>0!=(2&B),bn=new WeakMap,Sn=B=>bn.get(B),Gn=(B,Z)=>bn.set(Z.$lazyInstance$=B,Z),xr=(B,Z)=>{const xe={$flags$:0,$hostElement$:B,$cmpMeta$:Z,$instanceValues$:new Map};return xe.$onInstancePromise$=new Promise(He=>xe.$onInstanceResolve$=He),xe.$onReadyPromise$=new Promise(He=>xe.$onReadyResolve$=He),B["s-p"]=[],B["s-rc"]=[],Fi(B,xe,Z.$listeners$),bn.set(B,xe)},Xn=(B,Z)=>Z in B,pr=(B,Z)=>(0,console.error)(B,Z),di=new Map,Ri=(B,Z,xe)=>{const He=B.$tagName$.replace(/-/g,"_"),mt=B.$lazyBundleId$,rt=di.get(mt);return rt?rt[He]:O(863)(`./${mt}.entry.js`).then(xt=>(di.set(mt,xt),xt[He]),pr)},Dr=new Map,zn=[],_i=typeof window<"u"?window:{},Or=_i.document||{head:{}},jn={$flags$:0,$resourcesUrl$:"",jmp:B=>B(),raf:B=>requestAnimationFrame(B),ael:(B,Z,xe,He)=>B.addEventListener(Z,xe,He),rel:(B,Z,xe,He)=>B.removeEventListener(Z,xe,He),ce:(B,Z)=>new CustomEvent(B,Z)},gr=B=>{Object.assign(jn,B)},we=!0,Y=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),De=[],Ze=[],Mt=(B,Z)=>xe=>{B.push(xe),fe||(fe=!0,Z&&4&jn.$flags$?un(on):jn.raf(on))},tn=B=>{for(let Z=0;Z<B.length;Z++)try{B[Z](performance.now())}catch(xe){pr(xe)}B.length=0},on=()=>{tn(De),tn(Ze),(fe=De.length>0)&&jn.raf(on)},un=B=>Promise.resolve(void 0).then(B),Ln=Mt(De,!1),Br=Mt(Ze,!0)},2905:(Qt,it,O)=>{"use strict";O.d(it,{a:()=>fe,b:()=>Xt,c:()=>K,i:()=>Pn});var u=O(771);class U{constructor(){this.m=new Map}reset(Pe){this.m=new Map(Object.entries(Pe))}get(Pe,le){const be=this.m.get(Pe);return void 0!==be?be:le}getBoolean(Pe,le=!1){const be=this.m.get(Pe);return void 0===be?le:"string"==typeof be?"true"===be:!!be}getNumber(Pe,le){const be=parseFloat(this.m.get(Pe));return isNaN(be)?void 0!==le?le:NaN:be}set(Pe,le){this.m.set(Pe,le)}}const K=new U,Ge="ionic-persist-config",fe=(ot,Pe)=>("string"==typeof ot&&(Pe=ot,ot=void 0),(ot=>Ne(ot))(ot).includes(Pe)),Ne=(ot=window)=>{if(typeof ot>"u")return[];ot.Ionic=ot.Ionic||{};let Pe=ot.Ionic.platforms;return null==Pe&&(Pe=ot.Ionic.platforms=$e(ot),Pe.forEach(le=>ot.document.documentElement.classList.add(`plt-${le}`))),Pe},$e=ot=>{const Pe=K.get("platform");return Object.keys(Je).filter(le=>{const be=null==Pe?void 0:Pe[le];return"function"==typeof be?be(ot):Je[le](ot)})},ke=ot=>!!(ze(ot,/iPad/i)||ze(ot,/Macintosh/i)&&Be(ot)),je=ot=>ze(ot,/android|sink/i),Be=ot=>Me(ot,"(any-pointer:coarse)"),Ee=ot=>re(ot)||_e(ot),re=ot=>!!(ot.cordova||ot.phonegap||ot.PhoneGap),_e=ot=>{const Pe=ot.Capacitor;return!(null==Pe||!Pe.isNative)},ze=(ot,Pe)=>Pe.test(ot.navigator.userAgent),Me=(ot,Pe)=>{var le;return null===(le=ot.matchMedia)||void 0===le?void 0:le.call(ot,Pe).matches},Je={ipad:ke,iphone:ot=>ze(ot,/iPhone/i),ios:ot=>ze(ot,/iPhone|iPod/i)||ke(ot),android:je,phablet:ot=>{const Pe=ot.innerWidth,le=ot.innerHeight,be=Math.min(Pe,le),Te=Math.max(Pe,le);return be>390&&be<520&&Te>620&&Te<800},tablet:ot=>{const Pe=ot.innerWidth,le=ot.innerHeight,be=Math.min(Pe,le),Te=Math.max(Pe,le);return ke(ot)||(ot=>je(ot)&&!ze(ot,/mobile/i))(ot)||be>460&&be<820&&Te>780&&Te<1400},cordova:re,capacitor:_e,electron:ot=>ze(ot,/electron/i),pwa:ot=>{var Pe;return!!(null!==(Pe=ot.matchMedia)&&void 0!==Pe&&Pe.call(ot,"(display-mode: standalone)").matches||ot.navigator.standalone)},mobile:Be,mobileweb:ot=>Be(ot)&&!Ee(ot),desktop:ot=>!Be(ot),hybrid:Ee};let St;const Xt=ot=>ot&&(0,u.g)(ot)||St,Pn=(ot={})=>{if(typeof window>"u")return;const Pe=window.document,le=window,be=le.Ionic=le.Ionic||{},Te={};ot._ael&&(Te.ael=ot._ael),ot._rel&&(Te.rel=ot._rel),ot._ce&&(Te.ce=ot._ce),(0,u.a)(Te);const Ke=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ot=>{try{const Pe=ot.sessionStorage.getItem(Ge);return null!==Pe?JSON.parse(Pe):{}}catch{return{}}})(le)),{persistConfig:!1}),be.config),(ot=>{const Pe={};return ot.location.search.slice(1).split("&").map(le=>le.split("=")).map(([le,be])=>[decodeURIComponent(le),decodeURIComponent(be)]).filter(([le])=>((ot,Pe)=>ot.substr(0,Pe.length)===Pe)(le,"ionic:")).map(([le,be])=>[le.slice(6),be]).forEach(([le,be])=>{Pe[le]=be}),Pe})(le)),ot);K.reset(Ke),K.getBoolean("persistConfig")&&((ot,Pe)=>{try{ot.sessionStorage.setItem(Ge,JSON.stringify(Pe))}catch{return}})(le,Ke),Ne(le),be.config=K,be.mode=St=K.get("mode",Pe.documentElement.getAttribute("mode")||(fe(le,"ios")?"ios":"md")),K.set("mode",St),Pe.documentElement.setAttribute("mode",St),Pe.documentElement.classList.add(St),K.getBoolean("_testing")&&K.set("animated",!1);const Xe=At=>{var Pt;return null===(Pt=At.tagName)||void 0===Pt?void 0:Pt.startsWith("ION-")},Tt=At=>["ios","md"].includes(At);(0,u.c)(At=>{for(;At;){const Pt=At.mode||At.getAttribute("mode");if(Pt){if(Tt(Pt))return Pt;Xe(At)&&console.warn('Invalid ionic mode: "'+Pt+'", expected: "ios" or "md"')}At=At.parentElement}return St})}},3433:(Qt,it,O)=>{"use strict";O.r(it),O.d(it,{iosTransitionAnimation:()=>$e,shadow:()=>Ie});var u=O(4913),U=O(2325);O(1848),O(771);const de=ke=>document.querySelector(`${ke}.ion-cloned-element`),Ie=ke=>ke.shadowRoot||ke,qe=ke=>{const st="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=st){const je=st.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=je?je.querySelector(Le):null}return ke.querySelector(Le)},Ge=(ke,st)=>{const Le="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs");let je=[];if(null!=Le){const Ye=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ye&&(je=Ye.querySelectorAll("ion-buttons"))}else je=ke.querySelectorAll("ion-buttons");for(const Ye of je){const gt=Ye.closest("ion-header"),he=gt&&!gt.classList.contains("header-collapse-condense-inactive"),Be=Ye.querySelector("ion-back-button"),Fe=Ye.classList.contains("buttons-collapse");if(null!==Be&&("start"===Ye.slot||""===Ye.slot)&&(Fe&&he&&st||!Fe))return Be}return null},fe=(ke,st,Le,je,Ye,gt,he,Be,Fe)=>{var Ee,re;const _e=st?`calc(100% - ${Ye.right+4}px)`:Ye.left-4+"px",q=st?"right":"left",ee=st?"left":"right",ze=st?"right":"left",Me=(null===(Ee=gt.textContent)||void 0===Ee?void 0:Ee.trim())===(null===(re=Be.textContent)||void 0===re?void 0:re.trim()),St=(Fe.height-Ve)/he.height,Xt=Me?`scale(${Fe.width/he.width}, ${St})`:`scale(${St})`,Pn="scale(1)",Pe=Ie(je).querySelector("ion-icon").getBoundingClientRect(),le=st?Pe.width/2-(Pe.right-Ye.right)+"px":Ye.left-Pe.width/2+"px",be=st?`-${window.innerWidth-Ye.right}px`:`${Ye.left}px`,Te=`${Fe.top}px`,Ke=`${Ye.top}px`,At=Le?[{offset:0,transform:`translate3d(${be}, ${Ke}, 0)`},{offset:1,transform:`translate3d(${le}, ${Te}, 0)`}]:[{offset:0,transform:`translate3d(${le}, ${Te}, 0)`},{offset:1,transform:`translate3d(${be}, ${Ke}, 0)`}],Ht=Le?[{offset:0,opacity:1,transform:Pn},{offset:1,opacity:0,transform:Xt}]:[{offset:0,opacity:0,transform:Xt},{offset:1,opacity:1,transform:Pn}],ht=Le?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],lt=(0,u.c)(),bt=(0,u.c)(),zt=(0,u.c)(),En=de("ion-back-button"),_n=Ie(En).querySelector(".button-text"),an=Ie(En).querySelector("ion-icon");En.text=je.text,En.mode=je.mode,En.icon=je.icon,En.color=je.color,En.disabled=je.disabled,En.style.setProperty("display","block"),En.style.setProperty("position","fixed"),bt.addElement(an),lt.addElement(_n),zt.addElement(En),zt.beforeStyles({position:"absolute",top:"0px",[ze]:"0px"}).keyframes(At),lt.beforeStyles({"transform-origin":`${q} top`}).beforeAddWrite(()=>{je.style.setProperty("display","none"),En.style.setProperty(q,_e)}).afterAddWrite(()=>{je.style.setProperty("display",""),En.style.setProperty("display","none"),En.style.removeProperty(q)}).keyframes(Ht),bt.beforeStyles({"transform-origin":`${ee} center`}).keyframes(ht),ke.addAnimation([lt,bt,zt])},Ne=(ke,st,Le,je,Ye,gt,he,Be)=>{var Fe,Ee;const re=st?"right":"left",_e=st?`calc(100% - ${Ye.right}px)`:`${Ye.left}px`,ee=`${Ye.top}px`,Me=st?`-${window.innerWidth-Be.right-8}px`:Be.x-8+"px",St=Be.y-2+"px",Xt=(null===(Fe=he.textContent)||void 0===Fe?void 0:Fe.trim())===(null===(Ee=je.textContent)||void 0===Ee?void 0:Ee.trim()),ot=Be.height/(gt.height-Ve),Pe="scale(1)",le=Xt?`scale(${Be.width/gt.width}, ${ot})`:`scale(${ot})`,Ke=Le?[{offset:0,opacity:0,transform:`translate3d(${Me}, ${St}, 0) ${le}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ee}, 0) ${Pe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ee}, 0) ${Pe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Me}, ${St}, 0) ${le}`}],Xe=de("ion-title"),Tt=(0,u.c)();Xe.innerText=je.innerText,Xe.size=je.size,Xe.color=je.color,Tt.addElement(Xe),Tt.beforeStyles({"transform-origin":`${re} top`,height:`${Ye.height}px`,display:"",position:"relative",[re]:_e}).beforeAddWrite(()=>{je.style.setProperty("opacity","0")}).afterAddWrite(()=>{je.style.setProperty("opacity",""),Xe.style.setProperty("display","none")}).keyframes(Ke),ke.addAnimation(Tt)},$e=(ke,st)=>{var Le;try{const je="cubic-bezier(0.32,0.72,0,1)",Ye="opacity",gt="transform",he="0%",Fe="rtl"===ke.ownerDocument.dir,Ee=Fe?"-99.5%":"99.5%",re=Fe?"33%":"-33%",_e=st.enteringEl,q=st.leavingEl,ee="back"===st.direction,ze=_e.querySelector(":scope > ion-content"),Me=_e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Je=_e.querySelectorAll(":scope > ion-header > ion-toolbar"),St=(0,u.c)(),Xt=(0,u.c)();if(St.addElement(_e).duration((null!==(Le=st.duration)&&void 0!==Le?Le:0)||540).easing(st.easing||je).fill("both").beforeRemoveClass("ion-page-invisible"),q&&null!=ke){const le=(0,u.c)();le.addElement(ke),St.addAnimation(le)}if(ze||0!==Je.length||0!==Me.length?(Xt.addElement(ze),Xt.addElement(Me)):Xt.addElement(_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),St.addAnimation(Xt),ee?Xt.beforeClearStyles([Ye]).fromTo("transform",`translateX(${re})`,`translateX(${he})`).fromTo(Ye,.8,1):Xt.beforeClearStyles([Ye]).fromTo("transform",`translateX(${Ee})`,`translateX(${he})`),ze){const le=Ie(ze).querySelector(".transition-effect");if(le){const be=le.querySelector(".transition-cover"),Te=le.querySelector(".transition-shadow"),Ke=(0,u.c)(),Xe=(0,u.c)(),Tt=(0,u.c)();Ke.addElement(le).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Xe.addElement(be).beforeClearStyles([Ye]).fromTo(Ye,0,.1),Tt.addElement(Te).beforeClearStyles([Ye]).fromTo(Ye,.03,.7),Ke.addAnimation([Xe,Tt]),Xt.addAnimation([Ke])}}const Pn=_e.querySelector("ion-header.header-collapse-condense"),{forward:ot,backward:Pe}=((ke,st,Le,je,Ye)=>{const gt=Ge(je,Le),he=qe(Ye),Be=qe(je),Fe=Ge(Ye,Le),Ee=null!==gt&&null!==he&&!Le,re=null!==Be&&null!==Fe&&Le;if(Ee){const _e=he.getBoundingClientRect(),q=gt.getBoundingClientRect(),ee=Ie(gt).querySelector(".button-text"),ze=ee.getBoundingClientRect(),Je=Ie(he).querySelector(".toolbar-title").getBoundingClientRect();Ne(ke,st,Le,he,_e,Je,ee,ze),fe(ke,st,Le,gt,q,ee,ze,he,Je)}else if(re){const _e=Be.getBoundingClientRect(),q=Fe.getBoundingClientRect(),ee=Ie(Fe).querySelector(".button-text"),ze=ee.getBoundingClientRect(),Je=Ie(Be).querySelector(".toolbar-title").getBoundingClientRect();Ne(ke,st,Le,Be,_e,Je,ee,ze),fe(ke,st,Le,Fe,q,ee,ze,Be,Je)}return{forward:Ee,backward:re}})(St,Fe,ee,_e,q);if(Je.forEach(le=>{const be=(0,u.c)();be.addElement(le),St.addAnimation(be);const Te=(0,u.c)();Te.addElement(le.querySelector("ion-title"));const Ke=(0,u.c)(),Xe=Array.from(le.querySelectorAll("ion-buttons,[menuToggle]")),Tt=le.closest("ion-header"),At=null==Tt?void 0:Tt.classList.contains("header-collapse-condense-inactive");let Pt;Pt=Xe.filter(ee?ht=>{const lt=ht.classList.contains("buttons-collapse");return lt&&!At||!lt}:ht=>!ht.classList.contains("buttons-collapse")),Ke.addElement(Pt);const dt=(0,u.c)();dt.addElement(le.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ht=(0,u.c)();Ht.addElement(Ie(le).querySelector(".toolbar-background"));const dn=(0,u.c)(),vt=le.querySelector("ion-back-button");if(vt&&dn.addElement(vt),be.addAnimation([Te,Ke,dt,Ht,dn]),Ke.fromTo(Ye,.01,1),dt.fromTo(Ye,.01,1),ee)At||Te.fromTo("transform",`translateX(${re})`,`translateX(${he})`).fromTo(Ye,.01,1),dt.fromTo("transform",`translateX(${re})`,`translateX(${he})`),dn.fromTo(Ye,.01,1);else if(Pn||Te.fromTo("transform",`translateX(${Ee})`,`translateX(${he})`).fromTo(Ye,.01,1),dt.fromTo("transform",`translateX(${Ee})`,`translateX(${he})`),Ht.beforeClearStyles([Ye,"transform"]),(null==Tt?void 0:Tt.translucent)?Ht.fromTo("transform",Fe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ht.fromTo(Ye,.01,"var(--opacity)"),ot||dn.fromTo(Ye,.01,1),vt&&!ot){const lt=(0,u.c)();lt.addElement(Ie(vt).querySelector(".button-text")).fromTo("transform",Fe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),be.addAnimation(lt)}}),q){const le=(0,u.c)(),be=q.querySelector(":scope > ion-content"),Te=q.querySelectorAll(":scope > ion-header > ion-toolbar"),Ke=q.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(be||0!==Te.length||0!==Ke.length?(le.addElement(be),le.addElement(Ke)):le.addElement(q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),St.addAnimation(le),ee){le.beforeClearStyles([Ye]).fromTo("transform",`translateX(${he})`,Fe?"translateX(-100%)":"translateX(100%)");const Xe=(0,U.g)(q);St.afterAddWrite(()=>{"normal"===St.getDirection()&&Xe.style.setProperty("display","none")})}else le.fromTo("transform",`translateX(${he})`,`translateX(${re})`).fromTo(Ye,1,.8);if(be){const Xe=Ie(be).querySelector(".transition-effect");if(Xe){const Tt=Xe.querySelector(".transition-cover"),At=Xe.querySelector(".transition-shadow"),Pt=(0,u.c)(),dt=(0,u.c)(),Ht=(0,u.c)();Pt.addElement(Xe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),dt.addElement(Tt).beforeClearStyles([Ye]).fromTo(Ye,.1,0),Ht.addElement(At).beforeClearStyles([Ye]).fromTo(Ye,.7,.03),Pt.addAnimation([dt,Ht]),le.addAnimation([Pt])}}Te.forEach(Xe=>{const Tt=(0,u.c)();Tt.addElement(Xe);const At=(0,u.c)();At.addElement(Xe.querySelector("ion-title"));const Pt=(0,u.c)(),dt=Xe.querySelectorAll("ion-buttons,[menuToggle]"),Ht=Xe.closest("ion-header"),dn=null==Ht?void 0:Ht.classList.contains("header-collapse-condense-inactive"),vt=Array.from(dt).filter(_n=>{const an=_n.classList.contains("buttons-collapse");return an&&!dn||!an});Pt.addElement(vt);const ht=(0,u.c)(),lt=Xe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");lt.length>0&&ht.addElement(lt);const bt=(0,u.c)();bt.addElement(Ie(Xe).querySelector(".toolbar-background"));const zt=(0,u.c)(),En=Xe.querySelector("ion-back-button");if(En&&zt.addElement(En),Tt.addAnimation([At,Pt,ht,zt,bt]),St.addAnimation(Tt),zt.fromTo(Ye,.99,0),Pt.fromTo(Ye,.99,0),ht.fromTo(Ye,.99,0),ee){if(dn||At.fromTo("transform",`translateX(${he})`,Fe?"translateX(-100%)":"translateX(100%)").fromTo(Ye,.99,0),ht.fromTo("transform",`translateX(${he})`,Fe?"translateX(-100%)":"translateX(100%)"),bt.beforeClearStyles([Ye,"transform"]),(null==Ht?void 0:Ht.translucent)?bt.fromTo("transform","translateX(0px)",Fe?"translateX(-100%)":"translateX(100%)"):bt.fromTo(Ye,"var(--opacity)",0),En&&!Pe){const an=(0,u.c)();an.addElement(Ie(En).querySelector(".button-text")).fromTo("transform",`translateX(${he})`,`translateX(${(Fe?-124:124)+"px"})`),Tt.addAnimation(an)}}else dn||At.fromTo("transform",`translateX(${he})`,`translateX(${re})`).fromTo(Ye,.99,0).afterClearStyles([gt,Ye]),ht.fromTo("transform",`translateX(${he})`,`translateX(${re})`).afterClearStyles([gt,Ye]),zt.afterClearStyles([Ye]),At.afterClearStyles([Ye]),Pt.afterClearStyles([Ye])})}return St}catch(je){throw je}},Ve=10},6615:(Qt,it,O)=>{"use strict";O.r(it),O.d(it,{mdTransitionAnimation:()=>Oe});var u=O(4913),U=O(2325);O(1848),O(771);const Oe=(de,Ie)=>{var qe,Ge,Ce;const $e="back"===Ie.direction,ke=Ie.leavingEl,st=(0,U.g)(Ie.enteringEl),Le=st.querySelector("ion-toolbar"),je=(0,u.c)();if(je.addElement(st).fill("both").beforeRemoveClass("ion-page-invisible"),$e?je.duration((null!==(qe=Ie.duration)&&void 0!==qe?qe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):je.duration((null!==(Ge=Ie.duration)&&void 0!==Ge?Ge:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Le){const Ye=(0,u.c)();Ye.addElement(Le),je.addAnimation(Ye)}if(ke&&$e){je.duration((null!==(Ce=Ie.duration)&&void 0!==Ce?Ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ye=(0,u.c)();Ye.addElement((0,U.g)(ke)).onFinish(gt=>{1===gt&&Ye.elements.length>0&&Ye.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),je.addAnimation(Ye)}return je}},9207:(Qt,it,O)=>{"use strict";O.d(it,{B:()=>At,G:()=>Pt,O:()=>dt,a:()=>Ne,b:()=>$e,c:()=>Le,d:()=>Ht,e:()=>dn,f:()=>Xt,g:()=>ot,h:()=>be,i:()=>Ke,j:()=>Ye,k:()=>gt,m:()=>ke,n:()=>Ce,o:()=>Fe,q:()=>Je,s:()=>Tt});var u=O(5861),U=O(1848),K=O(2905),ae=O(3254),Oe=O(4393),de=O(512),Ie=O(2400);let qe=0,Ge=0;const Ce=new WeakMap,fe=vt=>({create:ht=>he(vt,ht),dismiss:(ht,lt,bt)=>ee(document,ht,lt,vt,bt),getTop:()=>(0,u.Z)(function*(){return Je(document,vt)})()}),Ne=fe("ion-alert"),$e=fe("ion-action-sheet"),ke=fe("ion-modal"),Le=fe("ion-popover"),Ye=vt=>{typeof document<"u"&&q(document);const ht=qe++;vt.overlayIndex=ht},gt=vt=>(vt.hasAttribute("id")||(vt.id="ion-overlay-"+ ++Ge),vt.id),he=(vt,ht)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(vt).then(()=>{const lt=document.createElement(vt);return lt.classList.add("overlay-hidden"),Object.assign(lt,Object.assign(Object.assign({},ht),{hasController:!0})),Pe(document).appendChild(lt),new Promise(bt=>(0,de.c)(lt,bt))}):Promise.resolve(),Be='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Fe=(vt,ht)=>{let lt=vt.querySelector(Be);const bt=null==lt?void 0:lt.shadowRoot;bt&&(lt=bt.querySelector(Be)||lt),lt?(0,de.f)(lt):ht.focus()},re=(vt,ht)=>{const lt=Array.from(vt.querySelectorAll(Be));let bt=lt.length>0?lt[lt.length-1]:null;const zt=null==bt?void 0:bt.shadowRoot;zt&&(bt=zt.querySelector(Be)||bt),bt?bt.focus():ht.focus()},q=vt=>{0===qe&&(qe=1,vt.addEventListener("focus",ht=>{((vt,ht)=>{const lt=Je(ht,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),bt=vt.target;lt&&bt&&!lt.classList.contains("ion-disable-focus-trap")&&(lt.shadowRoot?(()=>{if(lt.contains(bt))lt.lastFocus=bt;else{const _n=lt.lastFocus;Fe(lt,lt),_n===ht.activeElement&&re(lt,lt),lt.lastFocus=ht.activeElement}})():(()=>{if(lt===bt)lt.lastFocus=void 0;else{const _n=(0,de.g)(lt);if(!_n.contains(bt))return;const an=_n.querySelector(".ion-overlay-wrapper");if(!an)return;if(an.contains(bt)||bt===_n.querySelector("ion-backdrop"))lt.lastFocus=bt;else{const Nn=lt.lastFocus;Fe(an,lt),Nn===ht.activeElement&&re(an,lt),lt.lastFocus=ht.activeElement}}})())})(ht,vt)},!0),vt.addEventListener("ionBackButton",ht=>{const lt=Je(vt);null!=lt&&lt.backdropDismiss&&ht.detail.register(Oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>lt.dismiss(void 0,At))}),vt.addEventListener("keydown",ht=>{if("Escape"===ht.key){const lt=Je(vt);null!=lt&&lt.backdropDismiss&&lt.dismiss(void 0,At)}}))},ee=(vt,ht,lt,bt,zt)=>{const En=Je(vt,bt,zt);return En?En.dismiss(ht,lt):Promise.reject("overlay does not exist")},Me=(vt,ht)=>((vt,ht)=>(void 0===ht&&(ht="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(vt.querySelectorAll(ht)).filter(lt=>lt.overlayIndex>0)))(vt,ht).filter(lt=>!(vt=>vt.classList.contains("overlay-hidden"))(lt)),Je=(vt,ht,lt)=>{const bt=Me(vt,ht);return void 0===lt?bt[bt.length-1]:bt.find(zt=>zt.id===lt)},St=(vt=!1)=>{const lt=Pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");lt&&(vt?lt.setAttribute("aria-hidden","true"):lt.removeAttribute("aria-hidden"))},Xt=function(){var vt=(0,u.Z)(function*(ht,lt,bt,zt,En){var _n,an;if(ht.presented)return;St(!0),ht.presented=!0,ht.willPresent.emit(),null===(_n=ht.willPresentShorthand)||void 0===_n||_n.emit();const Nn=(0,K.b)(ht),Tn=ht.enterAnimation?ht.enterAnimation:K.c.get(lt,"ios"===Nn?bt:zt);(yield le(ht,Tn,ht.el,En))&&(ht.didPresent.emit(),null===(an=ht.didPresentShorthand)||void 0===an||an.emit()),"ION-TOAST"!==ht.el.tagName&&Pn(ht.el),ht.keyboardClose&&(null===document.activeElement||!ht.el.contains(document.activeElement))&&ht.el.focus()});return function(lt,bt,zt,En,_n){return vt.apply(this,arguments)}}(),Pn=function(){var vt=(0,u.Z)(function*(ht){let lt=document.activeElement;if(!lt)return;const bt=null==lt?void 0:lt.shadowRoot;bt&&(lt=bt.querySelector(Be)||lt),yield ht.onDidDismiss(),lt.focus()});return function(lt){return vt.apply(this,arguments)}}(),ot=function(){var vt=(0,u.Z)(function*(ht,lt,bt,zt,En,_n,an){var Nn,Tn;if(!ht.presented)return!1;void 0!==U.d&&1===Me(U.d).length&&St(!1),ht.presented=!1;try{ht.el.style.setProperty("pointer-events","none"),ht.willDismiss.emit({data:lt,role:bt}),null===(Nn=ht.willDismissShorthand)||void 0===Nn||Nn.emit({data:lt,role:bt});const Zn=(0,K.b)(ht),Gt=ht.leaveAnimation?ht.leaveAnimation:K.c.get(zt,"ios"===Zn?En:_n);bt!==Pt&&(yield le(ht,Gt,ht.el,an)),ht.didDismiss.emit({data:lt,role:bt}),null===(Tn=ht.didDismissShorthand)||void 0===Tn||Tn.emit({data:lt,role:bt}),Ce.delete(ht),ht.el.classList.add("overlay-hidden"),ht.el.style.removeProperty("pointer-events"),void 0!==ht.el.lastFocus&&(ht.el.lastFocus=void 0)}catch(Zn){console.error(Zn)}return ht.el.remove(),!0});return function(lt,bt,zt,En,_n,an,Nn){return vt.apply(this,arguments)}}(),Pe=vt=>vt.querySelector("ion-app")||vt.body,le=function(){var vt=(0,u.Z)(function*(ht,lt,bt,zt){bt.classList.remove("overlay-hidden");const _n=lt(ht.el,zt);(!ht.animated||!K.c.getBoolean("animated",!0))&&_n.duration(0),ht.keyboardClose&&_n.beforeAddWrite(()=>{const Nn=bt.ownerDocument.activeElement;null!=Nn&&Nn.matches("input,ion-input, ion-textarea")&&Nn.blur()});const an=Ce.get(ht)||[];return Ce.set(ht,[...an,_n]),yield _n.play(),!0});return function(lt,bt,zt,En){return vt.apply(this,arguments)}}(),be=(vt,ht)=>{let lt;const bt=new Promise(zt=>lt=zt);return Te(vt,ht,zt=>{lt(zt.detail)}),bt},Te=(vt,ht,lt)=>{const bt=zt=>{(0,de.b)(vt,ht,bt),lt(zt)};(0,de.a)(vt,ht,bt)},Ke=vt=>"cancel"===vt||vt===At,Xe=vt=>vt(),Tt=(vt,ht)=>{if("function"==typeof vt)return K.c.get("_zoneGate",Xe)(()=>{try{return vt(ht)}catch(bt){throw bt}})},At="backdrop",Pt="gesture",dt=39,Ht=vt=>{let lt,ht=!1;const bt=(0,ae.C)(),zt=(an=!1)=>{if(lt&&!an)return{delegate:lt,inline:ht};const{el:Nn,hasController:Tn,delegate:Zn}=vt;return ht=null!==Nn.parentNode&&!Tn,lt=ht?Zn||bt:Zn,{inline:ht,delegate:lt}};return{attachViewToDom:function(){var an=(0,u.Z)(function*(Nn){const{delegate:Tn}=zt(!0);if(Tn)return yield Tn.attachViewToDom(vt.el,Nn);const{hasController:Zn}=vt;if(Zn&&void 0!==Nn)throw new Error("framework delegate is missing");return null});return function(Tn){return an.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:an}=zt();an&&void 0!==vt.el&&an.removeViewFromDom(vt.el.parentElement,vt.el)}}},dn=()=>{let vt;const ht=()=>{vt&&(vt(),vt=void 0)};return{addClickListener:(bt,zt)=>{ht();const En=void 0!==zt?document.getElementById(zt):null;En?vt=((an,Nn)=>{const Tn=()=>{Nn.present()};return an.addEventListener("click",Tn),()=>{an.removeEventListener("click",Tn)}})(En,bt):(0,Ie.p)(`A trigger element with the ID "${zt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,bt)},removeClickListener:ht}}},553:(Qt,it,O)=>{"use strict";O.d(it,{N:()=>u});const u={production:!0,firebase:{apiKey:"AIzaSyBcSdRd6GC556O_miOlYCUYsiRWB0X3DJ4",authDomain:"fir-rn-69c21.firebaseapp.com",projectId:"fir-rn-69c21",storageBucket:"fir-rn-69c21.appspot.com",messagingSenderId:"204073559238",appId:"1:204073559238:web:4c1b2430b9faf3c2cc23c7"}}},9353:(Qt,it,O)=>{"use strict";var u=O(6593),U=O(9212),K=O(4934),ae=O(7217),Oe=O(9027),de=O(830),Ie=O(5472),qe=O(1929),Ge=O(5861),Ce=O(9949);let fe=(()=>{var q;class ee{constructor(Me,Je){this.afAuth=Me,this.router=Je,this.user$=this.afAuth.authState}signIn(Me,Je){var St=this;return(0,Ge.Z)(function*(){try{yield St.afAuth.signInWithEmailAndPassword(Me,Je),St.router.navigate(["/tabs"])}catch(Xt){throw console.error("Error al iniciar sesi\xf3n:",Xt),Xt}})()}signOut(){var Me=this;return(0,Ge.Z)(function*(){try{yield Me.afAuth.signOut(),Me.router.navigate(["/login"])}catch(Je){console.error("Error al cerrar sesi\xf3n:",Je)}})()}}return(q=ee).\u0275fac=function(Me){return new(Me||q)(U.LFG(Ce.zQ),U.LFG(K.F0))},q.\u0275prov=U.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),ee})(),Ne=(()=>{var q;class ee{constructor(Me){this.authService=Me}signOut(){this.authService.signOut()}}return(q=ee).\u0275fac=function(Me){return new(Me||q)(U.Y36(fe))},q.\u0275cmp=U.Xpm({type:q,selectors:[["app-tabs"]],decls:14,vars:0,consts:[["slot","bottom"],["tab","tab1","href","/tabs/tab1"],["name","triangle"],["tab","tab2","href","/tabs/tab2"],["name","ellipse"],[3,"click"],["name","log-out"]],template:function(Me,Je){1&Me&&(U.TgZ(0,"ion-tabs")(1,"ion-tab-bar",0)(2,"ion-tab-button",1),U._UZ(3,"ion-icon",2),U.TgZ(4,"ion-label"),U._uU(5,"Lista"),U.qZA()(),U.TgZ(6,"ion-tab-button",3),U._UZ(7,"ion-icon",4),U.TgZ(8,"ion-label"),U._uU(9,"Crear"),U.qZA()(),U.TgZ(10,"ion-tab-button",5),U.NdJ("click",function(){return Je.signOut()}),U._UZ(11,"ion-icon",6),U.TgZ(12,"ion-label"),U._uU(13,"Cerrar Sesi\xf3n"),U.qZA()()()())},dependencies:[qe.gu,qe.Q$,qe.yq,qe.ZU,qe.UN]}),ee})();var $e=O(95);let Ve=(()=>{var q;class ee{constructor(Me,Je){this.authService=Me,this.router=Je,this.email="",this.password=""}onSubmit(){var Me=this;return(0,Ge.Z)(function*(){try{yield Me.authService.signIn(Me.email,Me.password),Me.router.navigate(["/tabs"])}catch(Je){console.error("Error al iniciar sesi\xf3n:",Je)}})()}}return(q=ee).\u0275fac=function(Me){return new(Me||q)(U.Y36(fe),U.Y36(K.F0))},q.\u0275cmp=U.Xpm({type:q,selectors:[["app-login"]],decls:11,vars:2,consts:[[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(Me,Je){1&Me&&(U.TgZ(0,"form",0),U.NdJ("ngSubmit",function(){return Je.onSubmit()}),U.TgZ(1,"div")(2,"label",1),U._uU(3,"Email:"),U.qZA(),U.TgZ(4,"input",2),U.NdJ("ngModelChange",function(Xt){return Je.email=Xt}),U.qZA()(),U.TgZ(5,"div")(6,"label",3),U._uU(7,"Password:"),U.qZA(),U.TgZ(8,"input",4),U.NdJ("ngModelChange",function(Xt){return Je.password=Xt}),U.qZA()(),U.TgZ(9,"button",5),U._uU(10,"Iniciar Sesi\xf3n"),U.qZA()()),2&Me&&(U.xp6(4),U.Q6J("ngModel",Je.email),U.xp6(4),U.Q6J("ngModel",Je.password))},dependencies:[$e._Y,$e.Fj,$e.JJ,$e.JL,$e.Q7,$e.On,$e.F],styles:["form[_ngcontent-%COMP%]{max-width:300px;margin:auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#fff;box-shadow:0 0 10px #0000001a}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}input[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box;margin-bottom:10px}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 15px;border:none;border-radius:5px;cursor:pointer;font-size:16px}button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]}),ee})();var ke=O(8180);const Le=[{path:"login",component:Ve},{path:"tabs",component:Ne,canActivate:[(()=>{var q;class ee{constructor(Me,Je){this.router=Me,this.afAuth=Je}canActivate(){return new Promise(Me=>{this.afAuth.authState.pipe((0,ke.q)(1)).subscribe(Je=>{Je?Me(!0):(this.router.navigate(["/login"]),Me(!1))})})}}return(q=ee).\u0275fac=function(Me){return new(Me||q)(U.LFG(K.F0),U.LFG(Ce.zQ))},q.\u0275prov=U.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),ee})()],children:[]},{path:"",redirectTo:"/tabs",pathMatch:"full"}];let je=(()=>{var q;class ee{}return(q=ee).\u0275fac=function(Me){return new(Me||q)},q.\u0275mod=U.oAB({type:q}),q.\u0275inj=U.cJS({imports:[K.Bz.forRoot(Le),K.Bz]}),ee})(),Ye=(()=>{var q;class ee{constructor(){}}return(q=ee).\u0275fac=function(Me){return new(Me||q)},q.\u0275cmp=U.Xpm({type:q,selectors:[["app-root"]],decls:2,vars:0,template:function(Me,Je){1&Me&&(U.TgZ(0,"ion-app"),U._UZ(1,"ion-router-outlet"),U.qZA())},dependencies:[qe.dr,qe.jP]}),ee})();var gt=O(553);let he=(()=>{var q;class ee{}return(q=ee).\u0275fac=function(Me){return new(Me||q)},q.\u0275mod=U.oAB({type:q}),q.\u0275inj=U.cJS({imports:[$e.u5]}),ee})();var Be=O(6814);const Fe=[{path:"tabs",component:Ne,children:[{path:"tab1",loadChildren:()=>Promise.all([O.e(8207),O.e(6849)]).then(O.bind(O,6849)).then(q=>q.Tab1PageModule)},{path:"tab2",loadChildren:()=>Promise.all([O.e(8207),O.e(8204)]).then(O.bind(O,8204)).then(q=>q.Tab2PageModule)},{path:"tab3",loadChildren:()=>Promise.all([O.e(8207),O.e(582)]).then(O.bind(O,582)).then(q=>q.Tab3PageModule)},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}];let Ee=(()=>{var q;class ee{}return(q=ee).\u0275fac=function(Me){return new(Me||q)},q.\u0275mod=U.oAB({type:q}),q.\u0275inj=U.cJS({imports:[K.Bz.forChild(Fe)]}),ee})(),re=(()=>{var q;class ee{}return(q=ee).\u0275fac=function(Me){return new(Me||q)},q.\u0275mod=U.oAB({type:q}),q.\u0275inj=U.cJS({imports:[qe.Pc.forRoot(),Be.ez,$e.u5,Ee]}),ee})(),_e=(()=>{var q;class ee{}return(q=ee).\u0275fac=function(Me){return new(Me||q)},q.\u0275mod=U.oAB({type:q,bootstrap:[Ye]}),q.\u0275inj=U.cJS({providers:[{provide:K.wN,useClass:Ie.r4}],imports:[u.b2,qe.Pc.forRoot(),je,ae.hO.initializeApp(gt.N.firebase),Oe.yb,de.TE,Ce.ww,he,re]}),ee})();gt.N.production&&(0,U.G48)(),u.q6().bootstrapModule(_e).catch(q=>console.log(q))},5619:(Qt,it,O)=>{"use strict";O.d(it,{X:()=>U});var u=O(8645);class U extends u.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const Oe=super._subscribe(ae);return!Oe.closed&&ae.next(this._value),Oe}getValue(){const{hasError:ae,thrownError:Oe,_value:de}=this;if(ae)throw Oe;return this._throwIfClosed(),de}next(ae){super.next(this._value=ae)}}},5592:(Qt,it,O)=>{"use strict";O.d(it,{y:()=>qe});var u=O(305),U=O(7394),K=O(4850),ae=O(8407),Oe=O(2653),de=O(4674),Ie=O(1441);let qe=(()=>{class Ne{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const ke=new Ne;return ke.source=this,ke.operator=Ve,ke}subscribe(Ve,ke,st){const Le=function fe(Ne){return Ne&&Ne instanceof u.Lv||function Ce(Ne){return Ne&&(0,de.m)(Ne.next)&&(0,de.m)(Ne.error)&&(0,de.m)(Ne.complete)}(Ne)&&(0,U.Nn)(Ne)}(Ve)?Ve:new u.Hp(Ve,ke,st);return(0,Ie.x)(()=>{const{operator:je,source:Ye}=this;Le.add(je?je.call(Le,Ye):Ye?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(ke){Ve.error(ke)}}forEach(Ve,ke){return new(ke=Ge(ke))((st,Le)=>{const je=new u.Hp({next:Ye=>{try{Ve(Ye)}catch(gt){Le(gt),je.unsubscribe()}},error:Le,complete:st});this.subscribe(je)})}_subscribe(Ve){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(Ve)}[K.L](){return this}pipe(...Ve){return(0,ae.U)(Ve)(this)}toPromise(Ve){return new(Ve=Ge(Ve))((ke,st)=>{let Le;this.subscribe(je=>Le=je,je=>st(je),()=>ke(Le))})}}return Ne.create=$e=>new Ne($e),Ne})();function Ge(Ne){var $e;return null!==($e=null!=Ne?Ne:Oe.config.Promise)&&void 0!==$e?$e:Promise}},8645:(Qt,it,O)=>{"use strict";O.d(it,{x:()=>Ie});var u=O(5592),U=O(7394);const ae=(0,O(2306).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=O(9039),de=O(1441);let Ie=(()=>{class Ge extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Ne=new qe(this,this);return Ne.operator=fe,Ne}_throwIfClosed(){if(this.closed)throw new ae}next(fe){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(fe)}})}error(fe){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(fe)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Ne,isStopped:$e,observers:Ve}=this;return Ne||$e?U.Lc:(this.currentObservers=null,Ve.push(fe),new U.w0(()=>{this.currentObservers=null,(0,Oe.P)(Ve,fe)}))}_checkFinalizedStatuses(fe){const{hasError:Ne,thrownError:$e,isStopped:Ve}=this;Ne?fe.error($e):Ve&&fe.complete()}asObservable(){const fe=new u.y;return fe.source=this,fe}}return Ge.create=(Ce,fe)=>new qe(Ce,fe),Ge})();class qe extends Ie{constructor(Ce,fe){super(),this.destination=Ce,this.source=fe}next(Ce){var fe,Ne;null===(Ne=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Ne||Ne.call(fe,Ce)}error(Ce){var fe,Ne;null===(Ne=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Ne||Ne.call(fe,Ce)}complete(){var Ce,fe;null===(fe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===fe||fe.call(Ce)}_subscribe(Ce){var fe,Ne;return null!==(Ne=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ce))&&void 0!==Ne?Ne:U.Lc}}},305:(Qt,it,O)=>{"use strict";O.d(it,{Hp:()=>st,Lv:()=>Ne});var u=O(4674),U=O(7394),K=O(2653),ae=O(3894),Oe=O(2420);const de=Ge("C",void 0,void 0);function Ge(he,Be,Fe){return{kind:he,value:Be,error:Fe}}var Ce=O(7599),fe=O(1441);class Ne extends U.w0{constructor(Be){super(),this.isStopped=!1,Be?(this.destination=Be,(0,U.Nn)(Be)&&Be.add(this)):this.destination=gt}static create(Be,Fe,Ee){return new st(Be,Fe,Ee)}next(Be){this.isStopped?Ye(function qe(he){return Ge("N",he,void 0)}(Be),this):this._next(Be)}error(Be){this.isStopped?Ye(function Ie(he){return Ge("E",void 0,he)}(Be),this):(this.isStopped=!0,this._error(Be))}complete(){this.isStopped?Ye(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Be){this.destination.next(Be)}_error(Be){try{this.destination.error(Be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ve(he,Be){return $e.call(he,Be)}class ke{constructor(Be){this.partialObserver=Be}next(Be){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(Be)}catch(Ee){Le(Ee)}}error(Be){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(Be)}catch(Ee){Le(Ee)}else Le(Be)}complete(){const{partialObserver:Be}=this;if(Be.complete)try{Be.complete()}catch(Fe){Le(Fe)}}}class st extends Ne{constructor(Be,Fe,Ee){let re;if(super(),(0,u.m)(Be)||!Be)re={next:null!=Be?Be:void 0,error:null!=Fe?Fe:void 0,complete:null!=Ee?Ee:void 0};else{let _e;this&&K.config.useDeprecatedNextContext?(_e=Object.create(Be),_e.unsubscribe=()=>this.unsubscribe(),re={next:Be.next&&Ve(Be.next,_e),error:Be.error&&Ve(Be.error,_e),complete:Be.complete&&Ve(Be.complete,_e)}):re=Be}this.destination=new ke(re)}}function Le(he){K.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(he):(0,ae.h)(he)}function Ye(he,Be){const{onStoppedNotification:Fe}=K.config;Fe&&Ce.z.setTimeout(()=>Fe(he,Be))}const gt={closed:!0,next:Oe.Z,error:function je(he){throw he},complete:Oe.Z}},7394:(Qt,it,O)=>{"use strict";O.d(it,{Lc:()=>de,w0:()=>Oe,Nn:()=>Ie});var u=O(4674);const K=(0,O(2306).d)(Ge=>function(fe){Ge(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Ne,$e)=>`${$e+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var ae=O(9039);class Oe{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Ve of fe)Ve.remove(this);else fe.remove(this);const{initialTeardown:Ne}=this;if((0,u.m)(Ne))try{Ne()}catch(Ve){Ce=Ve instanceof K?Ve.errors:[Ve]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ve of $e)try{qe(Ve)}catch(ke){Ce=null!=Ce?Ce:[],ke instanceof K?Ce=[...Ce,...ke.errors]:Ce.push(ke)}}if(Ce)throw new K(Ce)}}add(Ce){var fe;if(Ce&&Ce!==this)if(this.closed)qe(Ce);else{if(Ce instanceof Oe){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(Ce)}}_hasParent(Ce){const{_parentage:fe}=this;return fe===Ce||Array.isArray(fe)&&fe.includes(Ce)}_addParent(Ce){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(Ce),fe):fe?[fe,Ce]:Ce}_removeParent(Ce){const{_parentage:fe}=this;fe===Ce?this._parentage=null:Array.isArray(fe)&&(0,ae.P)(fe,Ce)}remove(Ce){const{_finalizers:fe}=this;fe&&(0,ae.P)(fe,Ce),Ce instanceof Oe&&Ce._removeParent(this)}}Oe.EMPTY=(()=>{const Ge=new Oe;return Ge.closed=!0,Ge})();const de=Oe.EMPTY;function Ie(Ge){return Ge instanceof Oe||Ge&&"closed"in Ge&&(0,u.m)(Ge.remove)&&(0,u.m)(Ge.add)&&(0,u.m)(Ge.unsubscribe)}function qe(Ge){(0,u.m)(Ge)?Ge():Ge.unsubscribe()}},2653:(Qt,it,O)=>{"use strict";O.d(it,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Qt,it,O)=>{"use strict";O.d(it,{a:()=>Ce});var u=O(5592),U=O(7453),K=O(2459),ae=O(2737),Oe=O(7400),de=O(4564),Ie=O(2714),qe=O(8251),Ge=O(7103);function Ce(...$e){const Ve=(0,de.yG)($e),ke=(0,de.jO)($e),{args:st,keys:Le}=(0,U.D)($e);if(0===st.length)return(0,K.D)([],Ve);const je=new u.y(function fe($e,Ve,ke=ae.y){return st=>{Ne(Ve,()=>{const{length:Le}=$e,je=new Array(Le);let Ye=Le,gt=Le;for(let he=0;he<Le;he++)Ne(Ve,()=>{const Be=(0,K.D)($e[he],Ve);let Fe=!1;Be.subscribe((0,qe.x)(st,Ee=>{je[he]=Ee,Fe||(Fe=!0,gt--),gt||st.next(ke(je.slice()))},()=>{--Ye||st.complete()}))},st)},st)}}(st,Ve,Le?Ye=>(0,Ie.n)(Le,Ye):ae.y));return ke?je.pipe((0,Oe.Z)(ke)):je}function Ne($e,Ve,ke){$e?(0,Ge.f)(ke,$e,Ve):Ve()}},5211:(Qt,it,O)=>{"use strict";O.d(it,{z:()=>Oe});var u=O(7537),K=O(4564),ae=O(2459);function Oe(...de){return function U(){return(0,u.J)(1)}()((0,ae.D)(de,(0,K.yG)(de)))}},6232:(Qt,it,O)=>{"use strict";O.d(it,{E:()=>U});const U=new(O(5592).y)(Oe=>Oe.complete())},2459:(Qt,it,O)=>{"use strict";O.d(it,{D:()=>Be});var u=O(4829),U=O(3093),K=O(5137),de=O(5592),qe=O(4971),Ge=O(4674),Ce=O(7103);function Ne(Fe,Ee){if(!Fe)throw new Error("Iterable cannot be null");return new de.y(re=>{(0,Ce.f)(re,Ee,()=>{const _e=Fe[Symbol.asyncIterator]();(0,Ce.f)(re,Ee,()=>{_e.next().then(q=>{q.done?re.complete():re.next(q.value)})},0,!0)})})}var $e=O(8382),Ve=O(4026),ke=O(4266),st=O(3664),Le=O(5726),je=O(9853),Ye=O(541);function Be(Fe,Ee){return Ee?function he(Fe,Ee){if(null!=Fe){if((0,$e.c)(Fe))return function ae(Fe,Ee){return(0,u.Xf)(Fe).pipe((0,K.R)(Ee),(0,U.Q)(Ee))}(Fe,Ee);if((0,ke.z)(Fe))return function Ie(Fe,Ee){return new de.y(re=>{let _e=0;return Ee.schedule(function(){_e===Fe.length?re.complete():(re.next(Fe[_e++]),re.closed||this.schedule())})})}(Fe,Ee);if((0,Ve.t)(Fe))return function Oe(Fe,Ee){return(0,u.Xf)(Fe).pipe((0,K.R)(Ee),(0,U.Q)(Ee))}(Fe,Ee);if((0,Le.D)(Fe))return Ne(Fe,Ee);if((0,st.T)(Fe))return function fe(Fe,Ee){return new de.y(re=>{let _e;return(0,Ce.f)(re,Ee,()=>{_e=Fe[qe.h](),(0,Ce.f)(re,Ee,()=>{let q,ee;try{({value:q,done:ee}=_e.next())}catch(ze){return void re.error(ze)}ee?re.complete():re.next(q)},0,!0)}),()=>(0,Ge.m)(null==_e?void 0:_e.return)&&_e.return()})}(Fe,Ee);if((0,Ye.L)(Fe))return function gt(Fe,Ee){return Ne((0,Ye.Q)(Fe),Ee)}(Fe,Ee)}throw(0,je.z)(Fe)}(Fe,Ee):(0,u.Xf)(Fe)}},2438:(Qt,it,O)=>{"use strict";O.d(it,{R:()=>Ce});var u=O(4829),U=O(5592),K=O(1631),ae=O(4266),Oe=O(4674),de=O(7400);const Ie=["addListener","removeListener"],qe=["addEventListener","removeEventListener"],Ge=["on","off"];function Ce(ke,st,Le,je){if((0,Oe.m)(Le)&&(je=Le,Le=void 0),je)return Ce(ke,st,Le).pipe((0,de.Z)(je));const[Ye,gt]=function Ve(ke){return(0,Oe.m)(ke.addEventListener)&&(0,Oe.m)(ke.removeEventListener)}(ke)?qe.map(he=>Be=>ke[he](st,Be,Le)):function Ne(ke){return(0,Oe.m)(ke.addListener)&&(0,Oe.m)(ke.removeListener)}(ke)?Ie.map(fe(ke,st)):function $e(ke){return(0,Oe.m)(ke.on)&&(0,Oe.m)(ke.off)}(ke)?Ge.map(fe(ke,st)):[];if(!Ye&&(0,ae.z)(ke))return(0,K.z)(he=>Ce(he,st,Le))((0,u.Xf)(ke));if(!Ye)throw new TypeError("Invalid event target");return new U.y(he=>{const Be=(...Fe)=>he.next(1<Fe.length?Fe:Fe[0]);return Ye(Be),()=>gt(Be)})}function fe(ke,st){return Le=>je=>ke[Le](st,je)}},4829:(Qt,it,O)=>{"use strict";O.d(it,{Xf:()=>$e});var u=O(7582),U=O(4266),K=O(4026),ae=O(5592),Oe=O(8382),de=O(5726),Ie=O(9853),qe=O(3664),Ge=O(541),Ce=O(4674),fe=O(3894),Ne=O(4850);function $e(he){if(he instanceof ae.y)return he;if(null!=he){if((0,Oe.c)(he))return function Ve(he){return new ae.y(Be=>{const Fe=he[Ne.L]();if((0,Ce.m)(Fe.subscribe))return Fe.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(he);if((0,U.z)(he))return function ke(he){return new ae.y(Be=>{for(let Fe=0;Fe<he.length&&!Be.closed;Fe++)Be.next(he[Fe]);Be.complete()})}(he);if((0,K.t)(he))return function st(he){return new ae.y(Be=>{he.then(Fe=>{Be.closed||(Be.next(Fe),Be.complete())},Fe=>Be.error(Fe)).then(null,fe.h)})}(he);if((0,de.D)(he))return je(he);if((0,qe.T)(he))return function Le(he){return new ae.y(Be=>{for(const Fe of he)if(Be.next(Fe),Be.closed)return;Be.complete()})}(he);if((0,Ge.L)(he))return function Ye(he){return je((0,Ge.Q)(he))}(he)}throw(0,Ie.z)(he)}function je(he){return new ae.y(Be=>{(function gt(he,Be){var Fe,Ee,re,_e;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,u.KL)(he);!(Ee=yield Fe.next()).done;)if(Be.next(Ee.value),Be.closed)return}catch(q){re={error:q}}finally{try{Ee&&!Ee.done&&(_e=Fe.return)&&(yield _e.call(Fe))}finally{if(re)throw re.error}}Be.complete()})})(he,Be).catch(Fe=>Be.error(Fe))})}},2096:(Qt,it,O)=>{"use strict";O.d(it,{of:()=>K});var u=O(4564),U=O(2459);function K(...ae){const Oe=(0,u.yG)(ae);return(0,U.D)(ae,Oe)}},8251:(Qt,it,O)=>{"use strict";O.d(it,{x:()=>U});var u=O(305);function U(ae,Oe,de,Ie,qe){return new K(ae,Oe,de,Ie,qe)}class K extends u.Lv{constructor(Oe,de,Ie,qe,Ge,Ce){super(Oe),this.onFinalize=Ge,this.shouldUnsubscribe=Ce,this._next=de?function(fe){try{de(fe)}catch(Ne){Oe.error(Ne)}}:super._next,this._error=qe?function(fe){try{qe(fe)}catch(Ne){Oe.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(fe){Oe.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(Oe=this.onFinalize)||void 0===Oe||Oe.call(this))}}}},3572:(Qt,it,O)=>{"use strict";O.d(it,{d:()=>K});var u=O(9360),U=O(8251);function K(ae){return(0,u.e)((Oe,de)=>{let Ie=!1;Oe.subscribe((0,U.x)(de,qe=>{Ie=!0,de.next(qe)},()=>{Ie||de.next(ae),de.complete()}))})}},3997:(Qt,it,O)=>{"use strict";O.d(it,{x:()=>ae});var u=O(2737),U=O(9360),K=O(8251);function ae(de,Ie=u.y){return de=null!=de?de:Oe,(0,U.e)((qe,Ge)=>{let Ce,fe=!0;qe.subscribe((0,K.x)(Ge,Ne=>{const $e=Ie(Ne);(fe||!de(Ce,$e))&&(fe=!1,Ce=$e,Ge.next(Ne))}))})}function Oe(de,Ie){return de===Ie}},2181:(Qt,it,O)=>{"use strict";O.d(it,{h:()=>K});var u=O(9360),U=O(8251);function K(ae,Oe){return(0,u.e)((de,Ie)=>{let qe=0;de.subscribe((0,U.x)(Ie,Ge=>ae.call(Oe,Ge,qe++)&&Ie.next(Ge)))})}},1374:(Qt,it,O)=>{"use strict";O.d(it,{P:()=>Ie});var u=O(6973),U=O(2181),K=O(8180),ae=O(3572),Oe=O(3026),de=O(2737);function Ie(qe,Ge){const Ce=arguments.length>=2;return fe=>fe.pipe(qe?(0,U.h)((Ne,$e)=>qe(Ne,$e,fe)):de.y,(0,K.q)(1),Ce?(0,ae.d)(Ge):(0,Oe.T)(()=>new u.K))}},7398:(Qt,it,O)=>{"use strict";O.d(it,{U:()=>K});var u=O(9360),U=O(8251);function K(ae,Oe){return(0,u.e)((de,Ie)=>{let qe=0;de.subscribe((0,U.x)(Ie,Ge=>{Ie.next(ae.call(Oe,Ge,qe++))}))})}},7537:(Qt,it,O)=>{"use strict";O.d(it,{J:()=>K});var u=O(1631),U=O(2737);function K(ae=1/0){return(0,u.z)(U.y,ae)}},1631:(Qt,it,O)=>{"use strict";O.d(it,{z:()=>qe});var u=O(7398),U=O(4829),K=O(9360),ae=O(7103),Oe=O(8251),Ie=O(4674);function qe(Ge,Ce,fe=1/0){return(0,Ie.m)(Ce)?qe((Ne,$e)=>(0,u.U)((Ve,ke)=>Ce(Ne,Ve,$e,ke))((0,U.Xf)(Ge(Ne,$e))),fe):("number"==typeof Ce&&(fe=Ce),(0,K.e)((Ne,$e)=>function de(Ge,Ce,fe,Ne,$e,Ve,ke,st){const Le=[];let je=0,Ye=0,gt=!1;const he=()=>{gt&&!Le.length&&!je&&Ce.complete()},Be=Ee=>je<Ne?Fe(Ee):Le.push(Ee),Fe=Ee=>{Ve&&Ce.next(Ee),je++;let re=!1;(0,U.Xf)(fe(Ee,Ye++)).subscribe((0,Oe.x)(Ce,_e=>{null==$e||$e(_e),Ve?Be(_e):Ce.next(_e)},()=>{re=!0},void 0,()=>{if(re)try{for(je--;Le.length&&je<Ne;){const _e=Le.shift();ke?(0,ae.f)(Ce,ke,()=>Fe(_e)):Fe(_e)}he()}catch(_e){Ce.error(_e)}}))};return Ge.subscribe((0,Oe.x)(Ce,Be,()=>{gt=!0,he()})),()=>{null==st||st()}}(Ne,$e,Ge,fe)))}},3093:(Qt,it,O)=>{"use strict";O.d(it,{Q:()=>ae});var u=O(7103),U=O(9360),K=O(8251);function ae(Oe,de=0){return(0,U.e)((Ie,qe)=>{Ie.subscribe((0,K.x)(qe,Ge=>(0,u.f)(qe,Oe,()=>qe.next(Ge),de),()=>(0,u.f)(qe,Oe,()=>qe.complete(),de),Ge=>(0,u.f)(qe,Oe,()=>qe.error(Ge),de)))})}},6699:(Qt,it,O)=>{"use strict";O.d(it,{R:()=>ae});var u=O(9360),U=O(8251);function ae(Oe,de){return(0,u.e)(function K(Oe,de,Ie,qe,Ge){return(Ce,fe)=>{let Ne=Ie,$e=de,Ve=0;Ce.subscribe((0,U.x)(fe,ke=>{const st=Ve++;$e=Ne?Oe($e,ke,st):(Ne=!0,ke),qe&&fe.next($e)},Ge&&(()=>{Ne&&fe.next($e),fe.complete()})))}}(Oe,de,arguments.length>=2,!0))}},7921:(Qt,it,O)=>{"use strict";O.d(it,{O:()=>ae});var u=O(5211),U=O(4564),K=O(9360);function ae(...Oe){const de=(0,U.yG)(Oe);return(0,K.e)((Ie,qe)=>{(de?(0,u.z)(Oe,Ie,de):(0,u.z)(Oe,Ie)).subscribe(qe)})}},5137:(Qt,it,O)=>{"use strict";O.d(it,{R:()=>U});var u=O(9360);function U(K,ae=0){return(0,u.e)((Oe,de)=>{de.add(K.schedule(()=>Oe.subscribe(de),ae))})}},4664:(Qt,it,O)=>{"use strict";O.d(it,{w:()=>ae});var u=O(4829),U=O(9360),K=O(8251);function ae(Oe,de){return(0,U.e)((Ie,qe)=>{let Ge=null,Ce=0,fe=!1;const Ne=()=>fe&&!Ge&&qe.complete();Ie.subscribe((0,K.x)(qe,$e=>{null==Ge||Ge.unsubscribe();let Ve=0;const ke=Ce++;(0,u.Xf)(Oe($e,ke)).subscribe(Ge=(0,K.x)(qe,st=>qe.next(de?de($e,st,ke,Ve++):st),()=>{Ge=null,Ne()}))},()=>{fe=!0,Ne()}))})}},8180:(Qt,it,O)=>{"use strict";O.d(it,{q:()=>ae});var u=O(6232),U=O(9360),K=O(8251);function ae(Oe){return Oe<=0?()=>u.E:(0,U.e)((de,Ie)=>{let qe=0;de.subscribe((0,K.x)(Ie,Ge=>{++qe<=Oe&&(Ie.next(Ge),Oe<=qe&&Ie.complete())}))})}},9397:(Qt,it,O)=>{"use strict";O.d(it,{b:()=>Oe});var u=O(4674),U=O(9360),K=O(8251),ae=O(2737);function Oe(de,Ie,qe){const Ge=(0,u.m)(de)||Ie||qe?{next:de,error:Ie,complete:qe}:de;return Ge?(0,U.e)((Ce,fe)=>{var Ne;null===(Ne=Ge.subscribe)||void 0===Ne||Ne.call(Ge);let $e=!0;Ce.subscribe((0,K.x)(fe,Ve=>{var ke;null===(ke=Ge.next)||void 0===ke||ke.call(Ge,Ve),fe.next(Ve)},()=>{var Ve;$e=!1,null===(Ve=Ge.complete)||void 0===Ve||Ve.call(Ge),fe.complete()},Ve=>{var ke;$e=!1,null===(ke=Ge.error)||void 0===ke||ke.call(Ge,Ve),fe.error(Ve)},()=>{var Ve,ke;$e&&(null===(Ve=Ge.unsubscribe)||void 0===Ve||Ve.call(Ge)),null===(ke=Ge.finalize)||void 0===ke||ke.call(Ge)}))}):ae.y}},3026:(Qt,it,O)=>{"use strict";O.d(it,{T:()=>ae});var u=O(6973),U=O(9360),K=O(8251);function ae(de=Oe){return(0,U.e)((Ie,qe)=>{let Ge=!1;Ie.subscribe((0,K.x)(qe,Ce=>{Ge=!0,qe.next(Ce)},()=>Ge?qe.complete():qe.error(de())))})}function Oe(){return new u.K}},1954:(Qt,it,O)=>{"use strict";O.d(it,{o:()=>Oe});var u=O(7394);class U extends u.w0{constructor(Ie,qe){super()}schedule(Ie,qe=0){return this}}const K={setInterval(de,Ie,...qe){const{delegate:Ge}=K;return null!=Ge&&Ge.setInterval?Ge.setInterval(de,Ie,...qe):setInterval(de,Ie,...qe)},clearInterval(de){const{delegate:Ie}=K;return((null==Ie?void 0:Ie.clearInterval)||clearInterval)(de)},delegate:void 0};var ae=O(9039);class Oe extends U{constructor(Ie,qe){super(Ie,qe),this.scheduler=Ie,this.work=qe,this.pending=!1}schedule(Ie,qe=0){var Ge;if(this.closed)return this;this.state=Ie;const Ce=this.id,fe=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(fe,Ce,qe)),this.pending=!0,this.delay=qe,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(fe,this.id,qe),this}requestAsyncId(Ie,qe,Ge=0){return K.setInterval(Ie.flush.bind(Ie,this),Ge)}recycleAsyncId(Ie,qe,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return qe;null!=qe&&K.clearInterval(qe)}execute(Ie,qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Ie,qe);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,qe){let Ce,Ge=!1;try{this.work(Ie)}catch(fe){Ge=!0,Ce=fe||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),Ce}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:qe}=this,{actions:Ge}=qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(Ge,this),null!=Ie&&(this.id=this.recycleAsyncId(qe,Ie,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qt,it,O)=>{"use strict";O.d(it,{v:()=>K});var u=O(4552);class U{constructor(Oe,de=U.now){this.schedulerActionCtor=Oe,this.now=de}schedule(Oe,de=0,Ie){return new this.schedulerActionCtor(this,Oe).schedule(Ie,de)}}U.now=u.l.now;class K extends U{constructor(Oe,de=U.now){super(Oe,de),this.actions=[],this._active=!1}flush(Oe){const{actions:de}=this;if(this._active)return void de.push(Oe);let Ie;this._active=!0;do{if(Ie=Oe.execute(Oe.state,Oe.delay))break}while(Oe=de.shift());if(this._active=!1,Ie){for(;Oe=de.shift();)Oe.unsubscribe();throw Ie}}}},6321:(Qt,it,O)=>{"use strict";O.d(it,{z:()=>K});var u=O(1954);const K=new(O(2631).v)(u.o)},4552:(Qt,it,O)=>{"use strict";O.d(it,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(Qt,it,O)=>{"use strict";O.d(it,{z:()=>u});const u={setTimeout(U,K,...ae){const{delegate:Oe}=u;return null!=Oe&&Oe.setTimeout?Oe.setTimeout(U,K,...ae):setTimeout(U,K,...ae)},clearTimeout(U){const{delegate:K}=u;return((null==K?void 0:K.clearTimeout)||clearTimeout)(U)},delegate:void 0}},4971:(Qt,it,O)=>{"use strict";O.d(it,{h:()=>U});const U=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qt,it,O)=>{"use strict";O.d(it,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Qt,it,O)=>{"use strict";O.d(it,{K:()=>U});const U=(0,O(2306).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Qt,it,O)=>{"use strict";O.d(it,{_6:()=>de,jO:()=>ae,yG:()=>Oe});var u=O(4674);function K(Ie){return Ie[Ie.length-1]}function ae(Ie){return(0,u.m)(K(Ie))?Ie.pop():void 0}function Oe(Ie){return function U(Ie){return Ie&&(0,u.m)(Ie.schedule)}(K(Ie))?Ie.pop():void 0}function de(Ie,qe){return"number"==typeof K(Ie)?Ie.pop():qe}},7453:(Qt,it,O)=>{"use strict";O.d(it,{D:()=>Oe});const{isArray:u}=Array,{getPrototypeOf:U,prototype:K,keys:ae}=Object;function Oe(Ie){if(1===Ie.length){const qe=Ie[0];if(u(qe))return{args:qe,keys:null};if(function de(Ie){return Ie&&"object"==typeof Ie&&U(Ie)===K}(qe)){const Ge=ae(qe);return{args:Ge.map(Ce=>qe[Ce]),keys:Ge}}}return{args:Ie,keys:null}}},9039:(Qt,it,O)=>{"use strict";function u(U,K){if(U){const ae=U.indexOf(K);0<=ae&&U.splice(ae,1)}}O.d(it,{P:()=>u})},2306:(Qt,it,O)=>{"use strict";function u(U){const ae=U(Oe=>{Error.call(Oe),Oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(it,{d:()=>u})},2714:(Qt,it,O)=>{"use strict";function u(U,K){return U.reduce((ae,Oe,de)=>(ae[Oe]=K[de],ae),{})}O.d(it,{n:()=>u})},1441:(Qt,it,O)=>{"use strict";O.d(it,{O:()=>ae,x:()=>K});var u=O(2653);let U=null;function K(Oe){if(u.config.useDeprecatedSynchronousErrorHandling){const de=!U;if(de&&(U={errorThrown:!1,error:null}),Oe(),de){const{errorThrown:Ie,error:qe}=U;if(U=null,Ie)throw qe}}else Oe()}function ae(Oe){u.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=Oe)}},7103:(Qt,it,O)=>{"use strict";function u(U,K,ae,Oe=0,de=!1){const Ie=K.schedule(function(){ae(),de?U.add(this.schedule(null,Oe)):this.unsubscribe()},Oe);if(U.add(Ie),!de)return Ie}O.d(it,{f:()=>u})},2737:(Qt,it,O)=>{"use strict";function u(U){return U}O.d(it,{y:()=>u})},4266:(Qt,it,O)=>{"use strict";O.d(it,{z:()=>u});const u=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(Qt,it,O)=>{"use strict";O.d(it,{D:()=>U});var u=O(4674);function U(K){return Symbol.asyncIterator&&(0,u.m)(null==K?void 0:K[Symbol.asyncIterator])}},4674:(Qt,it,O)=>{"use strict";function u(U){return"function"==typeof U}O.d(it,{m:()=>u})},8382:(Qt,it,O)=>{"use strict";O.d(it,{c:()=>K});var u=O(4850),U=O(4674);function K(ae){return(0,U.m)(ae[u.L])}},3664:(Qt,it,O)=>{"use strict";O.d(it,{T:()=>K});var u=O(4971),U=O(4674);function K(ae){return(0,U.m)(null==ae?void 0:ae[u.h])}},4026:(Qt,it,O)=>{"use strict";O.d(it,{t:()=>U});var u=O(4674);function U(K){return(0,u.m)(null==K?void 0:K.then)}},541:(Qt,it,O)=>{"use strict";O.d(it,{L:()=>ae,Q:()=>K});var u=O(7582),U=O(4674);function K(Oe){return(0,u.FC)(this,arguments,function*(){const Ie=Oe.getReader();try{for(;;){const{value:qe,done:Ge}=yield(0,u.qq)(Ie.read());if(Ge)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(qe)}}finally{Ie.releaseLock()}})}function ae(Oe){return(0,U.m)(null==Oe?void 0:Oe.getReader)}},9360:(Qt,it,O)=>{"use strict";O.d(it,{A:()=>U,e:()=>K});var u=O(4674);function U(ae){return(0,u.m)(null==ae?void 0:ae.lift)}function K(ae){return Oe=>{if(U(Oe))return Oe.lift(function(de){try{return ae(de,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qt,it,O)=>{"use strict";O.d(it,{Z:()=>ae});var u=O(7398);const{isArray:U}=Array;function ae(Oe){return(0,u.U)(de=>function K(Oe,de){return U(de)?Oe(...de):Oe(de)}(Oe,de))}},2420:(Qt,it,O)=>{"use strict";function u(){}O.d(it,{Z:()=>u})},8407:(Qt,it,O)=>{"use strict";O.d(it,{U:()=>K,z:()=>U});var u=O(2737);function U(...ae){return K(ae)}function K(ae){return 0===ae.length?u.y:1===ae.length?ae[0]:function(de){return ae.reduce((Ie,qe)=>qe(Ie),de)}}},3894:(Qt,it,O)=>{"use strict";O.d(it,{h:()=>K});var u=O(2653),U=O(7599);function K(ae){U.z.setTimeout(()=>{const{onUnhandledError:Oe}=u.config;if(!Oe)throw ae;Oe(ae)})}},9853:(Qt,it,O)=>{"use strict";function u(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(it,{z:()=>u})},863:(Qt,it,O)=>{var u={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,5248,433],"./ion-datetime_3.entry.js":[7059,5248,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function U(K){if(!O.o(u,K))return Promise.resolve().then(()=>{var de=new Error("Cannot find module '"+K+"'");throw de.code="MODULE_NOT_FOUND",de});var ae=u[K],Oe=ae[0];return Promise.all(ae.slice(1).map(O.e)).then(()=>O(Oe))}U.keys=()=>Object.keys(u),U.id=863,Qt.exports=U},6814:(Qt,it,O)=>{"use strict";O.d(it,{Do:()=>st,EM:()=>Uo,HT:()=>ae,JF:()=>Ao,K0:()=>de,Mx:()=>di,O5:()=>Y,Ov:()=>vn,PM:()=>Ds,S$:()=>$e,V_:()=>qe,Ye:()=>Le,b0:()=>ke,bD:()=>es,ez:()=>To,q:()=>K,sg:()=>gr,tP:()=>mt,w_:()=>Oe});var u=O(9212);let U=null;function K(){return U}function ae(w){U||(U=w)}class Oe{}const de=new u.OlP("DocumentToken");let Ie=(()=>{var w;class V{historyGo(F){throw new Error("Not implemented")}}return(w=V).\u0275fac=function(F){return new(F||w)},w.\u0275prov=u.Yz7({token:w,factory:()=>(0,u.f3M)(Ge),providedIn:"platform"}),V})();const qe=new u.OlP("Location Initialized");let Ge=(()=>{var w;class V extends Ie{constructor(){super(),this._doc=(0,u.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(F){const ce=K().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",F,!1),()=>ce.removeEventListener("popstate",F)}onHashChange(F){const ce=K().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",F,!1),()=>ce.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,ce,Ue){this._history.pushState(F,ce,Ue)}replaceState(F,ce,Ue){this._history.replaceState(F,ce,Ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return(w=V).\u0275fac=function(F){return new(F||w)},w.\u0275prov=u.Yz7({token:w,factory:()=>new w,providedIn:"platform"}),V})();function Ce(w,V){if(0==w.length)return V;if(0==V.length)return w;let Se=0;return w.endsWith("/")&&Se++,V.startsWith("/")&&Se++,2==Se?w+V.substring(1):1==Se?w+V:w+"/"+V}function fe(w){const V=w.match(/#|\?|$/),Se=V&&V.index||w.length;return w.slice(0,Se-("/"===w[Se-1]?1:0))+w.slice(Se)}function Ne(w){return w&&"?"!==w[0]?"?"+w:w}let $e=(()=>{var w;class V{historyGo(F){throw new Error("Not implemented")}}return(w=V).\u0275fac=function(F){return new(F||w)},w.\u0275prov=u.Yz7({token:w,factory:()=>(0,u.f3M)(ke),providedIn:"root"}),V})();const Ve=new u.OlP("appBaseHref");let ke=(()=>{var w;class V extends $e{constructor(F,ce){var Ue,Rt,qt;super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=null!==(Ue=null!==(Rt=null!=ce?ce:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Rt?Rt:null===(qt=(0,u.f3M)(de).location)||void 0===qt?void 0:qt.origin)&&void 0!==Ue?Ue:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Ce(this._baseHref,F)}path(F=!1){const ce=this._platformLocation.pathname+Ne(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&F?`${ce}${Ue}`:ce}pushState(F,ce,Ue,Rt){const qt=this.prepareExternalUrl(Ue+Ne(Rt));this._platformLocation.pushState(F,ce,qt)}replaceState(F,ce,Ue,Rt){const qt=this.prepareExternalUrl(Ue+Ne(Rt));this._platformLocation.replaceState(F,ce,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){var ce,Ue;null===(ce=(Ue=this._platformLocation).historyGo)||void 0===ce||ce.call(Ue,F)}}return(w=V).\u0275fac=function(F){return new(F||w)(u.LFG(Ie),u.LFG(Ve,8))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),V})(),st=(()=>{var w;class V extends $e{constructor(F,ce){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(F){const ce=Ce(this._baseHref,F);return ce.length>0?"#"+ce:ce}pushState(F,ce,Ue,Rt){let qt=this.prepareExternalUrl(Ue+Ne(Rt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.pushState(F,ce,qt)}replaceState(F,ce,Ue,Rt){let qt=this.prepareExternalUrl(Ue+Ne(Rt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.replaceState(F,ce,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){var ce,Ue;null===(ce=(Ue=this._platformLocation).historyGo)||void 0===ce||ce.call(Ue,F)}}return(w=V).\u0275fac=function(F){return new(F||w)(u.LFG(Ie),u.LFG(Ve,8))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac}),V})(),Le=(()=>{var w;class V{constructor(F){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const ce=this._locationStrategy.getBaseHref();this._basePath=function he(w){if(new RegExp("^(https?:)?//").test(w)){const[,Se]=w.split(/\/\/[^\/]+/);return Se}return w}(fe(gt(ce))),this._locationStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}ngOnDestroy(){var F;null===(F=this._urlChangeSubscription)||void 0===F||F.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,ce=""){return this.path()==this.normalize(F+Ne(ce))}normalize(F){return V.stripTrailingSlash(function Ye(w,V){if(!w||!V.startsWith(w))return V;const Se=V.substring(w.length);return""===Se||["/",";","?","#"].includes(Se[0])?Se:V}(this._basePath,gt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,ce="",Ue=null){this._locationStrategy.pushState(Ue,"",F,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Ne(ce)),Ue)}replaceState(F,ce="",Ue=null){this._locationStrategy.replaceState(Ue,"",F,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Ne(ce)),Ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){var ce,Ue;null===(ce=(Ue=this._locationStrategy).historyGo)||void 0===ce||ce.call(Ue,F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(F);var Ue;this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(null===(Ue=this._urlChangeSubscription)||void 0===Ue||Ue.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",ce){this._urlChangeListeners.forEach(Ue=>Ue(F,ce))}subscribe(F,ce,Ue){return this._subject.subscribe({next:F,error:ce,complete:Ue})}}return(w=V).normalizeQueryParams=Ne,w.joinWithSlash=Ce,w.stripTrailingSlash=fe,w.\u0275fac=function(F){return new(F||w)(u.LFG($e))},w.\u0275prov=u.Yz7({token:w,factory:()=>function je(){return new Le((0,u.LFG)($e))}(),providedIn:"root"}),V})();function gt(w){return w.replace(/\/index.html$/,"")}function di(w,V){V=encodeURIComponent(V);for(const Se of w.split(";")){const F=Se.indexOf("="),[ce,Ue]=-1==F?[Se,""]:[Se.slice(0,F),Se.slice(F+1)];if(ce.trim()===V)return decodeURIComponent(Ue)}return null}class jn{constructor(V,Se,F,ce){this.$implicit=V,this.ngForOf=Se,this.index=F,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{var w;class V{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,ce,Ue){this._viewContainer=F,this._template=ce,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ce=this._viewContainer;F.forEachOperation((Ue,Rt,qt)=>{if(null==Ue.previousIndex)ce.createEmbeddedView(this._template,new jn(Ue.item,this._ngForOf,-1,-1),null===qt?void 0:qt);else if(null==qt)ce.remove(null===Rt?void 0:Rt);else if(null!==Rt){const Kn=ce.get(Rt);ce.move(Kn,qt),we(Kn,Ue)}});for(let Ue=0,Rt=ce.length;Ue<Rt;Ue++){const Kn=ce.get(Ue).context;Kn.index=Ue,Kn.count=Rt,Kn.ngForOf=this._ngForOf}F.forEachIdentityChange(Ue=>{we(ce.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard(F,ce){return!0}}return(w=V).\u0275fac=function(F){return new(F||w)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},w.\u0275dir=u.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function we(w,V){w.context.$implicit=V.item}let Y=(()=>{var w;class V{constructor(F,ce){this._viewContainer=F,this._context=new De,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Ze("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Ze("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ce){return!0}}return(w=V).\u0275fac=function(F){return new(F||w)(u.Y36(u.s_b),u.Y36(u.Rgc))},w.\u0275dir=u.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class De{constructor(){this.$implicit=null,this.ngIf=null}}function Ze(w,V){if(V&&!V.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,u.AaK)(V)}'.`)}let mt=(()=>{var w;class V{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(this._shouldRecreateView(F)){var ce;const Ue=this._viewContainerRef;if(this._viewRef&&Ue.remove(Ue.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Rt=this._createContextForwardProxy();this._viewRef=Ue.createEmbeddedView(this.ngTemplateOutlet,Rt,{injector:null!==(ce=this.ngTemplateOutletInjector)&&void 0!==ce?ce:void 0})}}_shouldRecreateView(F){return!!F.ngTemplateOutlet||!!F.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(F,ce,Ue)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ce,Ue),get:(F,ce,Ue)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ce,Ue)}})}}return(w=V).\u0275fac=function(F){return new(F||w)(u.Y36(u.s_b))},w.\u0275dir=u.lG2({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),V})();class Ft{createSubscription(V,Se){return(0,u.rg0)(()=>V.subscribe({next:Se,error:F=>{throw F}}))}dispose(V){(0,u.rg0)(()=>V.unsubscribe())}}class $t{createSubscription(V,Se){return V.then(Se,F=>{throw F})}dispose(V){}}const Nt=new $t,Kt=new Ft;let vn=(()=>{var w;class V{constructor(F){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ce=>this._updateLatestValue(F,ce))}_selectStrategy(F){if((0,u.QGY)(F))return Nt;if((0,u.F4k)(F))return Kt;throw function xt(w,V){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ce){F===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return(w=V).\u0275fac=function(F){return new(F||w)(u.Y36(u.sBO,16))},w.\u0275pipe=u.Yjl({name:"async",type:w,pure:!1,standalone:!0}),V})(),To=(()=>{var w;class V{}return(w=V).\u0275fac=function(F){return new(F||w)},w.\u0275mod=u.oAB({type:w}),w.\u0275inj=u.cJS({}),V})();const es="browser",Ki="server";function Ds(w){return w===Ki}let Uo=(()=>{var w;class V{}return(w=V).\u0275prov=(0,u.Yz7)({token:w,providedIn:"root",factory:()=>new jo((0,u.LFG)(de),window)}),V})();class jo{constructor(V,Se){this.document=V,this.window=Se,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const Se=function Ra(w,V){const Se=w.getElementById(V)||w.getElementsByName(V)[0];if(Se)return Se;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const F=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let ce=F.currentNode;for(;ce;){const Ue=ce.shadowRoot;if(Ue){const Rt=Ue.getElementById(V)||Ue.querySelector(`[name="${V}"]`);if(Rt)return Rt}ce=F.nextNode()}}return null}(this.document,V);Se&&(this.scrollToElement(Se),Se.focus())}setHistoryScrollRestoration(V){this.supportsScrolling()&&(this.window.history.scrollRestoration=V)}scrollToElement(V){const Se=V.getBoundingClientRect(),F=Se.left+this.window.pageXOffset,ce=Se.top+this.window.pageYOffset,Ue=this.offset();this.window.scrollTo(F-Ue[0],ce-Ue[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ao{}},9212:(Qt,it,O)=>{"use strict";O.d(it,{tb:()=>gE,AFp:()=>Wl,ip1:()=>zC,hGG:()=>jR,z2F:()=>mg,Ojb:()=>ph,sBO:()=>Hp,Sil:()=>KS,EJc:()=>MR,Xts:()=>Ia,SBq:()=>cc,lqb:()=>oa,qLn:()=>Ru,vpe:()=>qs,XFs:()=>zn,OlP:()=>Ze,zs3:()=>_o,ZZ4:()=>Dm,aQg:()=>qh,soG:()=>Ly,YKP:()=>qD,h0i:()=>Tf,R0b:()=>Vo,FiY:()=>Va,Lbi:()=>hh,g9A:()=>ed,Qsj:()=>_m,FYo:()=>nu,JOm:()=>Yl,tp0:()=>Bl,Rgc:()=>I_,dDg:()=>IR,eoX:()=>HC,q4F:()=>qS,GfV:()=>kC,s_b:()=>yy,ifc:()=>oo,T8G:()=>Lv,VuI:()=>fM,LMc:()=>gM,MMx:()=>KD,Lck:()=>UA,eFA:()=>JC,G48:()=>FR,Gpc:()=>Zn,f3M:()=>oe,X6Q:()=>kR,$WT:()=>Ei,_c5:()=>UR,qFp:()=>mM,r_H:()=>Gf,rg0:()=>ym,c2e:()=>FC,zSh:()=>qc,wAp:()=>hg,I6F:()=>dE,vHH:()=>Wt,lri:()=>UC,rWj:()=>jC,cg1:()=>$I,kuF:()=>Er,kL8:()=>FT,dqk:()=>ye,Z0I:()=>Sn,eJc:()=>Ea,QGY:()=>HI,F4k:()=>uD,RDi:()=>Xr,AaK:()=>_n,qOj:()=>Ou,Xq5:()=>Zm,TTD:()=>cr,_Bn:()=>WD,jDz:()=>ZD,xp6:()=>mv,uIk:()=>Gv,ekj:()=>tg,Suo:()=>gC,Xpm:()=>co,lG2:()=>Li,Yz7:()=>nt,cJS:()=>Jt,oAB:()=>jr,Yjl:()=>ks,Y36:()=>_d,_UZ:()=>FI,GkF:()=>BI,qZA:()=>by,TgZ:()=>wy,EpF:()=>OT,n5z:()=>zs,LFG:()=>ne,$8M:()=>Na,$Z:()=>Np,NdJ:()=>zI,CRH:()=>mC,oxw:()=>pD,ALo:()=>uC,lcZ:()=>cC,Hsn:()=>mD,F$t:()=>gD,Q6J:()=>n_,iGM:()=>fC,KtG:()=>Ii,CHM:()=>cu,LSH:()=>sm,P3R:()=>ad,YNc:()=>ig,_uU:()=>kD,Oqu:()=>WI,Gf:()=>pC});let U=null,ae=1;function de(t){const n=U;return U=t,n}function $e(t){if((!Fe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==ae)){if(!t.producerMustRecompute(t)&&!Ye(t))return t.dirty=!1,void(t.lastCleanEpoch=ae);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ae}}function Ye(t){Ee(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||($e(o),a!==o.version))return!0}return!1}function Be(t,n){if(function re(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),Ee(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Be(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];Ee(c),c.producerIndexOfThis[a]=n}}function Fe(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function Ee(t){var n,o,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let St=null;var vt=O(8645),ht=O(7394),lt=O(5619),bt=O(7398);function zt(t){for(let n in t)if(t[n]===zt)return n;throw Error("Could not find renamed property on target object.")}function En(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function _n(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_n).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function an(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Tn=zt({__forward_ref__:zt});function Zn(t){return t.__forward_ref__=Zn,t.toString=function(){return _n(this())},t}function Gt(t){return Cn(t)?t():t}function Cn(t){return"function"==typeof t&&t.hasOwnProperty(Tn)&&t.__forward_ref__===Zn}function wn(t){return t&&!!t.\u0275providers}const rr="https://g.co/ng/security#xss";class Wt extends Error{constructor(n,o){super(Er(n,o)),this.code=n}}function Er(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}const Mn=zt({\u0275cmp:zt}),Yr=zt({\u0275dir:zt}),ar=zt({\u0275pipe:zt}),br=zt({\u0275mod:zt}),Bn=zt({\u0275fac:zt}),hr=zt({__NG_ELEMENT_ID__:zt}),ni=zt({__NG_ENV_ID__:zt});function In(t){return"string"==typeof t?t:null==t?"":String(t)}function ri(t,n){throw new Wt(-201,!1)}function nn(t,n){null==t&&function Zt(t,n,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function nt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function bn(t){return Gn(t,pr)||Gn(t,Ri)}function Sn(t){return null!==bn(t)}function Gn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Xn(t){return t&&(t.hasOwnProperty(di)||t.hasOwnProperty(Dr))?t[di]:null}const pr=zt({\u0275prov:zt}),di=zt({\u0275inj:zt}),Ri=zt({ngInjectableDef:zt}),Dr=zt({ngInjectorDef:zt});var zn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(zn||{});let _i;function Or(){return _i}function jn(t){const n=_i;return _i=t,n}function gr(t,n,o){const a=bn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&zn.Optional?null:void 0!==n?n:void ri(_n(t))}const ye=globalThis;class Ze{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=nt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rt={},xt="__NG_DI_FLAG__",Ft="ngTempTokenPath",Nt=/\n/gm,vn="__source";let mn;function Cr(t){const n=mn;return mn=t,n}function C(t,n=zn.Default){if(void 0===mn)throw new Wt(-203,!1);return null===mn?gr(t,void 0,n):mn.get(t,n&zn.Optional?null:void 0,n)}function ne(t,n=zn.Default){return(Or()||C)(Gt(t),n)}function oe(t,n=zn.Default){return ne(t,et(n))}function et(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wn(t){const n=[];for(let o=0;o<t.length;o++){const a=Gt(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Wt(900,!1);let c,h=zn.Default;for(let m=0;m<a.length;m++){const y=a[m],D=Qr(y);"number"==typeof D?-1===D?c=y.token:h|=D:c=y}n.push(ne(c,h))}else n.push(ne(a))}return n}function ii(t,n){return t[xt]=n,t.prototype[xt]=n,t}function Qr(t){return t[xt]}function Eo(t){return{toString:t}.toString()}var io=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(io||{}),oo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(oo||{});const Mi={},lr=[];function so(t,n,o){let a=t.length;for(;;){const c=t.indexOf(n,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function lo(t,n,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],m=o[a++],y=o[a++];t.setAttribute(n,m,y,h)}else{const h=c,m=o[++a];Ts(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function Es(t){return 3===t||4===t||6===t}function Ts(t){return 64===t.charCodeAt(0)}function To(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?o=c:0===o||es(t,o,c,null,-1===o||2===o?n[++a]:null)}}return t}function es(t,n,o,a,c){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const y=t[h++];if("number"==typeof y){if(y===n){m=-1;break}if(y>n){m=h-1;break}}}for(;h<t.length;){const y=t[h];if("number"==typeof y)break;if(y===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const Ki="ng-template";function $o(t,n,o){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const m=t[a++];if(o&&"class"===h&&-1!==so(m.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function uo(t){return 4===t.type&&t.value!==Ki}function Zi(t,n,o){return n===(4!==t.type||o?t.value:Ki)}function Ds(t,n,o){let a=4;const c=t.attrs||[],h=function jo(t){for(let n=0;n<t.length;n++)if(Es(t[n]))return n;return t.length}(c);let m=!1;for(let y=0;y<n.length;y++){const D=n[y];if("number"!=typeof D){if(!m)if(4&a){if(a=2|1&a,""!==D&&!Zi(t,D,o)||""===D&&1===n.length){if(zi(a))return!1;m=!0}}else{const k=8&a?D:n[++y];if(8&a&&null!==t.attrs){if(!$o(t.attrs,k,o)){if(zi(a))return!1;m=!0}continue}const X=oi(8&a?"class":D,c,uo(t),o);if(-1===X){if(zi(a))return!1;m=!0;continue}if(""!==k){let Re;Re=X>h?"":c[X+1].toLowerCase();const Qe=8&a?Re:null;if(Qe&&-1!==so(Qe,k,0)||2&a&&k!==Re){if(zi(a))return!1;m=!0}}}}else{if(!m&&!zi(a)&&!zi(D))return!1;if(m&&zi(D))continue;m=!1,a=D|1&a}}return zi(a)||m}function zi(t){return 0==(1&t)}function oi(t,n,o,a){if(null===n)return-1;let c=0;if(a||!o){let h=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=n[++c];for(;"string"==typeof y;)y=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Ra(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function ds(t,n,o=!1){for(let a=0;a<n.length;a++)if(Ds(t,n[a],o))return!0;return!1}function Ka(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Ao(t,n){return t?":not("+n.trim()+")":n}function Os(t){let n=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const y=t[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!zi(m)&&(n+=Ao(h,c),c=""),a=m,h=h||!zi(a);o++}return""!==c&&(n+=Ao(h,c)),n}function co(t){return Eo(()=>{var n;const o=Ho(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===io.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||oo.Emulated,styles:t.styles||lr,_:null,schemas:t.schemas||null,tView:null,id:""};zo(a);const c=t.dependencies;return a.directiveDefs=ko(c,!1),a.pipeDefs=ko(c,!0),a.id=function ho(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function So(t){return ur(t)||hi(t)}function ts(t){return null!==t}function jr(t){return Eo(()=>({type:t.type,bootstrap:t.bootstrap||lr,declarations:t.declarations||lr,imports:t.imports||lr,exports:t.exports||lr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Pi(t,n){if(null==t)return Mi;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=a,n&&(n[c]=h)}return o}function Li(t){return Eo(()=>{const n=Ho(t);return zo(n),n})}function ks(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ur(t){return t[Mn]||null}function hi(t){return t[Yr]||null}function xi(t){return t[ar]||null}function Ei(t){const n=ur(t)||hi(t)||xi(t);return null!==n&&n.standalone}function Oi(t,n){const o=t[br]||null;if(!o&&!0===n)throw new Error(`Type ${_n(t)} does not have '\u0275mod' property.`);return o}function Ho(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Mi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||lr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pi(t.inputs,n),outputs:Pi(t.outputs),debugInfo:null}}function zo(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function ko(t,n){if(!t)return null;const o=n?xi:So;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(ts)}const Gr=0,en=1,Un=2,Fr=3,Qi=4,yi=5,Do=6,z=7,L=8,me=9,b=10,E=11,j=12,x=13,ie=14,at=15,Vt=16,An=17,ir=18,wr=19,Ar=20,or=21,fi=22,Hr=23,Fn=25,Xi=1,Wr=7,Ji=9,ai=10;var Gi=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Gi||{});function Vi(t){return Array.isArray(t)&&"object"==typeof t[Xi]}function Ti(t){return Array.isArray(t)&&!0===t[Xi]}function ha(t){return 0!=(4&t.flags)}function fs(t){return t.componentOffset>-1}function Za(t){return 1==(1&t.flags)}function Ro(t){return!!t.template}function Ma(t){return 0!=(512&t[Un])}function Kn(t,n){return t.hasOwnProperty(Bn)?t[Bn]:null}class yr{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function cr(){return qn}function qn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nr),er}function er(){const t=Po(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===Mi)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Nr(t,n,o,a){const c=this.declaredInputs[o],h=Po(t)||function xo(t,n){return t[Di]=n}(t,{previous:Mi,current:null}),m=h.current||(h.current={}),y=h.previous,D=y[c];m[c]=new yr(D&&D.currentValue,n,y===Mi),t[a]=n}cr.ngInherit=!0;const Di="__ngSimpleChanges__";function Po(t){return t[Di]||null}const eo=function(t,n,o){};let ga=!1;function Ci(t){for(;Array.isArray(t);)t=t[Gr];return t}function Sl(t,n){return Ci(n[t])}function Go(t,n){return Ci(n[t.index])}function Ml(t,n){return t.data[n]}function wi(t,n){const o=n[t];return Vi(o)?o:o[Gr]}function As(t){return 128==(128&t[Un])}function Ut(t,n){return null==n?null:t[n]}function Bi(t){t[An]=0}function ns(t){1024&t[Un]||(t[Un]|=1024,As(t)&&Ja(t))}function Rn(t){var n;return 9216&t[Un]||(null===(n=t[Hr])||void 0===n?void 0:n.dirty)}function xn(t){if(Rn(t))Ja(t);else if(64&t[Un])if(function zd(){return ga}())t[Un]|=1024,Ja(t);else{var n;null===(n=t[b].changeDetectionScheduler)||void 0===n||n.notify()}}function Ja(t){var n;null===(n=t[b].changeDetectionScheduler)||void 0===n||n.notify();let o=t[Fr];for(;null!==o&&!(Ti(o)&&o[Un]&Gi.HasChildViewsToRefresh||Vi(o)&&8192&o[Un]);){if(Ti(o))o[Un]|=Gi.HasChildViewsToRefresh;else if(o[Un]|=8192,!As(o))break;o=o[Fr]}}function hn(t,n){if(256==(256&t[Un]))throw new Wt(911,!1);null===t[or]&&(t[or]=[]),t[or].push(n)}const _t={lFrame:Lt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bs(){return _t.bindingsEnabled}function ma(){return null!==_t.skipHydrationRootTNode}function ft(){return _t.lFrame.lView}function Sr(){return _t.lFrame.tView}function cu(t){return _t.lFrame.contextLView=t,t[L]}function Ii(t){return _t.lFrame.contextLView=null,t}function cn(){let t=el();for(;null!==t&&64===t.type;)t=t.parent;return t}function el(){return _t.lFrame.currentTNode}function rs(t,n){const o=_t.lFrame;o.currentTNode=t,o.isParent=n}function ui(){return _t.lFrame.isParent}function fn(){_t.lFrame.isParent=!1}function No(){return _t.lFrame.bindingIndex++}function Yd(t,n){const o=_t.lFrame;o.bindingIndex=o.bindingRootIndex=t,T(n)}function T(t){_t.lFrame.currentDirectiveIndex=t}function M(){return _t.lFrame.currentQueryIndex}function v(t){_t.lFrame.currentQueryIndex=t}function N(t){const n=t[en];return 2===n.type?n.declTNode:1===n.type?t[yi]:null}function Q(t,n,o){if(o&zn.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||o&zn.Host||(c=N(h),null===c||(h=h[ie],10&c.type))););if(null===c)return!1;n=c,t=h}const a=_t.lFrame=ct();return a.currentTNode=n,a.lView=t,!0}function ve(t){const n=ct(),o=t[en];_t.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function ct(){const t=_t.lFrame,n=null===t?null:t.child;return null===n?Lt(t):n}function Lt(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function yt(){const t=_t.lFrame;return _t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pn=yt;function tr(){const t=yt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dr(){return _t.lFrame.selectedIndex}function Ni(t){_t.lFrame.selectedIndex=t}function mr(){const t=_t.lFrame;return Ml(t.tView,t.selectedIndex)}let Js=!0;function Ss(){return Js}function ea(t){Js=t}function xl(t,n){for(let k=n.directiveStart,G=n.directiveEnd;k<G;k++){const Re=t.data[k].type.prototype,{ngAfterContentInit:Qe,ngAfterContentChecked:Et,ngAfterViewInit:jt,ngAfterViewChecked:rn,ngOnDestroy:Dn}=Re;var o,a,c,h,m,y,D;Qe&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-k,Qe),Et&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(k,Et),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(k,Et)),jt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-k,jt),rn&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(k,rn),(null!==(y=t.viewCheckHooks)&&void 0!==y?y:t.viewCheckHooks=[]).push(k,rn)),null!=Dn&&(null!==(D=t.destroyHooks)&&void 0!==D?D:t.destroyHooks=[]).push(k,Dn)}}function Ol(t,n,o){Oc(t,n,3,o)}function du(t,n,o,a){(3&t[Un])===o&&Oc(t,n,o,a)}function Kd(t,n){let o=t[Un];(3&o)===n&&(o&=16383,o+=1,t[Un]=o)}function Oc(t,n,o,a){const h=null!=a?a:-1,m=n.length-1;let y=0;for(let D=void 0!==a?65535&t[An]:0;D<m;D++)if("number"==typeof n[D+1]){if(y=n[D],null!=a&&y>=a)break}else n[D]<0&&(t[An]+=65536),(y<h||-1==h)&&(Nl(t,o,n,D),t[An]=(4294901760&t[An])+D+2),D++}function hu(t,n){eo(4,t,n);const o=de(null);try{n.call(t)}finally{de(o),eo(5,t,n)}}function Nl(t,n,o,a){const c=o[a]<0,h=o[a+1],y=t[c?-o[a]:o[a]];c?t[Un]>>14<t[An]>>16&&(3&t[Un])===n&&(t[Un]+=16384,hu(y,h)):hu(y,h)}const rl=-1;class Lu{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Nc(t){return t!==rl}function kl(t){return 32767&t}function il(t,n){let o=function Af(t){return t>>16}(t),a=n;for(;o>0;)a=a[ie],o--;return a}let Vu=!0;function fu(t){const n=Vu;return Vu=t,n}const Xd=255,xa=5;let kc=0;const $r={};function go(t,n){const o=Fc(t,n);if(-1!==o)return o;const a=n[en];a.firstCreatePass&&(t.injectorIndex=n.length,si(a.data,t),si(n,null),si(a.blueprint,null));const c=_a(t,n),h=t.injectorIndex;if(Nc(c)){const m=kl(c),y=il(c,n),D=y[en].data;for(let k=0;k<8;k++)n[h+k]=y[m+k]|D[m+k]}return n[h+8]=c,h}function si(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function _a(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=n;for(;null!==c;){if(a=Jd(c),null===a)return rl;if(o++,c=c[ie],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return rl}function Wo(t,n,o){!function pu(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(hr)&&(a=o[hr]),null==a&&(a=o[hr]=kc++);const c=a&Xd;n.data[t+(c>>xa)]|=1<<c}(t,n,o)}function Lc(t,n,o){if(o&zn.Optional||void 0!==t)return t;ri()}function mo(t,n,o,a){if(o&zn.Optional&&void 0===a&&(a=null),!(o&(zn.Self|zn.Host))){const c=t[me],h=jn(void 0);try{return c?c.get(n,a,o&zn.Optional):gr(n,a,o&zn.Optional)}finally{jn(h)}}return Lc(a,0,o)}function Rf(t,n,o,a=zn.Default,c){if(null!==t){if(2048&n[Un]&&!(a&zn.Self)){const m=function Oa(t,n,o,a,c){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Un]&&!(512&m[Un]);){const y=ta(h,m,o,a|zn.Self,$r);if(y!==$r)return y;let D=h.parent;if(!D){const k=m[Ar];if(k){const G=k.get(o,$r,a);if(G!==$r)return G}D=Jd(m),m=m[ie]}h=D}return c}(t,n,o,a,$r);if(m!==$r)return m}const h=ta(t,n,o,a,$r);if(h!==$r)return h}return mo(n,o,a,c)}function ta(t,n,o,a,c){const h=function Vc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(hr)?t[hr]:void 0;return"number"==typeof n?n>=0?n&Xd:sl:n}(o);if("function"==typeof h){if(!Q(n,t,a))return a&zn.Host?Lc(c,0,a):mo(n,o,a,c);try{let m;if(m=h(a),null!=m||a&zn.Optional)return m;ri()}finally{pn()}}else if("number"==typeof h){let m=null,y=Fc(t,n),D=rl,k=a&zn.Host?n[at][yi]:null;for((-1===y||a&zn.SkipSelf)&&(D=-1===y?_a(t,n):n[y+8],D!==rl&&Bu(a,!1)?(m=n[en],y=kl(D),n=il(D,n)):y=-1);-1!==y;){const G=n[en];if(ol(h,y,G.data)){const X=no(y,n,o,m,a,k);if(X!==$r)return X}D=n[y+8],D!==rl&&Bu(a,n[en].data[y+8]===k)&&ol(h,y,n)?(m=G,y=kl(D),n=il(D,n)):y=-1}}return c}function no(t,n,o,a,c,h){const m=n[en],y=m.data[t+8],G=js(y,m,o,null==a?fs(y)&&Vu:a!=m&&0!=(3&y.type),c&zn.Host&&h===y);return null!==G?Hs(n,m,G,y):$r}function js(t,n,o,a,c){const h=t.providerIndexes,m=n.data,y=1048575&h,D=t.directiveStart,G=h>>20,Re=c?y+G:t.directiveEnd;for(let Qe=a?y:y+G;Qe<Re;Qe++){const Et=m[Qe];if(Qe<D&&o===Et||Qe>=D&&Et.type===o)return Qe}if(c){const Qe=m[D];if(Qe&&Ro(Qe)&&Qe.type===o)return D}return null}function Hs(t,n,o,a){let c=t[o];const h=n.data;if(function Eg(t){return t instanceof Lu}(c)){const m=c;m.resolving&&function Zr(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Wt(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Hn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():In(t)}(h[o]));const y=fu(m.canSeeViewProviders);m.resolving=!0;const k=m.injectImpl?jn(m.injectImpl):null;Q(t,a,zn.Default);try{c=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function xc(t,n,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){var m,y;const X=qn(n);(null!==(m=o.preOrderHooks)&&void 0!==m?m:o.preOrderHooks=[]).push(t,X),(null!==(y=o.preOrderCheckHooks)&&void 0!==y?y:o.preOrderCheckHooks=[]).push(t,X)}var D,k,G;c&&(null!==(D=o.preOrderHooks)&&void 0!==D?D:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(k=o.preOrderHooks)&&void 0!==k?k:o.preOrderHooks=[]).push(t,h),(null!==(G=o.preOrderCheckHooks)&&void 0!==G?G:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],n)}finally{null!==k&&jn(k),fu(y),m.resolving=!1,pn()}}return c}function ol(t,n,o){return!!(o[n+(t>>xa)]&1<<t)}function Bu(t,n){return!(t&zn.Self||t&zn.Host&&n)}class Ui{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return Rf(this._tNode,this._lView,n,et(a),o)}}function sl(){return new Ui(cn(),ft())}function zs(t){return Eo(()=>{const n=t.prototype.constructor,o=n[Bn]||al(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[Bn]||al(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function al(t){return Cn(t)?()=>{const n=al(Gt(t));return n&&n()}:Kn(t)}function Jd(t){const n=t[en],o=n.type;return 2===o?n.declTNode:1===o?t[yi]:null}function Na(t){return function Sf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(Es(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===n)return o[c+1];c+=2}}}return null}(cn(),t)}const ka="__parameters__";function Fl(t,n,o){return Eo(()=>{const a=function Fa(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return y.annotation=m,y;function y(D,k,G){const X=D.hasOwnProperty(ka)?D[ka]:Object.defineProperty(D,ka,{value:[]})[ka];for(;X.length<=G;)X.push(null);return(X[G]=X[G]||[]).push(m),D}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Ll(t,n){t.forEach(o=>Array.isArray(o)?Ll(o,n):n(o))}function Ur(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function ti(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ya(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}function qo(t,n,o){let a=Vl(t,n);return a>=0?t[1|a]=o:(a=~a,function eh(t,n,o,a){let c=t.length;if(c==n)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function mu(t,n){const o=Vl(t,n);if(o>=0)return t[1|o]}function Vl(t,n){return function Nf(t,n,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?c=h:a=h+1}return~(c<<o)}(t,n,1)}const Va=ii(Fl("Optional"),8),Bl=ii(Fl("SkipSelf"),4),Ia=new Ze("ENVIRONMENT_INITIALIZER"),Uf=new Ze("INJECTOR",-1),ia=new Ze("INJECTOR_DEF_TYPES");class Wc{get(n,o=rt){if(o===rt){const a=new Error(`NullInjectorError: No provider for ${_n(n)}!`);throw a.name="NullInjectorError",a}return o}}function jf(...t){return{\u0275providers:jl(0,t),\u0275fromNgModule:!0}}function jl(t,...n){const o=[],a=new Set;let c;const h=m=>{o.push(m)};return Ll(n,m=>{const y=m;Rs(y,h,[],a)&&(c||(c=[]),c.push(y))}),void 0!==c&&Gu(c,h),o}function Gu(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];$a(c,h=>{n(h,a)})}}function Rs(t,n,o,a){if(!(t=Gt(t)))return!1;let c=null,h=Xn(t);const m=!h&&ur(t);if(h||m){if(m&&!m.standalone)return!1;c=t}else{const D=t.ngModule;if(h=Xn(D),!h)return!1;c=D}const y=a.has(c);if(m){if(y)return!1;if(a.add(c),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of D)Rs(k,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let k;a.add(c);try{Ll(h.imports,G=>{Rs(G,n,o,a)&&(k||(k=[]),k.push(G))})}finally{}void 0!==k&&Gu(k,n)}if(!y){const k=Kn(c)||(()=>new c);n({provide:c,useFactory:k,deps:lr},c),n({provide:ia,useValue:c,multi:!0},c),n({provide:Ia,useValue:()=>ne(c),multi:!0},c)}const D=h.providers;if(null!=D&&!y){const k=t;$a(D,G=>{n(G,k)})}}}return c!==t&&void 0!==t.providers}function $a(t,n){for(let o of t)wn(o)&&(o=o.\u0275providers),Array.isArray(o)?$a(o,n):n(o)}const ih=zt({provide:String,useValue:zt});function oh(t){return null!==t&&"object"==typeof t&&ih in t}function Ua(t){return"function"==typeof t}const qc=new Ze("Set Injector scope."),vu={},Yc={};let sh;function Kc(){return void 0===sh&&(sh=new Wc),sh}class oa{}class as extends oa{get destroyed(){return this._destroyed}constructor(n,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qu(n,m=>this.processProvider(m)),this.records.set(Uf,sa(void 0,this)),c.has("environment")&&this.records.set(oa,sa(void 0,this));const h=this.records.get(qc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(ia,lr,zn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=Cr(this),a=jn(void 0);try{return n()}finally{Cr(o),jn(a)}}get(n,o=rt,a=zn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ni))return n[ni](this);a=et(a);const h=Cr(this),m=jn(void 0);try{if(!(a&zn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const k=function zl(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ze}(n)&&bn(n);D=k&&this.injectableDefInScope(k)?sa(ja(n),vu):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(a&zn.Self?Kc():this.parent).get(n,o=a&zn.Optional&&o===rt?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Ft]=y[Ft]||[]).unshift(_n(n)),h)throw y;return function Io(t,n,o,a){const c=t[Ft];throw n[vn]&&c.unshift(n[vn]),t.message=function bo(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=_n(n);if(Array.isArray(n))c=n.map(_n).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let y=n[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):_n(y)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(Nt,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[Ft]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{jn(m),Cr(h)}}resolveInjectorInitializers(){const n=Cr(this),o=jn(void 0);try{const c=this.get(Ia,lr,zn.Self);for(const h of c)h()}finally{Cr(n),jn(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(_n(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Wt(205,!1)}processProvider(n){let o=Ua(n=Gt(n))?n:Gt(n&&n.provide);const a=function Hl(t){return oh(t)?sa(void 0,t.useValue):sa(lh(t),vu)}(n);if(Ua(n)||!0!==n.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=sa(void 0,vu,!0),c.factory=()=>Wn(c.multi),this.records.set(o,c)),o=n,c.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===vu&&(o.value=Yc,o.value=o.factory()),"object"==typeof o.value&&o.value&&function uh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Gt(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ja(t){const n=bn(t),o=null!==n?n.factory:Kn(t);if(null!==o)return o;if(t instanceof Ze)throw new Wt(204,!1);if(t instanceof Function)return function ah(t){const n=t.length;if(n>0)throw ya(n,"?"),new Wt(204,!1);const o=function xr(t){return t&&(t[pr]||t[Ri])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Wt(204,!1)}function lh(t,n,o){let a;if(Ua(t)){const c=Gt(t);return Kn(c)||ja(c)}if(oh(t))a=()=>Gt(t.useValue);else if(function Wu(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Wn(t.deps||[]));else if(function Tr(t){return!(!t||!t.useExisting)}(t))a=()=>ne(Gt(t.useExisting));else{const c=Gt(t&&(t.useClass||t.provide));if(!function zf(t){return!!t.deps}(t))return Kn(c)||ja(c);a=()=>new c(...Wn(t.deps))}return a}function sa(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function qu(t,n){for(const o of t)Array.isArray(o)?qu(o,n):o&&wn(o)?qu(o.\u0275providers,n):n(o)}function Gf(t,n){t instanceof as&&t.assertNotDestroyed();const a=Cr(t),c=jn(void 0);try{return n()}finally{Cr(a),jn(c)}}function Xc(t,n=null,o=null,a){const c=ch(t,n,o,a);return c.resolveInjectorInitializers(),c}function ch(t,n=null,o=null,a,c=new Set){const h=[o||lr,jf(t)];return a=a||("object"==typeof t?void 0:_n(t)),new as(h,n||Kc(),a||null,c)}let ji,_o=(()=>{var t;class n{static create(a,c){if(Array.isArray(a))return Xc({name:""},c,a,"");{var h;const m=null!==(h=a.name)&&void 0!==h?h:"";return Xc({name:m},a.parent,a.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=rt,t.NULL=new Wc,t.\u0275prov=nt({token:t,providedIn:"any",factory:()=>ne(Uf)}),t.__NG_ELEMENT_ID__=-1,n})();function Ea(t){return!!Oi(t)}function Xr(t){ji=t}const Wl=new Ze("AppId",{providedIn:"root",factory:()=>Yu}),Yu="ng",ed=new Ze("Platform Initializer"),hh=new Ze("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ph=new Ze("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function Lo(){if(void 0!==ji)return ji;if(typeof document<"u")return document;throw new Wt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});function $(t){return t instanceof Function?t():t}function Zf(t){return 128==(128&t.flags)}var Yl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yl||{});const O_=/^>|^->|<!--|-->|--!>|<!-$/g,Gy=/(<|>)/g,N_="\u200b$1\u200b";const Qf=new Map;let Wy=0;const Th="__ngContext__";function ls(t,n){Vi(n)?(t[Th]=n[wr],function Xf(t){Qf.set(t[wr],t)}(n)):t[Th]=n}let Fg;function Ju(t,n){return Fg(t,n)}function Ta(t){const n=t[Fr];return Ti(n)?n[Fr]:n}function Lg(t){return tp(t[j])}function $_(t){return tp(t[Qi])}function tp(t){for(;null!==t&&!Ti(t);)t=t[Qi];return t}function wu(t,n,o,a,c){if(null!=a){let h,m=!1;Ti(a)?h=a:Vi(a)&&(m=!0,a=a[Gr]);const y=Ci(a);0===t&&null!==o?null==c?Bg(n,o,y):gl(n,o,y,c||null,!0):1===t&&null!==o?gl(n,o,y,c||null,!0):2===t?function rc(t,n,o){const a=ml(t,n);a&&function rd(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,y,m):3===t&&n.destroyNode(y),null!=h&&function ic(t,n,o,a,c){const h=o[Wr];h!==Ci(o)&&wu(n,t,a,h,c);for(let y=ai;y<o.length;y++){const D=o[y];id(D[en],D,t,n,a,h)}}(n,t,h,o,c)}}function bh(t,n){return t.createComment(function pl(t){return t.replace(O_,n=>n.replace(Gy,N_))}(n))}function Ah(t,n,o){return t.createElement(n,o)}function tc(t,n){const o=t[Ji],a=o.indexOf(n);o.splice(a,1)}function Kl(t,n){if(t.length<=ai)return;const o=ai+n,a=t[o];if(a){const c=a[Vt];null!==c&&c!==t&&tc(c,a),n>0&&(t[o-1][Qi]=a[Qi]);const h=ti(t,ai+n);!function rp(t,n){id(t,n,n[E],2,null,null),n[Gr]=null,n[yi]=null}(a[en],a);const m=h[ir];null!==m&&m.detachView(h[en]),a[Fr]=null,a[Qi]=null,a[Un]&=-129}return a}function Zl(t,n){if(!(256&n[Un])){const o=n[E];o.destroyNode&&id(t,n,o,3,null,null),function ip(t){let n=t[j];if(!n)return op(t[en],t);for(;n;){let o=null;if(Vi(n))o=n[j];else{const a=n[ai];a&&(o=a)}if(!o){for(;n&&!n[Qi]&&n!==t;)Vi(n)&&op(n[en],n),n=n[Fr];null===n&&(n=t),Vi(n)&&op(n[en],n),o=n&&n[Qi]}n=o}}(n)}}function op(t,n){if(!(256&n[Un])){n[Un]&=-129,n[Un]|=256,n[Hr]&&function gt(t){if(Ee(t),Fe(t))for(let n=0;n<t.producerNode.length;n++)Be(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[Hr]),function vs(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=n[o[a]];if(!(c instanceof Lu)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=c[h[m]],D=h[m+1];eo(4,y,D);try{D.call(y)}finally{eo(5,y,D)}}else{eo(4,c,h);try{h.call(c)}finally{eo(5,c,h)}}}}}(t,n),function j_(t,n){const o=t.cleanup,a=n[z];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[z]=null);const c=n[or];if(null!==c){n[or]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[en].type&&n[E].destroy();const o=n[Vt];if(null!==o&&Ti(n[Fr])){o!==n[Fr]&&tc(o,n);const a=n[ir];null!==a&&a.detachView(t)}!function Qu(t){Qf.delete(t[wr])}(n)}}function sp(t,n,o){return function Sh(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[Gr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===oo.None||h===oo.Emulated)return null}return Go(a,o)}}(t,n.parent,o)}function gl(t,n,o,a,c){t.insertBefore(n,o,a,c)}function Bg(t,n,o){t.appendChild(n,o)}function Ql(t,n,o,a,c){null!==a?gl(t,n,o,a,c):Bg(t,n,o)}function ml(t,n){return t.parentNode(n)}function nc(t,n,o){return Xl(t,n,o)}let ap,lp,Xl=function $g(t,n,o){return 40&t.type?Go(t,o):null};function Rh(t,n,o,a){const c=sp(t,a,n),h=n[E],y=nc(a.parent||n[yi],a,n);if(null!=c)if(Array.isArray(o))for(let D=0;D<o.length;D++)Ql(h,c,o[D],y,!1);else Ql(h,c,o,y,!1);void 0!==ap&&ap(h,a,n,o,c)}function Mh(t,n){if(null!==n){const o=n.type;if(3&o)return Go(n,t);if(4&o)return jg(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return Mh(t,a);{const c=t[n.index];return Ti(c)?jg(-1,c):Ci(c)}}if(32&o)return Ju(n,t)()||Ci(t[n.index]);{const a=Ug(t,n);return null!==a?Array.isArray(a)?a[0]:Mh(Ta(t[at]),a):Mh(t,n.next)}}return null}function Ug(t,n){return null!==n?t[at][yi].projection[n.projection]:null}function jg(t,n){const o=ai+t+1;if(o<n.length){const a=n[o],c=a[en].firstChild;if(null!==c)return Mh(a,c)}return n[Wr]}function zg(t,n,o,a,c,h,m){for(;null!=o;){const y=a[o.index],D=o.type;if(m&&0===n&&(y&&ls(Ci(y),a),o.flags|=2),32!=(32&o.flags))if(8&D)zg(t,n,o.child,a,c,h,!1),wu(n,t,c,y,h);else if(32&D){const k=Ju(o,a);let G;for(;G=k();)wu(n,t,c,G,h);wu(n,t,c,y,h)}else 16&D?Gg(t,n,a,o,c,h):wu(n,t,c,y,h);o=m?o.projectionNext:o.next}}function id(t,n,o,a,c,h){zg(o,a,t.firstChild,n,c,h,!1)}function Gg(t,n,o,a,c,h){const m=o[at],D=m[yi].projection[a.projection];if(Array.isArray(D))for(let k=0;k<D.length;k++)wu(n,t,c,D[k],h);else{let k=D;const G=m[Fr];Zf(a)&&(k.flags|=128),zg(t,n,k,G,c,h,!0)}}function Wg(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function G_(t,n,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&lo(t,n,a),null!==c&&Wg(t,n,c),null!==h&&function z_(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}function Oh(t){var n;return(null===(n=function Kg(){if(void 0===lp&&(lp=null,ye.trustedTypes))try{lp=ye.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lp}())||void 0===n?void 0:n.createScriptURL(t))||t}class Nh{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rr})`}}function Ga(t){return t instanceof Nh?t.changingThisBreaksApplicationSecurity:t}function oc(t,n){const o=function Xg(t){return t instanceof Nh&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${rr})`)}return o===n}const K_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sc||{});function sm(t){const n=Bh();return n?n.sanitize(sc.URL,t)||"":oc(t,"URL")?Ga(t):function Jg(t){return(t=String(t)).match(K_)?t:"unsafe:"+t}(In(t))}function Q_(t){const n=Bh();if(n)return Oh(n.sanitize(sc.RESOURCE_URL,t)||"");if(oc(t,"ResourceURL"))return Oh(Ga(t));throw new Wt(904,!1)}function ad(t,n,o){return function _p(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Q_:sm}(n,o)(t)}function Bh(){const t=ft();return t&&t[b].sanitizer}class g0{}let ev=(t,n,o)=>null;function Uh(t,n,o=!1){return ev(t,n,o)}class v0{}class Ep{}class gm{resolveComponentFactory(n){throw function y0(t){const n=Error(`No component factory found for ${_n(t)}.`);return n.ngComponent=t,n}(n)}}let zh=(()=>{class n{}return n.NULL=new gm,n})();function mm(){return Su(cn(),ft())}function Su(t,n){return new cc(Go(t,n))}let cc=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=mm,n})();function hd(t){return t instanceof cc?t.nativeElement:t}class nu{}let _m=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function fd(){const t=ft(),o=wi(cn().index,t);return(Vi(o)?o:t)[E]}(),n})(),pd=(()=>{var t;class n{}return(t=n).\u0275prov=nt({token:t,providedIn:"root",factory:()=>null}),n})();const Dp={};function ym(t){const n=de(null);try{return t()}finally{de(n)}}function gd(t){return!!Wh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Wh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class Cp{constructor(){}supports(n){return gd(n)}create(n){return new iv(n)}}const T0=(t,n)=>n;class iv{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||T0}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<Em(a,c,h)?o:a,y=Em(m,c,h),D=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const k=y-c,G=D-c;if(k!=G){for(let Re=0;Re<k;Re++){const Qe=Re<h.length?h[Re]:h[Re]=0,Et=Qe+Re;G<=Et&&Et<k&&(h[Re]=Qe+1)}h[m.previousIndex]=G-k}}y!==D&&n(m,y,D)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!gd(n))throw new Wt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)h=n[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),a=!0),o=o._next}else c=0,function E0(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,c)):n=this._addAfter(new D0(o,a),h,c),n}_verifyReinsertion(n,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const c=null===o?this._itHead:o._next;return n._next=c,n._prev=o,null===c?this._itTail=n:c._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new Im),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Im),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class D0{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ov{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Im{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new ov,this.map.set(o,a)),a.add(n)}get(n,o){const c=this.map.get(n);return c?c.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Em(t,n,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+n+c}class Tm{constructor(){}supports(n){return n instanceof Map||Wh(n)}create(){return new C0}}class C0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||Wh(n)))throw new Wt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new w0(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class w0{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sv(){return new Dm([new Cp])}let Dm=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||sv()),deps:[[n,new Bl,new Va]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Wt(901,!1)}}return(t=n).\u0275prov=nt({token:t,providedIn:"root",factory:sv}),n})();function wp(){return new qh([new Tm])}let qh=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||wp()),deps:[[n,new Bl,new Va]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Wt(901,!1)}}return(t=n).\u0275prov=nt({token:t,providedIn:"root",factory:wp}),n})();function dc(t,n,o,a,c=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(Ci(h)),Ti(h)&&lv(h,a);const m=o.type;if(8&m)dc(t,n,o.child,a);else if(32&m){const y=Ju(o,n);let D;for(;D=y();)a.push(D)}else if(16&m){const y=Ug(n,o);if(Array.isArray(y))a.push(...y);else{const D=Ta(n[at]);dc(D[en],D,y,a,!0)}}o=c?o.projectionNext:o.next}return a}function lv(t,n){for(let o=ai;o<t.length;o++){const a=t[o],c=a[en].firstChild;null!==c&&dc(a[en],a,c,n)}t[Wr]!==t[Gr]&&n.push(t[Wr])}let bp=[];const A0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ja(t.lView)},consumerOnSignalRead(){this.lView[Hr]=this}};function Yh(t){return t.ngOriginalError}class Ru{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&Yh(n);for(;o&&Yh(o);)o=Yh(o);return o||null}}const Sp=new Ze("",{providedIn:"root",factory:()=>oe(Ru).handleError.bind(void 0)}),Pp=new Ze("",{providedIn:"root",factory:()=>!1}),Ir={};function mv(t){Op(Sr(),ft(),dr()+t,!1)}function Op(t,n,o,a){if(!a)if(3==(3&n[Un])){const h=t.preOrderCheckHooks;null!==h&&Ol(n,h,o)}else{const h=t.preOrderHooks;null!==h&&du(n,h,0,o)}Ni(o)}function _d(t,n=zn.Default){const o=ft();return null===o?ne(t,n):Rf(cn(),o,Gt(t),n)}function Np(){throw new Error("invalid")}function vd(t,n,o,a,c,h,m,y,D,k,G){const X=n.blueprint.slice();return X[Gr]=c,X[Un]=204|a,(null!==k||t&&2048&t[Un])&&(X[Un]|=2048),Bi(X),X[Fr]=X[ie]=t,X[L]=o,X[b]=m||t&&t[b],X[E]=y||t&&t[E],X[me]=D||t&&t[me]||null,X[yi]=h,X[wr]=function k_(){return Wy++}(),X[Do]=G,X[Ar]=k,X[at]=2==n.type?t[at]:X,X}function hc(t,n,o,a,c){let h=t.data[n];if(null===h)h=function Kh(t,n,o,a,c){const h=el(),m=ui(),D=t.data[n]=function Iv(t,n,o,a,c,h){let m=n?n.injectorIndex:-1,y=0;return ma()&&(y|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,c);return null===t.firstChild&&(t.firstChild=D),null!==h&&(m?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(t,n,o,a,c),function qd(){return _t.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const m=function Rr(){const t=_t.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return rs(h,!0),h}function yd(t,n,o,a){if(0===o)return-1;const c=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function _v(t,n,o,a,c){const h=dr(),m=2&a;try{Ni(-1),m&&n.length>Fn&&Op(t,n,Fn,!1),eo(m?2:0,c),o(a,c)}finally{Ni(h),eo(m?3:1,c)}}function Am(t,n,o){if(ha(n)){const a=de(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const y=t.data[m];y.contentQueries&&y.contentQueries(1,o[m],m)}}finally{de(a)}}}function Zh(t,n,o){Bs()&&(function Lp(t,n,o,a){const c=o.directiveStart,h=o.directiveEnd;fs(o)&&function x0(t,n,o){const a=Go(n,t),c=kp(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const y=$p(t,vd(t,c,null,m,a,n,null,t[b].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=y}(n,o,t.data[c+o.componentOffset]),t.firstCreatePass||go(o,n),ls(a,n);const m=o.initialInputs;for(let y=c;y<h;y++){const D=t.data[y],k=Hs(n,t,y,o);ls(k,n),null!==m&&wv(0,y-c,k,D,0,m),Ro(D)&&(wi(o.index,n)[L]=Hs(n,t,y,o))}}(t,n,o,Go(o,n)),64==(64&o.flags)&&Vp(t,n,o))}function Sm(t,n,o=Go){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],y=-1===m?o(n,t):t[m];t[c++]=y}}}function kp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Qh(t,n,o,a,c,h,m,y,D,k,G){const X=Fn+a,Re=X+c,Qe=function Rm(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:Ir);return o}(X,Re),Et="function"==typeof k?k():k;return Qe[en]={type:t,blueprint:Qe,template:o,queries:null,viewQuery:y,declTNode:n,data:Qe.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:Et,incompleteFirstPass:!1,ssrId:G}}let vv=t=>null;function Jh(t,n,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const h=t[c];null===a?Ev(o,n,c,h):a.hasOwnProperty(c)&&Ev(o,n,a[c],h)}return o}function Ev(t,n,o,a){t.hasOwnProperty(o)?t[o].push(n,a):t[o]=[n,a]}function ef(t,n,o,a){if(Bs()){const c=null===a?null:{"":-1},h=function Ed(t,n){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let m=0;m<o.length;m++){const y=o[m];if(ds(n,y.selectors,!1))if(a||(a=[]),Ro(y))if(null!==y.findHostDirectiveDefs){const D=[];c=c||new Map,y.findHostDirectiveDefs(y,D,c),a.unshift(...D,y),Bp(t,n,D.length)}else a.unshift(y),Bp(t,n,0);else{var h;c=c||new Map,null===(h=y.findHostDirectiveDefs)||void 0===h||h.call(y,y,a,c),a.push(y)}}return null===a?null:[a,c]}(t,o);let m,y;null===h?m=y=null:[m,y]=h,null!==m&&xm(t,n,o,m,c,y),c&&function km(t,n,o){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=o[n[c+1]];if(null==h)throw new Wt(-301,!1);a.push(n[c],h)}}}(o,a,c)}o.mergedAttrs=To(o.mergedAttrs,o.attrs)}function xm(t,n,o,a,c,h){for(let X=0;X<a.length;X++)Wo(go(o,n),t,a[X].type);!function Td(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let X=0;X<a.length;X++){const Re=a[X];Re.providersResolver&&Re.providersResolver(Re)}let m=!1,y=!1,D=yd(t,n,a.length,null);for(let X=0;X<a.length;X++){const Re=a[X];o.mergedAttrs=To(o.mergedAttrs,Re.hostAttrs),Fm(t,o,n,D,Re),Cv(D,Re,c),null!==Re.contentQueries&&(o.flags|=4),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(o.flags|=64);const Qe=Re.type.prototype;var k,G;!m&&(Qe.ngOnChanges||Qe.ngOnInit||Qe.ngDoCheck)&&((null!==(k=t.preOrderHooks)&&void 0!==k?k:t.preOrderHooks=[]).push(o.index),m=!0),y||!Qe.ngOnChanges&&!Qe.ngDoCheck||((null!==(G=t.preOrderCheckHooks)&&void 0!==G?G:t.preOrderCheckHooks=[]).push(o.index),y=!0),D++}!function M0(t,n,o){const c=n.directiveEnd,h=t.data,m=n.attrs,y=[];let D=null,k=null;for(let G=n.directiveStart;G<c;G++){const X=h[G],Re=o?o.get(X):null,Et=Re?Re.outputs:null;D=Jh(X.inputs,G,D,Re?Re.inputs:null),k=Jh(X.outputs,G,k,Et);const jt=null===D||null===m||uo(n)?null:Av(D,G,m);y.push(jt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=D,n.outputs=k}(t,o,h)}function Vp(t,n,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,m=function tl(){return _t.lFrame.currentDirectiveIndex}();try{Ni(h);for(let y=a;y<c;y++){const D=t.data[y],k=n[y];T(y),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Dv(D,k)}}finally{Ni(-1),T(m)}}function Dv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Bp(t,n,o){var a;n.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function Cv(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;Ro(n)&&(o[""]=t)}}function Fm(t,n,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=Kn(c.type)),m=new Lu(h,Ro(c),_d);t.blueprint[a]=m,o[a]=m,function Om(t,n,o,a,c){const h=c.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const y=~n.index;(function Nm(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=y&&m.push(y),m.push(o,a,h)}}(t,n,a,yd(t,o,c.hostVars,Ir),c)}function vl(t,n,o,a,c,h){const m=Go(t,n);!function Lm(t,n,o,a,c,h,m){if(null==h)t.removeAttribute(n,c,o);else{const y=null==m?In(h):m(h,a||"",c);t.setAttribute(n,c,y,o)}}(n[E],m,h,t.value,o,a,c)}function wv(t,n,o,a,c,h){const m=h[n];if(null!==m)for(let y=0;y<m.length;)bv(a,o,m[y++],m[y++],m[y++])}function bv(t,n,o,a,c){const h=de(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(c=m[a].call(n,c)),null!==t.setInput?t.setInput(n,c,o,a):n[a]=c}finally{de(h)}}function Av(t,n,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let y=0;y<m.length;y+=2)if(m[y]===n){a.push(h,m[y+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Sv(t,n,o,a){return[t,!0,0,n,null,a,null,o,null,null]}function Rv(t,n){const o=t.contentQueries;if(null!==o){const a=de(null);try{for(let c=0;c<o.length;c+=2){const m=o[c+1];if(-1!==m){const y=t.data[m];v(o[c]),y.contentQueries(2,n[m],m)}}}finally{de(a)}}}function $p(t,n){return t[j]?t[x][Qi]=n:t[j]=n,t[x]=n,n}function Vm(t,n,o){v(0);const a=de(null);try{n(t,o)}finally{de(a)}}function Mv(t){return t[z]||(t[z]=[])}function Bm(t){return t.cleanup||(t.cleanup=[])}function Dd(t,n){const o=t[me],a=o?o.get(Ru,null):null;a&&a.handleError(n)}function Up(t,n,o,a,c){for(let h=0;h<o.length;){const m=o[h++],y=o[h++];bv(t.data[m],n[m],a,y,c)}}function xv(t,n,o,a){var c;const h=n[Un];if(256==(256&h))return;null===(c=n[b].inlineEffectRunner)||void 0===c||c.flush(),ve(n);let y=null,D=null;(function tf(t){return 2!==t.type})(t)&&(D=function uv(t){var n;return null!==(n=t[Hr])&&void 0!==n?n:function Cm(t){var n;const o=null!==(n=bp.pop())&&void 0!==n?n:Object.create(A0);return o.lView=t,o}(t)}(n),y=function Le(t){return t&&(t.nextProducerIndex=0),de(t)}(D));try{Bi(n),function Mc(t){return _t.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&_v(t,n,o,2,a);const k=3==(3&h);if(k){const Re=t.preOrderCheckHooks;null!==Re&&Ol(n,Re,null)}else{const Re=t.preOrderHooks;null!==Re&&du(n,Re,0,null),Kd(n,0)}if(function us(t){for(let n=Lg(t);null!==n;n=$_(n)){if(!(n[Un]&Gi.HasTransplantedViews))continue;const o=n[Ji];for(let a=0;a<o.length;a++){ns(o[a])}}}(n),Um(n,0),null!==t.contentQueries&&Rv(t,n),k){const Re=t.contentCheckHooks;null!==Re&&Ol(n,Re)}else{const Re=t.contentHooks;null!==Re&&du(n,Re,1),Kd(n,1)}!function S0(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)Ni(~c);else{const h=c,m=o[++a],y=o[++a];Yd(m,h),y(2,n[h])}}}finally{Ni(-1)}}(t,n);const G=t.components;null!==G&&Ov(n,G,0);const X=t.viewQuery;if(null!==X&&Vm(2,X,a),k){const Re=t.viewCheckHooks;null!==Re&&Ol(n,Re)}else{const Re=t.viewHooks;null!==Re&&du(n,Re,2),Kd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[fi]){for(const Re of n[fi])Re();n[fi]=null}n[Un]&=-73}catch(k){throw Ja(n),k}finally{null!==D&&(function je(t,n){if(de(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Fe(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Be(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(D,y),function cv(t){t.lView[Hr]!==t&&(t.lView=null,bp.push(t))}(D)),tr()}}function Um(t,n){for(let o=Lg(t);null!==o;o=$_(o)){o[Un]&=~Gi.HasChildViewsToRefresh;for(let a=ai;a<o.length;a++)Wa(o[a],n)}}function qi(t,n,o){Wa(wi(n,t),o)}function Wa(t,n){As(t)&&jp(t,n)}function jp(t,n){const a=t[en],c=t[Un],h=t[Hr];let m=!!(0===n&&16&c);if(m||(m=!!(64&c&&0===n)),m||(m=!!(1024&c)),m||(m=!(null==h||!h.dirty||!Ye(h))),h&&(h.dirty=!1),t[Un]&=-9217,m)xv(a,t,a.template,t[L]);else if(8192&c){Um(t,1);const y=a.components;null!==y&&Ov(t,y,1)}}function Ov(t,n,o){for(let a=0;a<n.length;a++)qi(t,n[a],o)}function Mu(t){var n;for(null===(n=t[b].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Un]|=64;const o=Ta(t);if(Ma(t)&&!o)return t;t=o}return null}class wd{get rootNodes(){const n=this._lView,o=n[en];return dc(o,n,o.firstChild,[])}constructor(n,o,a=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[L]}set context(n){this._lView[L]=n}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Fr];if(Ti(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Kl(n,a),ti(o,a))}this._attachedToViewContainer=!1}Zl(this._lView[en],this._lView)}onDestroy(n){hn(this._lView,n)}markForCheck(){Mu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){xn(this._lView),this._lView[Un]|=128}detectChanges(){this._lView[Un]|=1024,function Cd(t,n=!0){const o=t[b],a=o.rendererFactory,c=o.afterRenderEventManager;var m;null===(m=a.begin)||void 0===m||m.call(a),null==c||c.begin();try{!function qr(t){jp(t,0);let n=0;for(;Rn(t);){if(100===n)throw new Wt(103,!1);n++,jp(t,1)}}(t)}catch(k){throw n&&Dd(t,k),k}finally{var y,D;null===(y=a.end)||void 0===y||y.call(a),null===(D=o.inlineEffectRunner)||void 0===D||D.flush(),null==c||c.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Wt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vg(t,n){id(t,n,n[E],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Wt(902,!1);this._appRef=n,xn(this._lView)}}let Hp=(()=>{class n{}return n.__NG_ELEMENT_ID__=N0,n})();function N0(t){return function jm(t,n,o){if(fs(t)&&!o){const a=wi(t.index,n);return new wd(a,a)}return 47&t.type?new wd(n[at],n):null}(cn(),ft(),16==(16&t))}let Hm=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=Nv,t.__NG_ENV_ID__=o=>o,n})();class vo extends Hm{constructor(n){super(),this._lView=n}onDestroy(n){return hn(this._lView,n),()=>function Ct(t,n){if(null===t[or])return;const o=t[or].indexOf(n);-1!==o&&t[or].splice(o,1)}(this._lView,n)}}function Nv(){return new vo(ft())}const j0=new Set;function fc(t){var n,o;j0.has(t)||(j0.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function zp(t){return n=>{setTimeout(t,void 0,n)}}const qs=class H0 extends vt.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let c=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){var y,D,k;const X=n;c=null===(y=X.next)||void 0===y?void 0:y.bind(X),h=null===(D=X.error)||void 0===D?void 0:D.bind(X),m=null===(k=X.complete)||void 0===k?void 0:k.bind(X)}this.__isAsync&&(h=zp(h),c&&(c=zp(c)),m&&(m=zp(m)));const G=super.subscribe({next:c,error:h,complete:m});return n instanceof ht.w0&&n.add(G),G}};function Fv(...t){}class Vo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qs(!1),this.onMicrotaskEmpty=new qs(!1),this.onStable=new qs(!1),this.onError=new qs(!1),typeof Zone>"u")throw new Wt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Il(){const t="function"==typeof ye.requestAnimationFrame;let n=ye[t?"requestAnimationFrame":"setTimeout"],o=ye[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function G0(t){const n=()=>{!function z0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ye,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gp(t),t.isCheckStableRunning=!0,bd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,m,y)=>{if(function gc(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(y))return o.invokeTask(c,h,m,y);try{return zm(t),o.invokeTask(c,h,m,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),nf(t)}},onInvoke:(o,a,c,h,m,y,D)=>{try{return zm(t),o.invoke(c,h,m,y,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),nf(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Gp(t),bd(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vo.isInAngularZone())throw new Wt(909,!1)}static assertNotInAngularZone(){if(Vo.isInAngularZone())throw new Wt(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,pc,Fv,Fv);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const pc={};function bd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nf(t){t._nesting--,bd(t)}class W0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qs,this.onMicrotaskEmpty=new qs,this.onStable=new qs,this.onError=new qs}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,c){return n.apply(o,a)}}var qa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qa||{});const Gm={destroy(){}};function Lv(t,n){var o,a,c;!n&&function Ai(t){if(!Or()&&!function Jn(){return mn}())throw new Wt(-203,!1)}();const h=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:oe(_o);if(!function J(t){return"browser"===(null!=t?t:oe(_o)).get(hh)}(h))return Gm;fc("NgAfterNextRender");const m=h.get(Ad),y=null!==(a=m.handler)&&void 0!==a?a:m.handler=new Yp,D=null!==(c=null==n?void 0:n.phase)&&void 0!==c?c:qa.MixedReadWrite,k=()=>{y.unregister(X),G()},G=h.get(Hm).onDestroy(k),X=new Vv(h,D,()=>{k(),t()});return y.register(X),{destroy:k}}class Vv{constructor(n,o,a){this.phase=o,this.callbackFn=a,this.zone=n.get(Vo),this.errorHandler=n.get(Ru,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class Yp{constructor(){this.executingCallbacks=!1,this.buckets={[qa.EarlyRead]:new Set,[qa.Write]:new Set,[qa.MixedReadWrite]:new Set,[qa.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Wt(102,!1)}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Ad=(()=>{var t;class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){var a;null===(a=this.handler)||void 0===a||a.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){var a;for(const c of this.internalCallbacks)c();this.internalCallbacks.length=0,null===(a=this.handler)||void 0===a||a.execute()}}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=nt({token:t,providedIn:"root",factory:()=>new t}),n})();function Bv(t,n){const o=wi(n,t),a=o[en];!function mc(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const c=o[Gr];null!==c&&null===o[Do]&&(o[Do]=Uh(c,o[me])),Kp(a,o,o[L])}function Kp(t,n,o){ve(n);try{const a=t.viewQuery;null!==a&&Vm(1,a,o);const c=t.template;null!==c&&_v(t,n,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rv(t,n),t.staticViewQueries&&Vm(2,t.viewQuery,o);const h=t.components;null!==h&&function $v(t,n){for(let o=0;o<n.length;o++)Bv(t,n[o])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Un]&=-5,tr()}}function Sd(t,n,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const y=n[m];"number"==typeof y?h=y:1==h?c=an(c,y):2==h&&(a=an(a,y+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}class Rd extends zh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=ur(n);return new Md(o,this.ngModule)}}function Uv(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class Qp{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=et(a);const c=this.injector.get(n,Dp,a);return c!==Dp||o===Dp?c:this.parentInjector.get(n,o,a)}}class Md extends Ep{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=Uv(n.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return Uv(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Ns(t){return t.map(Os).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,c){var m;let y=(c=c||this.ngModule)instanceof oa?c:null===(m=c)||void 0===m?void 0:m.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const D=y?new Qp(n,y):n,k=D.get(nu,null);if(null===k)throw new Wt(407,!1);const Qe={rendererFactory:k,sanitizer:D.get(pd,null),inlineEffectRunner:null,afterRenderEventManager:D.get(Ad,null),changeDetectionScheduler:D.get(g0,null)},Et=k.createRenderer(null,this.componentDef),jt=this.componentDef.selectors[0][0]||"div",rn=a?function R0(t,n,o,a){const h=a.get(Pp,!1)||o===oo.ShadowDom,m=t.selectRootElement(n,h);return function Xh(t){vv(t)}(m),m}(Et,a,this.componentDef.encapsulation,D):Ah(Et,jt,function Zp(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(jt));let Dn=512;this.componentDef.signals?Dn|=4096:this.componentDef.onPush||(Dn|=16);let Bt=null;null!==rn&&(Bt=Uh(rn,D,!0));const _r=Qh(0,null,null,1,0,null,null,null,null,null,null),Pr=vd(null,_r,null,Dn,null,null,Qe,Et,D,null,Bt);let pi,Is;ve(Pr);try{const Dc=this.componentDef;let vg,bE=null;Dc.findHostDirectiveDefs?(vg=[],bE=new Map,Dc.findHostDirectiveDefs(Dc,vg,bE),vg.push(Dc)):vg=[Dc];const _M=function Y0(t,n){const o=t[en],a=Fn;return t[a]=n,hc(o,a,2,"#host",null)}(Pr,rn),vM=function Xp(t,n,o,a,c,h,m){const y=c[en];!function jv(t,n,o,a){for(const c of t)n.mergedAttrs=To(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Sd(n,n.mergedAttrs,!0),null!==o&&G_(a,o,n))}(a,t,n,m);let D=null;null!==n&&(D=Uh(n,c[me]));const k=h.rendererFactory.createRenderer(n,o);let G=16;o.signals?G=4096:o.onPush&&(G=64);const X=vd(c,kp(o),null,G,c[t.index],t,h,k,null,null,D);return y.firstCreatePass&&Bp(y,t,a.length-1),$p(c,X),c[t.index]=X}(_M,rn,Dc,vg,Pr,Qe,Et);Is=Ml(_r,Fn),rn&&function sf(t,n,o,a){if(a)lo(t,o,["ng-version","17.0.8"]);else{const{attrs:c,classes:h}=function wl(t){const n=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&o.push(h);else{if(!zi(c))break;c=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);c&&lo(t,o,c),h&&h.length>0&&Wg(t,o,h.join(" "))}}(Et,Dc,rn,a),void 0!==o&&function xu(t,n,o){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(Is,this.ngContentSelectors,o),pi=function Wm(t,n,o,a,c,h){const m=cn(),y=c[en],D=Go(m,c);xm(y,c,m,o,null,a);for(let G=0;G<o.length;G++)ls(Hs(c,y,m.directiveStart+G,m),c);Vp(y,c,m),D&&ls(D,c);const k=Hs(c,y,m.directiveStart+m.componentOffset,m);if(t[L]=c[L]=k,null!==h)for(const G of h)G(k,n);return Am(y,m,t),k}(vM,Dc,vg,bE,Pr,[af]),Kp(_r,Pr,null)}finally{tr()}return new rf(this.componentType,pi,Su(Is,Pr),Pr,Is)}}class rf extends v0{constructor(n,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new wd(c,void 0,!1),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;Up(m[en],m,c,n,o),this.previousInputValues.set(n,o),Mu(wi(this._tNode.index,m))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function af(){const t=cn();xl(ft()[en],t)}function Ou(t){let n=function Hv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let c;if(Ro(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Wt(903,!1);c=n.\u0275dir}if(c){if(o){a.push(c);const m=t;m.inputs=qm(t.inputs),m.inputTransforms=qm(t.inputTransforms),m.declaredInputs=qm(t.declaredInputs),m.outputs=qm(t.outputs);const y=c.hostBindings;y&&Jp(t,y);const D=c.viewQuery,k=c.contentQueries;if(D&&Ym(t,D),k&&K0(t,k),En(t.inputs,c.inputs),En(t.declaredInputs,c.declaredInputs),En(t.outputs,c.outputs),null!==c.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),En(m.inputTransforms,c.inputTransforms)),Ro(c)&&c.data.animation){const G=t.data;G.animation=(G.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(t),y===Ou&&(o=!1)}}n=Object.getPrototypeOf(n)}!function HE(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=To(c.hostAttrs,o=To(o,c.hostAttrs))}}(a)}function qm(t){return t===Mi?{}:t===lr?[]:t}function Ym(t,n){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{n(a,c),o(a,c)}:n}function K0(t,n){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{n(a,c,h),o(a,c,h)}:n}function Jp(t,n){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{n(a,c),o(a,c)}:n}function Zm(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function wo(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Gv(t,n,o,a){const c=ft();return wo(c,No(),n)&&(Sr(),vl(mr(),c,t,n,o,a)),Gv}function hf(t,n){return t<<17|n<<2}function Nu(t){return t>>17&32767}function Jm(t){return 2|t}function wa(t){return(131068&t)>>2}function ff(t,n){return-131069&t|n<<2}function e_(t){return 1|t}function rI(t,n,o,a,c){const h=t[o+1],m=null===n;let y=a?Nu(h):wa(h),D=!1;for(;0!==y&&(!1===D||m);){const G=t[y+1];YE(t[y],n)&&(D=!0,t[y+1]=a?e_(G):Jm(G)),y=a?Nu(G):wa(G)}D&&(t[o+1]=a?Jm(h):e_(h))}function YE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Vl(t,n)>=0}function n_(t,n,o){const a=ft();return wo(a,No(),n)&&function aa(t,n,o,a,c,h,m,y){const D=Go(n,o);let G,k=n.inputs;!y&&null!=k&&(G=k[a])?(Up(t,o,G,a,c),fs(n)&&function Fp(t,n){const o=wi(n,t);16&o[Un]||(o[Un]|=64)}(o,n.index)):3&n.type&&(a=function P0(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,n.value||"",a):c,h.setProperty(D,a,c))}(Sr(),mr(),a,t,n,a[E],o,!1),n_}function ry(t,n,o,a,c){const m=c?"class":"style";Up(t,o,n.inputs[m],m,a)}function tg(t,n){return function Dl(t,n,o,a){const c=ft(),h=Sr(),m=function Us(t){const n=_t.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}(2);h.firstUpdatePass&&function dI(t,n,o,a){const c=t.data;if(null===c[o+1]){const h=c[dr()],m=function r_(t,n){return n>=t.expandoStartIndex}(t,o);(function a_(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!m&&(n=!1),n=function i_(t,n,o,a){const c=function A(t){const n=_t.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(o=Nd(o=pf(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(o=pf(c,t,n,o,a),null===h){let D=function ng(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==wa(a))return t[Nu(a)]}(t,n,a);void 0!==D&&Array.isArray(D)&&(D=pf(null,t,n,D[1],a),D=Nd(D,n.attrs,a),function hI(t,n,o,a){t[Nu(o?n.classBindings:n.styleBindings)]=a}(t,n,a,D))}else h=function fI(t,n,o){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=Nd(a,t[h].hostAttrs,o);return Nd(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(c,h,n,a),function tI(t,n,o,a,c,h){let m=h?n.classBindings:n.styleBindings,y=Nu(m),D=wa(m);t[a]=o;let G,k=!1;if(Array.isArray(o)?(G=o[1],(null===G||Vl(o,G)>0)&&(k=!0)):G=o,c)if(0!==D){const Re=Nu(t[y+1]);t[a+1]=hf(Re,y),0!==Re&&(t[Re+1]=ff(t[Re+1],a)),t[y+1]=function Xv(t,n){return 131071&t|n<<17}(t[y+1],a)}else t[a+1]=hf(y,0),0!==y&&(t[y+1]=ff(t[y+1],a)),y=a;else t[a+1]=hf(D,0),0===y?y=a:t[D+1]=ff(t[D+1],a),D=a;k&&(t[a+1]=Jm(t[a+1])),rI(t,G,a,!0),rI(t,G,a,!1),function nI(t,n,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Vl(h,n)>=0&&(o[a+1]=e_(o[a+1]))}(n,G,t,a,h),m=hf(y,D),h?n.classBindings=m:n.styleBindings=m}(c,h,n,o,m,a)}}(h,t,m,a),n!==Ir&&wo(c,m,n)&&function oy(t,n,o,a,c,h,m,y){if(!(3&n.type))return;const D=t.data,k=D[y+1],G=function GE(t){return 1==(1&t)}(k)?s_(D,n,o,c,wa(k),m):void 0;vc(G)||(vc(h)||function eI(t){return 2==(2&t)}(k)&&(h=s_(D,null,o,c,y,m)),function Ph(t,n,o,a,c){if(n)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Yl.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Yl.Important),t.setStyle(o,a,c,h))}}(a,m,Sl(dr(),o),c,h))}(h,h.data[dr()],c,c[E],t,c[m+1]=function gI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=_n(Ga(t)))),t}(n,o),a,m)}(t,n,null,!0),tg}function pf(t,n,o,a,c){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=n[y],a=Nd(a,h.hostAttrs,c),h!==t);)y++;return null!==t&&(o.directiveStylingLast=y),a}function Nd(t,n,o){const a=o?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qo(t,m,!!o||n[++h]))}return void 0===t?null:t}function s_(t,n,o,a,c,h){const m=null===n;let y;for(;c>0;){const D=t[c],k=Array.isArray(D),G=k?D[1]:D,X=null===G;let Re=o[c+1];Re===Ir&&(Re=X?lr:void 0);let Qe=X?mu(Re,a):G===a?Re:void 0;if(k&&!vc(Qe)&&(Qe=mu(D,a)),vc(Qe)&&(y=Qe,m))return y;const Et=t[c+1];c=m?Nu(Et):wa(Et)}if(null!==n){let D=h?n.residualClasses:n.residualStyles;null!=D&&(y=mu(D,a))}return y}function vc(t){return void 0!==t}function Tc(t,n){return!n||null===n.firstChild||Zf(t)}function u_(t,n,o,a=!0){const c=n[en];if(function Qy(t,n,o,a){const c=ai+a,h=o.length;a>0&&(o[c-1][Qi]=n),a<h-ai?(n[Qi]=o[c],Ur(o,ai+a,n)):(o.push(n),n[Qi]=null),n[Fr]=o;const m=n[Vt];null!==m&&o!==m&&function U_(t,n){const o=t[Ji];n[at]!==n[Fr][Fr][at]&&(t[Un]|=Gi.HasTransplantedViews),null===o?t[Ji]=[n]:o.push(n)}(m,n);const y=n[ir];null!==y&&y.insertView(t),xn(n),n[Un]|=128}(c,n,t,o),a){const m=jg(o,t),y=n[E],D=ml(y,t[Wr]);null!==D&&function Zy(t,n,o,a,c,h){a[Gr]=c,a[yi]=n,id(t,a,o,1,c,h)}(c,t[yi],y,n,D,m)}const h=n[Do];null!==h&&null!==h.firstChild&&(h.firstChild=null)}let yy=(()=>{class n{}return n.__NG_ELEMENT_ID__=ww,n})();function ww(){return rT(cn(),ft())}const bw=yy,tT=class extends bw{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const n=_a(this._hostTNode,this._hostLView);if(Nc(n)){const o=il(n,this._hostLView),a=kl(n);return new Ui(o[en].data[a+8],o)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=nT(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(n,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const y=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(y,c,Tc(this._hostTNode,null)),y}createComponent(n,o,a,c,h){var m,D;const k=n&&!function gu(t){return"function"==typeof t}(n);let G;if(k)G=o;else{const Dn=o||{};G=Dn.index,a=Dn.injector,c=Dn.projectableNodes,h=Dn.environmentInjector||Dn.ngModuleRef}const X=k?n:new Md(ur(n)),Re=a||this.parentInjector;if(!h&&null==X.ngModule){const Bt=(k?Re:this.parentInjector).get(oa,null);Bt&&(h=Bt)}const Qe=ur(null!==(m=X.componentType)&&void 0!==m?m:{}),Et=(null==Qe?void 0:Qe.id,null),jt=null!==(D=null==Et?void 0:Et.firstChild)&&void 0!==D?D:null,rn=X.create(Re,c,jt,h);return this.insertImpl(rn.hostView,G,Tc(this._hostTNode,Et)),rn}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,a){const c=n._lView;if(function Gd(t){return Ti(t[Fr])}(c)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const D=c[Fr],k=new tT(D,D[yi],D[Fr]);k.detach(k.indexOf(n))}}const h=this._adjustIndex(o),m=this._lContainer;return u_(m,c,h,a),n.attachToViewContainerRef(),Ur(CI(m),h,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=nT(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Kl(this._lContainer,o);a&&(ti(CI(this._lContainer),o),Zl(a[en],a))}detach(n){const o=this._adjustIndex(n,-1),a=Kl(this._lContainer,o);return a&&null!=ti(CI(this._lContainer),o)?new wd(a):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function nT(t){return t[8]}function CI(t){return t[8]||(t[8]=[])}function rT(t,n){let o;const a=n[t.index];return Ti(a)?o=a:(o=Sv(a,n,null,t),n[t.index]=o,$p(n,o)),iT(o,n,t,a),new tT(o,t,n)}let iT=function sT(t,n,o,a){if(t[Wr])return;let c;c=8&o.type?Ci(a):function Aw(t,n){const o=t[E],a=o.createComment(""),c=Go(n,t);return gl(o,ml(o,c),a,function Jy(t,n){return t.nextSibling(n)}(o,c),!1),a}(n,o),t[Wr]=c},wI=(t,n,o)=>!1;function ig(t,n,o,a,c,h,m,y){const D=ft(),k=Sr(),G=t+Fn,X=k.firstCreatePass?function Pw(t,n,o,a,c,h,m,y,D){const k=n.consts,G=hc(n,t,4,m||null,Ut(k,y));ef(n,o,G,Ut(k,D)),xl(n,G);const X=G.tView=Qh(2,G,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,G),X.queries=n.queries.embeddedTView(G)),G}(G,k,D,n,o,a,c,h,m):k.data[G];rs(X,!1);const Re=aT(k,D,X,t);Ss()&&Rh(k,D,Re,X),ls(Re,D);const Qe=Sv(Re,D,Re,X);return D[G]=Qe,$p(D,Qe),function oT(t,n,o){return wI(t,n,o)}(Qe,X,D),Za(X)&&Zh(k,D,X),null!=m&&Sm(D,X,y),ig}let aT=function lT(t,n,o,a){return ea(!0),n[E].createComment("")};function wy(t,n,o,a){const c=ft(),h=Sr(),m=Fn+t,y=c[E],D=h.firstCreatePass?function Ib(t,n,o,a,c,h){const m=n.consts,D=hc(n,t,2,a,Ut(m,c));return ef(n,o,D,Ut(m,h)),null!==D.attrs&&Sd(D,D.attrs,!1),null!==D.mergedAttrs&&Sd(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(m,h,c,n,o,a):h.data[m],k=PT(h,c,D,y,n,t);c[m]=k;const G=Za(D);return rs(D,!0),G_(y,k,D),32!=(32&D.flags)&&Ss()&&Rh(h,c,k,D),0===function yg(){return _t.lFrame.elementDepthCount}()&&ls(k,c),function Fu(){_t.lFrame.elementDepthCount++}(),G&&(Zh(h,c,D),Am(h,D,c)),null!==a&&Sm(c,D),wy}function by(){let t=cn();ui()?fn():(t=t.parent,rs(t,!1));const n=t;(function Ac(t){return _t.skipHydrationRootTNode===t})(n)&&function Sc(){_t.skipHydrationRootTNode=null}(),function Wd(){_t.lFrame.elementDepthCount--}();const o=Sr();return o.firstCreatePass&&(xl(o,t),ha(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function wf(t){return 0!=(8&t.flags)}(n)&&ry(o,n,ft(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Tg(t){return 0!=(16&t.flags)}(n)&&ry(o,n,ft(),n.stylesWithoutHost,!1),by}function FI(t,n,o,a){return wy(t,n,o,a),by(),FI}let PT=(t,n,o,a,c,h)=>(ea(!0),Ah(a,c,function Pc(){return _t.lFrame.currentNamespace}()));function LI(t,n,o){const a=ft(),c=Sr(),h=t+Fn,m=c.firstCreatePass?function Db(t,n,o,a,c){const h=n.consts,m=Ut(h,a),y=hc(n,t,8,"ng-container",m);return null!==m&&Sd(y,m,!0),ef(n,o,y,Ut(h,c)),null!==n.queries&&n.queries.elementStart(n,y),y}(h,c,a,n,o):c.data[h];rs(m,!0);const y=xT(c,a,m,t);return a[h]=y,Ss()&&Rh(c,a,y,m),ls(y,a),Za(m)&&(Zh(c,a,m),Am(c,m,a)),null!=o&&Sm(a,m),LI}function VI(){let t=cn();const n=Sr();return ui()?fn():(t=t.parent,rs(t,!1)),n.firstCreatePass&&(xl(n,t),ha(t)&&n.queries.elementEnd(t)),VI}function BI(t,n,o){return LI(t,n,o),VI(),BI}let xT=(t,n,o,a)=>(ea(!0),bh(n[E],""));function OT(){return ft()}const Ef=void 0;var Ab=["en",[["a","p"],["AM","PM"],Ef],[["AM","PM"],Ef,Ef],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ef,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ef,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ef,"{1} 'at' {0}",Ef],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bb(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let dg={};function $I(t){const n=function Sb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=LT(n);if(o)return o;const a=n.split("-")[0];if(o=LT(a),o)return o;if("en"===a)return Ab;throw new Wt(701,!1)}function FT(t){return $I(t)[hg.PluralCase]}function LT(t){return t in dg||(dg[t]=ye.ng&&ye.ng.common&&ye.ng.common.locales&&ye.ng.common.locales[t]),dg[t]}var hg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(hg||{});const fg="en-US";let VT=fg;function HI(t){return!!t&&"function"==typeof t.then}function uD(t){return!!t&&"function"==typeof t.subscribe}function zI(t,n,o,a){const c=ft(),h=Sr(),m=cn();return function dD(t,n,o,a,c,h,m){const y=Za(a),k=t.firstCreatePass&&Bm(t),G=n[L],X=Mv(n);let Re=!0;if(3&a.type||m){const jt=Go(a,n),rn=m?m(jt):jt,Dn=X.length,Bt=m?Pr=>m(Ci(Pr[a.index])):a.index;let _r=null;if(!m&&y&&(_r=function TA(t,n,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===a){const y=n[z],D=c[h+2];return y.length>D?y[D]:null}"string"==typeof m&&(h+=2)}return null}(t,n,c,a.index)),null!==_r)(_r.__ngLastListenerFn__||_r).__ngNextListenerFn__=h,_r.__ngLastListenerFn__=h,Re=!1;else{h=fD(a,n,G,h,!1);const Pr=o.listen(rn,c,h);X.push(h,Pr),k&&k.push(c,Bt,Dn,Dn+1)}}else h=fD(a,n,G,h,!1);const Qe=a.outputs;let Et;if(Re&&null!==Qe&&(Et=Qe[c])){const jt=Et.length;if(jt)for(let rn=0;rn<jt;rn+=2){const pi=n[Et[rn]][Et[rn+1]].subscribe(h),Is=X.length;X.push(h,pi),k&&k.push(c,a.index,Is,-(Is+1))}}}(h,c,c[E],m,t,n,a),zI}function hD(t,n,o,a){try{return eo(6,n,o),!1!==o(a)}catch(c){return Dd(t,c),!1}finally{eo(7,n,o)}}function fD(t,n,o,a,c){return function h(m){if(m===Function)return a;Mu(t.componentOffset>-1?wi(t.index,n):n);let D=hD(n,o,a,m),k=h.__ngNextListenerFn__;for(;k;)D=hD(n,o,k,m)&&D,k=k.__ngNextListenerFn__;return c&&!1===D&&m.preventDefault(),D}}function pD(t=1){return function vi(t){return(_t.lFrame.contextLView=function ku(t,n){for(;t>0;)n=n[ie],t--;return n}(t,_t.lFrame.contextLView))[L]}(t)}function DA(t,n){let o=null;const a=function Uo(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?ds(t,h,!0):Ka(a,h))return c}else o=c}return o}function gD(t){const n=ft()[at][yi];if(!n.projection){const a=n.projection=ya(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const m=t?DA(h,t):0;null!==m&&(c[m]?c[m].projectionNext=h:a[m]=h,c[m]=h),h=h.next}}}function mD(t,n=0,o){const a=ft(),c=Sr(),h=hc(c,Fn+t,16,null,o||null);null===h.projection&&(h.projection=n),fn(),(!a[Do]||ma())&&32!=(32&h.flags)&&function e0(t,n,o){Gg(n[E],0,n,o,sp(t,o,n),nc(o.parent||n[yi],o,n))}(c,a,h)}function kD(t,n=""){const o=ft(),a=Sr(),c=t+Fn,h=a.firstCreatePass?hc(a,c,1,n,null):a.data[c],m=FD(a,o,h,n,t);o[c]=m,Ss()&&Rh(a,o,m,h),rs(h,!1)}let FD=(t,n,o,a,c)=>(ea(!0),function wh(t,n){return t.createText(n)}(n[E],a));function WI(t){return qI("",t,""),WI}function qI(t,n,o){const a=ft(),c=function xd(t,n,o,a){return wo(t,No(),o)?n+In(o)+a:Ir}(a,t,n,o);return c!==Ir&&function yl(t,n,o){const a=Sl(n,t);!function np(t,n,o){t.setValue(n,o)}(t[E],a,o)}(a,dr(),c),qI}function YI(t,n,o,a,c){if(t=Gt(t),Array.isArray(t))for(let h=0;h<t.length;h++)YI(t[h],n,o,a,c);else{const h=Sr(),m=ft(),y=cn();let D=Ua(t)?t:Gt(t.provide);const k=lh(t),G=1048575&y.providerIndexes,X=y.directiveStart,Re=y.providerIndexes>>20;if(Ua(t)||!t.multi){const Qe=new Lu(k,c,_d),Et=ZI(D,n,c?G:G+Re,X);-1===Et?(Wo(go(y,m),h,D),KI(h,t,n.length),n.push(D),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),o.push(Qe),m.push(Qe)):(o[Et]=Qe,m[Et]=Qe)}else{const Qe=ZI(D,n,G+Re,X),Et=ZI(D,n,G,G+Re),rn=Et>=0&&o[Et];if(c&&!rn||!c&&!(Qe>=0&&o[Qe])){Wo(go(y,m),h,D);const Dn=function $A(t,n,o,a,c){const h=new Lu(t,o,_d);return h.multi=[],h.index=n,h.componentProviders=0,GD(h,c,a&&!o),h}(c?BA:VA,o.length,c,a,k);!c&&rn&&(o[Et].providerFactory=Dn),KI(h,t,n.length,0),n.push(D),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),o.push(Dn),m.push(Dn)}else KI(h,t,Qe>-1?Qe:Et,GD(o[c?Et:Qe],k,!c&&a));!c&&a&&rn&&o[Et].componentProviders++}}}function KI(t,n,o,a){const c=Ua(n),h=function Hf(t){return!!t.useClass}(n);if(c||h){const D=(h?Gt(n.useClass):n).prototype.ngOnDestroy;if(D){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const G=k.indexOf(o);-1===G?k.push(o,[a,D]):k[G+1].push(a,D)}else k.push(o,D)}}}function GD(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function ZI(t,n,o,a){for(let c=o;c<a;c++)if(n[c]===t)return c;return-1}function VA(t,n,o,a){return QI(this.multi,[])}function BA(t,n,o,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Hs(o,o[en],this.providerFactory.index,a);h=y.slice(0,m),QI(c,h);for(let D=m;D<y.length;D++)h.push(y[D])}else h=[],QI(c,h);return h}function QI(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function WD(t,n=[]){return o=>{o.providersResolver=(a,c)=>function LA(t,n,o){const a=Sr();if(a.firstCreatePass){const c=Ro(t);YI(o,a.data,a.blueprint,c,!0),YI(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class Tf{}class qD{}function UA(t,n){return new XI(t,null!=n?n:null,[])}class XI extends Tf{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rd(this);const c=Oi(n);this._bootstrapComponents=$(c.bootstrap),this._r3Injector=ch(n,o,[{provide:Tf,useValue:this},{provide:zh,useValue:this.componentFactoryResolver},...a],_n(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class JI extends qD{constructor(n){super(),this.moduleType=n}create(n){return new XI(this.moduleType,n,[])}}class YD extends Tf{constructor(n){super(),this.componentFactoryResolver=new Rd(this),this.instance=null;const o=new as([...n.providers,{provide:Tf,useValue:this},{provide:zh,useValue:this.componentFactoryResolver}],n.parent||Kc(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function KD(t,n,o=null){return new YD({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let HA=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=jl(0,a.type),h=c.length>0?KD([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=nt({token:t,providedIn:"environment",factory:()=>new t(ne(oa))}),n})();function ZD(t){fc("NgStandalone"),t.getStandaloneInjector=n=>n.get(HA).getOrCreateStandaloneInjector(t)}function iC(t,n,o,a,c,h){const m=n+o;return wo(t,m,c)?function Ya(t,n,o){return t[n]=o}(t,m+1,h?a.call(h,c):a(c)):function v_(t,n){const o=t[n];return o===Ir?void 0:o}(t,m+1)}function uC(t,n){const o=Sr();let a;const c=t+Fn;var h;o.firstCreatePass?(a=function cS(t,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(t===a.name)return a}}(n,o.pipeRegistry),o.data[c]=a,a.onDestroy&&(null!==(h=o.destroyHooks)&&void 0!==h?h:o.destroyHooks=[]).push(c,a.onDestroy)):a=o.data[c];const m=a.factory||(a.factory=Kn(a.type)),D=jn(_d);try{const k=fu(!1),G=m();return fu(k),function CA(t,n,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=a}(o,ft(),c,G),G}finally{jn(D)}}function cC(t,n,o){const a=t+Fn,c=ft(),h=function Vr(t,n){return t[n]}(c,a);return function y_(t,n){return t[en].data[n].pure}(c,a)?iC(c,function Oo(){const t=_t.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,h.transform,o,h):h.transform(o)}function gS(){return this._results[Symbol.iterator]()}class tE{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new qs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=tE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=gS)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const a=function gs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Uu(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(this._results,a,o))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let I_=(()=>{class n{}return n.__NG_ELEMENT_ID__=vS,n})();const mS=I_,_S=class extends mS{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const c=function Xo(t,n,o,a){var c,h;const m=n.tView,k=vd(t,m,o,4096&t[Un]?4096:16,null,n,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.dehydratedView)&&void 0!==h?h:null);k[Vt]=t[n.index];const X=t[ir];return null!==X&&(k[ir]=X.createEmbeddedView(m)),Kp(m,k,o),k}(this._declarationLView,this._declarationTContainer,n,{injector:o,dehydratedView:a});return new wd(c)}};function vS(){return Oy(cn(),ft())}function Oy(t,n){return 4&t.type?new _S(n,t,Su(t,n)):null}class nE{constructor(n){this.queryList=n,this.matches=null}clone(){return new nE(this.queryList)}setDirty(){this.queryList.setDirty()}}class rE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new rE(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==yC(n,o).matches&&this.queries[o].setDirty()}}class dC{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class iE{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new iE(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class oE{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new oE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,o,yS(o,h)),this.matchTNodeWithReadOption(n,o,js(o,n,h,!1,!1))}else a===I_?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,js(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===cc||c===yy||c===I_&&4&o.type)this.addMatch(o.index,-2);else{const h=js(o,n,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function yS(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function ES(t,n,o,a){return-1===o?function IS(t,n){return 11&t.type?Su(t,n):4&t.type?Oy(t,n):null}(n,t):-2===o?function TS(t,n,o){return o===cc?Su(n,t):o===I_?Oy(n,t):o===yy?rT(n,t):void 0}(t,n,a):Hs(t,t[en],o,n)}function hC(t,n,o,a){const c=n[ir].queries[a];if(null===c.matches){const h=t.data,m=o.matches,y=[];for(let D=0;D<m.length;D+=2){const k=m[D];y.push(k<0?null:ES(n,h[k],m[D+1],o.metadata.read))}c.matches=y}return c.matches}function sE(t,n,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const m=hC(t,n,c,o);for(let y=0;y<h.length;y+=2){const D=h[y];if(D>0)a.push(m[y/2]);else{const k=h[y+1],G=n[-D];for(let X=ai;X<G.length;X++){const Re=G[X];Re[Vt]===Re[Fr]&&sE(Re[en],Re,k,a)}if(null!==G[Ji]){const X=G[Ji];for(let Re=0;Re<X.length;Re++){const Qe=X[Re];sE(Qe[en],Qe,k,a)}}}}}return a}function fC(t){const n=ft(),o=Sr(),a=M();v(a+1);const c=yC(o,a);if(t.dirty&&function Vs(t){return 4==(4&t[Un])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?sE(o,n,a,[]):hC(o,n,c,a);t.reset(h,hd),t.notifyOnChanges()}return!0}return!1}function pC(t,n,o){const a=Sr();a.firstCreatePass&&(vC(a,new dC(t,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),_C(a,ft(),n)}function gC(t,n,o,a){const c=Sr();if(c.firstCreatePass){const h=cn();vC(c,new dC(n,o,a),h.index),function CS(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}_C(c,ft(),o)}function mC(){return function DS(t,n){return t[ir].queries[n].queryList}(ft(),M())}function _C(t,n,o){const a=new tE(4==(4&o));(function Id(t,n,o,a){const c=Mv(n);c.push(o),t.firstCreatePass&&Bm(t).push(a,c.length-1)})(t,n,a,a.destroy),null===n[ir]&&(n[ir]=new rE),n[ir].queries.push(new nE(a))}function vC(t,n,o){null===t.queries&&(t.queries=new iE),t.queries.track(new oE(n,o))}function yC(t,n){return t.queries.getByIndex(n)}class kC{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const qS=new kC("17.0.8");let FC=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();class YS{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let KS=(()=>{var t;class n{compileModuleSync(a){return new JI(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=$(Oi(a).declarations).reduce((y,D)=>{const k=ur(D);return k&&y.push(new Md(k)),y},[]);return new YS(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),dE=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lt.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const UC=new Ze(""),jC=new Ze("");let fE,IR=(()=>{var t;class n{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fE||(function ER(t){fE=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(ne(Vo),ne(HC),ne(jC))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),n})(),HC=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,m;return null!==(h=null===(m=fE)||void 0===m?void 0:m.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const zC=new Ze("Application Initializer");let pE=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=oe(zC,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const m=h();if(HI(m))a.push(m);else if(uD(m)){const y=new Promise((D,k)=>{m.subscribe({complete:D,error:k})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const gE=new Ze("appBootstrapListener");function qC(t,n){return Array.isArray(n)?n.reduce(qC,t):{...t,...n}}let mg=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(Sp),this.componentTypes=[],this.components=[],this.isStable=oe(dE).hasPendingTasks.pipe((0,bt.U)(a=>!a)),this._injector=oe(oa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Ep;if(!this._injector.get(pE).done)throw!h&&Ei(a),new Wt(405,!1);let y;y=h?a:this._injector.get(zh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const D=function DR(t){return t.isBoundToModule}(y)?void 0:this._injector.get(Tf),G=y.create(_o.NULL,[],c||y.selector,D),X=G.location.nativeElement,Re=G.injector.get(UC,null);return null==Re||Re.registerApplication(X),G.onDestroy(()=>{this.detachView(G.hostView),Fy(this.components,G),null==Re||Re.unregisterApplication(X)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Wt(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Fy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(gE,[]);[...this._bootstrapListeners,...c].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Fy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Wt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Fy(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}let wR=(()=>{var t;class n{constructor(){this.zone=oe(Vo),this.applicationRef=oe(mg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function bR(){const t=oe(Vo),n=oe(Ru);return o=>t.runOutsideAngular(()=>n.handleError(o))}let SR=(()=>{var t;class n{constructor(){this.subscription=new ht.w0,this.initialized=!1,this.zone=oe(Vo),this.pendingTasks=oe(dE)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;Vo.assertInAngularZone(),null!==(c=a)&&void 0!==c||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Ly=new Ze("LocaleId",{providedIn:"root",factory:()=>oe(Ly,zn.Optional|zn.SkipSelf)||function RR(){return typeof $localize<"u"&&$localize.locale||fg}()}),MR=new Ze("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),mE=new Ze("PlatformDestroyListeners");let QC=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function Wp(t="zone.js",n){return"noop"===t?new W0:"zone.js"===t?new Vo(n):t}(null==c?void 0:c.ngZone,function ZC(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const m=function jA(t,n,o){return new XI(t,n,o)}(a.moduleType,this.injector,function KC(t){return[{provide:Vo,useFactory:t},{provide:Ia,multi:!0,useFactory:()=>{const n=oe(wR,{optional:!0});return()=>n.initialize()}},{provide:Ia,multi:!0,useFactory:()=>{const n=oe(SR);return()=>{n.initialize()}}},{provide:Sp,useFactory:bR}]}(()=>h)),y=m.injector.get(Ru,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:k=>{y.handleError(k)}});m.onDestroy(()=>{Fy(this._modules,m),D.unsubscribe()})}),function WC(t,n,o){try{const a=o();return HI(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(y,h,()=>{const D=m.injector.get(pE);return D.runInitializers(),D.donePromise.then(()=>(function BT(t){nn(t,"Expected localeId to be defined"),"string"==typeof t&&(VT=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Ly,fg)||fg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,c=[]){const h=qC({},c);return function TR(t,n,o){const a=new JI(o);return Promise.resolve(a)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const c=a.injector.get(mg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Wt(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Wt(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(mE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(ne(_o))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),jd=null;const XC=new Ze("AllowMultipleToken");function JC(t,n,o=[]){const a=`Platform: ${n}`,c=new Ze(a);return(h=[])=>{let m=_E();if(!m||m.injector.get(XC,!1)){const y=[...o,...h,{provide:c,useValue:!0}];t?t(y):function xR(t){if(jd&&!jd.get(XC,!1))throw new Wt(400,!1);(function GC(){!function Pn(t){St=t}(()=>{throw new Wt(600,!1)})})(),jd=t;const n=t.get(QC);(function tw(t){const n=t.get(ed,null);null==n||n.forEach(o=>o())})(t)}(function ew(t=[],n){return _o.create({name:n,providers:[{provide:qc,useValue:"platform"},{provide:mE,useValue:new Set([()=>jd=null])},...t]})}(y,a))}return function OR(t){const n=_E();if(!n)throw new Wt(401,!1);return n}()}}function _E(){var t,n;return null!==(t=null===(n=jd)||void 0===n?void 0:n.get(QC))&&void 0!==t?t:null}function kR(){return!1}function FR(){}const UR=JC(null,"core",[]);let jR=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(ne(mg))},t.\u0275mod=jr({type:t}),t.\u0275inj=Jt({}),n})();function fM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function gM(t,n){const o=ur(t),a=n.elementInjector||Kc();return new Md(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function mM(t){const n=ur(t);if(!n)return null;const o=new Md(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9949:(Qt,it,O)=>{"use strict";O.d(it,{zQ:()=>Ke,ww:()=>Xe,rT:()=>Pe,f7:()=>be,L6:()=>Pn,_Q:()=>ot,lh:()=>le,Qv:()=>Xt,nw:()=>Te});var u=O(1180),K=(O(6230),O(6814)),ae=O(9212),Oe=O(8326),de=O(7217),Ie=O(8645),qe=O(2096),Ge=O(5592),Ce=O(2459),fe=O(7537),Ne=O(4829),$e=O(6232),Ve=O(4564),st=O(3093),Le=O(4664),je=O(7398),Ye=O(4552);class gt extends Ie.x{constructor(At=1/0,Pt=1/0,dt=Ye.l){super(),this._bufferSize=At,this._windowTime=Pt,this._timestampProvider=dt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pt===1/0,this._bufferSize=Math.max(1,At),this._windowTime=Math.max(1,Pt)}next(At){const{isStopped:Pt,_buffer:dt,_infiniteTimeWindow:Ht,_timestampProvider:dn,_windowTime:vt}=this;Pt||(dt.push(At),!Ht&&dt.push(dn.now()+vt)),this._trimBuffer(),super.next(At)}_subscribe(At){this._throwIfClosed(),this._trimBuffer();const Pt=this._innerSubscribe(At),{_infiniteTimeWindow:dt,_buffer:Ht}=this,dn=Ht.slice();for(let vt=0;vt<dn.length&&!At.closed;vt+=dt?1:2)At.next(dn[vt]);return this._checkFinalizedStatuses(At),Pt}_trimBuffer(){const{_bufferSize:At,_timestampProvider:Pt,_buffer:dt,_infiniteTimeWindow:Ht}=this,dn=(Ht?1:2)*At;if(At<1/0&&dn<dt.length&&dt.splice(0,dt.length-dn),!Ht){const vt=Pt.now();let ht=0;for(let lt=1;lt<dt.length&&dt[lt]<=vt;lt+=2)ht=lt;ht&&dt.splice(0,ht+1)}}}var he=O(305),Be=O(9360);function Ee(Tt,At,...Pt){if(!0===At)return void Tt();if(!1===At)return;const dt=new he.Hp({next:()=>{dt.unsubscribe(),Tt()}});return(0,Ne.Xf)(At(...Pt)).subscribe(dt)}function re(Tt,At,Pt){let dt,Ht=!1;return Tt&&"object"==typeof Tt?({bufferSize:dt=1/0,windowTime:At=1/0,refCount:Ht=!1,scheduler:Pt}=Tt):dt=null!=Tt?Tt:1/0,function Fe(Tt={}){const{connector:At=(()=>new Ie.x),resetOnError:Pt=!0,resetOnComplete:dt=!0,resetOnRefCountZero:Ht=!0}=Tt;return dn=>{let vt,ht,lt,bt=0,zt=!1,En=!1;const _n=()=>{null==ht||ht.unsubscribe(),ht=void 0},an=()=>{_n(),vt=lt=void 0,zt=En=!1},Nn=()=>{const Tn=vt;an(),null==Tn||Tn.unsubscribe()};return(0,Be.e)((Tn,Zn)=>{bt++,!En&&!zt&&_n();const Gt=lt=null!=lt?lt:At();Zn.add(()=>{bt--,0===bt&&!En&&!zt&&(ht=Ee(Nn,Ht))}),Gt.subscribe(Zn),!vt&&bt>0&&(vt=new he.Hp({next:Cn=>Gt.next(Cn),error:Cn=>{En=!0,_n(),ht=Ee(an,Pt,Cn),Gt.error(Cn)},complete:()=>{zt=!0,_n(),ht=Ee(an,dt),Gt.complete()}}),(0,Ne.Xf)(Tn).subscribe(vt))})(dn)}}({connector:()=>new gt(dt,At,Pt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ht})}var _e=O(1374),q=O(4674);function ee(Tt,At){return(0,q.m)(At)?(0,Le.w)(()=>Tt,At):(0,Le.w)(()=>Tt)}var ze=O(5137),Me=O(2181),Je=O(7142);const Xt=new ae.OlP("angularfire2.auth.use-emulator"),Pn=new ae.OlP("angularfire2.auth.settings"),ot=new ae.OlP("angularfire2.auth.tenant-id"),Pe=new ae.OlP("angularfire2.auth.langugage-code"),le=new ae.OlP("angularfire2.auth.use-device-language"),be=new ae.OlP("angularfire.auth.persistence"),Te=(Tt,At,Pt,dt,Ht,dn,vt,ht)=>(0,de.cc)(`${Tt.name}.auth`,"AngularFireAuth",Tt.name,()=>{const lt=At.runOutsideAngular(()=>Tt.auth());if(Pt&&lt.useEmulator(...Pt),dt&&(lt.tenantId=dt),lt.languageCode=Ht,dn&&lt.useDeviceLanguage(),vt)for(const[bt,zt]of Object.entries(vt))lt.settings[bt]=zt;return ht&&lt.setPersistence(ht),lt},[Pt,dt,Ht,dn,vt,ht]);let Ke=(()=>{var Tt;class At{constructor(dt,Ht,dn,vt,ht,lt,bt,zt,En,_n,an,Nn){(0,u.Z)(this,"authState",void 0),(0,u.Z)(this,"idToken",void 0),(0,u.Z)(this,"user",void 0),(0,u.Z)(this,"idTokenResult",void 0),(0,u.Z)(this,"credential",void 0);const Tn=new Ie.x,Zn=(0,qe.of)(void 0).pipe((0,st.Q)(ht.outsideAngular),(0,Le.w)(()=>vt.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,6230)))),(0,je.U)(()=>(0,de.on)(dt,vt,Ht)),(0,je.U)(Gt=>Te(Gt,vt,lt,zt,En,_n,bt,an)),re({bufferSize:1,refCount:!1}));if((0,K.PM)(dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{Zn.pipe((0,_e.P)()).subscribe();const Gt=Zn.pipe((0,Le.w)(Yn=>Yn.getRedirectResult().then(rr=>rr,()=>null)),Oe.iC,re({bufferSize:1,refCount:!1})),Cn=Zn.pipe((0,Le.w)(Yn=>new Ge.y(rr=>({unsubscribe:vt.runOutsideAngular(()=>Yn.onAuthStateChanged(Wt=>rr.next(Wt),Wt=>rr.error(Wt),()=>rr.complete()))})))),wn=Zn.pipe((0,Le.w)(Yn=>new Ge.y(rr=>({unsubscribe:vt.runOutsideAngular(()=>Yn.onIdTokenChanged(Wt=>rr.next(Wt),Wt=>rr.error(Wt),()=>rr.complete()))}))));this.authState=Gt.pipe(ee(Cn),(0,ze.R)(ht.outsideAngular),(0,st.Q)(ht.insideAngular)),this.user=Gt.pipe(ee(wn),(0,ze.R)(ht.outsideAngular),(0,st.Q)(ht.insideAngular)),this.idToken=this.user.pipe((0,Le.w)(Yn=>Yn?(0,Ce.D)(Yn.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe((0,Le.w)(Yn=>Yn?(0,Ce.D)(Yn.getIdTokenResult()):(0,qe.of)(null))),this.credential=function ke(...Tt){const At=(0,Ve.yG)(Tt),Pt=(0,Ve._6)(Tt,1/0),dt=Tt;return dt.length?1===dt.length?(0,Ne.Xf)(dt[0]):(0,fe.J)(Pt)((0,Ce.D)(dt,At)):$e.E}(Gt,Tn,this.authState.pipe((0,Me.h)(Yn=>!Yn))).pipe((0,je.U)(Yn=>null!=Yn&&Yn.user?Yn:null),(0,ze.R)(ht.outsideAngular),(0,st.Q)(ht.insideAngular))}return(0,de.pX)(this,Zn,vt,{spy:{apply:(Gt,Cn,wn)=>{(Gt.startsWith("signIn")||Gt.startsWith("createUser"))&&wn.then(Yn=>Tn.next(Yn))}}})}}return Tt=At,(0,u.Z)(At,"\u0275fac",function(dt){return new(dt||Tt)(ae.LFG(de.Dh),ae.LFG(de.xv,8),ae.LFG(ae.Lbi),ae.LFG(ae.R0b),ae.LFG(Oe.HU),ae.LFG(Xt,8),ae.LFG(Pn,8),ae.LFG(ot,8),ae.LFG(Pe,8),ae.LFG(le,8),ae.LFG(be,8),ae.LFG(Oe.Rf,8))}),(0,u.Z)(At,"\u0275prov",ae.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"any"})),At})(),Xe=(()=>{var Tt;class At{constructor(){Je.Z.registerVersion("angularfire",Oe.q4.full,"auth-compat")}}return Tt=At,(0,u.Z)(At,"\u0275fac",function(dt){return new(dt||Tt)}),(0,u.Z)(At,"\u0275mod",ae.oAB({type:Tt})),(0,u.Z)(At,"\u0275inj",ae.cJS({providers:[Ke]})),At})()},9027:(Qt,it,O)=>{"use strict";O.d(it,{ST:()=>_y,yb:()=>TI});var u=O(1180),U=O(6814),K=O(9212),ae=O(8326),Oe=O(7217),de=O(9949),Ie=O(6321),qe=O(5592),Ge=O(2459),Ce=O(2096),fe=O(7921),Ne=O(9360),$e=O(8251);function Ve(){return(0,Ne.e)((i,e)=>{let r,s=!1;i.subscribe((0,$e.x)(e,l=>{const d=r;r=l,s&&e.next([d,l]),s=!0}))})}var ee,ke=O(7398),st=O(6699),Le=O(3997),je=O(2181),gt=(O(6230),O(3106)),he=O(5861),Be=O(534),Fe=O(4537),Ee=O(7879),re=O(9058),_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q={},ze=ze||{},Me=_e||self;function Je(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function St(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Pn="closure_uid_"+(1e9*Math.random()>>>0),ot=0;function Pe(i,e,r){return i.call.apply(i.bind,arguments)}function le(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function be(i,e,r){return(be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pe:le).apply(null,arguments)}function Te(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ke(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(s,l,d){for(var g=Array(arguments.length-2),S=2;S<arguments.length;S++)g[S-2]=arguments[S];return e.prototype[l].apply(s,g)}}function Xe(){this.s=this.s,this.o=this.o}Xe.prototype.s=!1,Xe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Xt(i){Object.prototype.hasOwnProperty.call(i,Pn)&&i[Pn]||(i[Pn]=++ot)}(this)},Xe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const At=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function Pt(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function dt(i,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(Je(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let g=0;g<d;g++)i[l+g]=s[g]}else i.push(s)}}function Ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const r=()=>{};Me.addEventListener("test",r,e),Me.removeEventListener("test",r,e)}catch{}return i}();function vt(i){return/^[\s\xa0]*$/.test(i)}function ht(){var i=Me.navigator;return i&&(i=i.userAgent)?i:""}function lt(i){return-1!=ht().indexOf(i)}function bt(i){return bt[" "](i),i}bt[" "]=function(){};var Cn,i,En=lt("Opera"),_n=lt("Trident")||lt("MSIE"),an=lt("Edge"),Nn=an||_n,Tn=lt("Gecko")&&!(-1!=ht().toLowerCase().indexOf("webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),Zn=-1!=ht().toLowerCase().indexOf("webkit")&&!lt("Edge");function Gt(){var i=Me.document;return i?i.documentMode:void 0}e:{var wn="",Yn=(i=ht(),Tn?/rv:([^\);]+)(\)|;)/.exec(i):an?/Edge\/([\d\.]+)/.exec(i):_n?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Zn?/WebKit\/(\S+)/.exec(i):En?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Yn&&(wn=Yn?Yn[1]:""),_n){var rr=Gt();if(null!=rr&&rr>parseFloat(wn)){Cn=String(rr);break e}}Cn=wn}var Mn=Me.document&&_n&&(Gt()||parseInt(Cn,10))||void 0;function Yr(i,e){if(Ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Tn){e:{try{bt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ar[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Yr.$.h.call(this)}}Ke(Yr,Ht);var ar={2:"touch",3:"pen",4:"mouse"};Yr.prototype.h=function(){Yr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var br="closure_listenable_"+(1e6*Math.random()|0),Bn=0;function hr(i,e,r,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=l,this.key=++Bn,this.fa=this.ia=!1}function ni(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function In(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function Kr(i){const e={};for(const r in i)e[r]=i[r];return e}const ei="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zr(i,e){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<ei.length;d++)r=ei[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function li(i){this.src=i,this.g={},this.h=0}function zr(i,e){var r=e.type;if(r in i.g){var d,s=i.g[r],l=At(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(ni(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function ri(i,e,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return l}return-1}li.prototype.add=function(i,e,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=ri(i,e,s,l);return-1<g?(e=i[g],r||(e.ia=!1)):((e=new hr(e,this.src,d,!!s,l)).ia=r,i.push(e)),e};var vr="closure_lm_"+(1e6*Math.random()|0),gi={};function se(i,e,r,s,l){if(s&&s.once)return pe(i,e,r,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)se(i,e[d],r,s,l);return null}return r=fr(r),i&&i[br]?i.O(e,r,St(s)?!!s.capture:!!s,l):W(i,e,r,!1,s,l)}function W(i,e,r,s,l,d){if(!e)throw Error("Invalid event type");var g=St(l)?!!l.capture:!!l,S=kn(i);if(S||(i[vr]=S=new li(i)),(r=S.add(e,r,s,g,d)).proxy)return r;if(s=function ue(){const e=Yt;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)dn||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(wt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function pe(i,e,r,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)pe(i,e[d],r,s,l);return null}return r=fr(r),i&&i[br]?i.P(e,r,St(s)?!!s.capture:!!s,l):W(i,e,r,!0,s,l)}function ge(i,e,r,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)ge(i,e[d],r,s,l);else s=St(s)?!!s.capture:!!s,r=fr(r),i&&i[br]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=ri(d=i.g[e],r,s,l))&&(ni(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=kn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ri(e,r,s,l)),(r=-1<i?e[i]:null)&&ut(r))}function ut(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[br])zr(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(wt(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=kn(e))?(zr(r,i),0==r.h&&(r.src=null,e[vr]=null)):ni(i)}}}function wt(i){return i in gi?gi[i]:gi[i]="on"+i}function Yt(i,e){if(i.fa)i=!0;else{e=new Yr(e,this);var r=i.listener,s=i.la||i.src;i.ia&&ut(i),i=r.call(s,e)}return i}function kn(i){return(i=i[vr])instanceof li?i:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(i){return"function"==typeof i?i:(i[$n]||(i[$n]=function(e){return i.handleEvent(e)}),i[$n])}function nn(){Xe.call(this),this.i=new li(this),this.S=this,this.J=null}function Zt(i,e){var r,s=i.J;if(s)for(r=[];s;s=s.J)r.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ht(e,i);else if(e instanceof Ht)e.target=e.target||i;else{var l=e;Zr(e=new Ht(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var g=e.g=r[d];l=mi(g,s,!0,e)&&l}if(l=mi(g=e.g=i,s,!0,e)&&l,l=mi(g,s,!1,e)&&l,r)for(d=0;d<r.length;d++)l=mi(g=e.g=r[d],s,!1,e)&&l}function mi(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.fa&&g.capture==r){var S=g.listener,R=g.la||g.src;g.ia&&zr(i.i,g),l=!1!==S.call(R,s)&&l}}return l&&!s.defaultPrevented}Ke(nn,Xe),nn.prototype[br]=!0,nn.prototype.removeEventListener=function(i,e,r,s){ge(this,i,e,r,s)},nn.prototype.N=function(){if(nn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)ni(r[s]);delete i.g[e],i.h--}}this.J=null},nn.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},nn.prototype.P=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var kr=Me.JSON.stringify;function Dt(){var i=Xn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var kt=new class Fi{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Jt,i=>i.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function bn(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function Sn(i){Me.setTimeout(()=>{throw i},0)}let Gn,xr=!1,Xn=new class nt{constructor(){this.h=this.g=null}add(e,r){const s=kt.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},pr=()=>{const i=Me.Promise.resolve(void 0);Gn=()=>{i.then(di)}};var di=()=>{for(var i;i=Dt();){try{i.h.call(i.g)}catch(r){Sn(r)}var e=kt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}xr=!1};function Ri(i,e){nn.call(this),this.h=i||1,this.g=e||Me,this.j=be(this.qb,this),this.l=Date.now()}function Dr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function zn(i,e,r){if("function"==typeof i)r&&(i=be(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=be(i.handleEvent,i)}return 2147483647<Number(e)?-1:Me.setTimeout(i,e||0)}function _i(i){i.g=zn(()=>{i.g=null,i.i&&(i.i=!1,_i(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ke(Ri,nn),(ee=Ri.prototype).ga=!1,ee.T=null,ee.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zt(this,"tick"),this.ga&&(Dr(this),this.start()))}},ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.N=function(){Ri.$.N.call(this),Dr(this),delete this.g};class Or extends Xe{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(i){Xe.call(this),this.h=i,this.g={}}Ke(jn,Xe);var gr=[];function we(i,e,r,s){Array.isArray(r)||(r&&(gr[0]=r.toString()),r=gr);for(var l=0;l<r.length;l++){var d=se(e,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function ye(i){In(i.g,function(e,r){this.g.hasOwnProperty(r)&&ut(e)},i),i.g={}}function Y(){this.g=!0}function Mt(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function on(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return kr(r)}catch{return e}}(i,r)+(s?" "+s:"")})}jn.prototype.N=function(){jn.$.N.call(this),ye(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Y.prototype.Ea=function(){this.g=!1},Y.prototype.info=function(){};var un={},Ln=null;function Br(){return Ln=Ln||new nn}function B(i){Ht.call(this,un.Ta,i)}function Z(i){const e=Br();Zt(e,new B(e))}function xe(i,e){Ht.call(this,un.STAT_EVENT,i),this.stat=e}function He(i){const e=Br();Zt(e,new xe(e,i))}function mt(i,e){Ht.call(this,un.Ua,i),this.size=e}function rt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){i()},e)}un.Ta="serverreachability",Ke(B,Ht),un.STAT_EVENT="statevent",Ke(xe,Ht),un.Ua="timingevent",Ke(mt,Ht);var xt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ft={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $t(){}function Kt(){}$t.prototype.h=null;var Cr,vn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mn(){Ht.call(this,"d")}function Jn(){Ht.call(this,"c")}function C(){}function ne(i,e,r,s){this.l=i,this.j=e,this.m=r,this.W=s||1,this.U=new jn(this),this.P=oe,this.V=new Ri(i=Nn?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new P}function P(){this.i=null,this.g="",this.h=!1}Ke(mn,Ht),Ke(Jn,Ht),Ke(C,$t),C.prototype.g=function(){return new XMLHttpRequest},C.prototype.i=function(){return{}},Cr=new C;var oe=45e3,et={},Wn={};function ii(i,e,r){i.L=1,i.A=ds(uo(e)),i.u=r,i.S=!0,Qr(i,null)}function Qr(i,e){i.G=Date.now(),io(i),i.B=uo(i.A);var r=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),Pi(r.i,"t",s),i.o=0,r=i.l.J,i.h=new P,i.g=au(i.l,r?e:null,!i.u),0<i.O&&(i.M=new Or(be(i.Pa,i,i.g),i.O)),we(i.U,i.g,"readystatechange",i.nb),e=i.I?Kr(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),Z(),function De(i,e,r,s,l,d){i.info(function(){if(i.g)if(d)for(var g="",S=d.split("&"),R=0;R<S.length;R++){var H=S[R].split("=");if(1<H.length){var te=H[0];H=H[1];var Ae=te.split("_");g=2<=Ae.length&&"type"==Ae[1]?g+(te+"=")+H+"&":g+(te+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+r+"\n"+g})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Io(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function bo(i,e,r){let l,s=!0;for(;!i.J&&i.o<r.length;){if(l=Eo(i,r),l==Wn){4==e&&(i.s=4,He(14),s=!1),Mt(i.j,i.m,null,"[Incomplete Response]");break}if(l==et){i.s=4,He(15),Mt(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}Mt(i.j,i.m,l,null),lo(i,l)}Io(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=r.length||i.h.h||(i.s=1,He(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Ma(e),e.M=!0,He(11))):(Mt(i.j,i.m,r,"[Invalid Chunked Response]"),so(i),lr(i))}function Eo(i,e){var r=i.o,s=e.indexOf("\n",r);return-1==s?Wn:(r=Number(e.substring(r,s)),isNaN(r)?et:(s+=1)+r>e.length?Wn:(e=e.slice(s,s+r),i.o=s+r,e))}function io(i){i.Y=Date.now()+i.P,oo(i,i.P)}function oo(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=rt(be(i.lb,i),e)}function Mi(i){i.C&&(Me.clearTimeout(i.C),i.C=null)}function lr(i){0==i.l.H||i.J||pa(i.l,i)}function so(i){Mi(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Dr(i.V),ye(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function lo(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||Ho(r.i,i)))if(!i.K&&Ho(r.i,i)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;fa(r),Ji(r)}Ro(r),He(18)}}else r.Fa=l[1],0<r.Fa-r.V&&37500>l[2]&&r.G&&0==r.A&&!r.v&&(r.v=rt(be(r.ib,r),6e3));if(1>=Oi(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Fs(r,11)}else if((i.K||r.g==i)&&fa(r),!vt(e))for(l=r.Ja.g.parse(e),e=0;e<l.length;e++){let H=l[e];if(r.V=H[0],H=H[1],2==r.H)if("c"==H[0]){r.K=H[1],r.pa=H[2];const te=H[3];null!=te&&(r.ra=te,r.l.info("VER="+r.ra));const Ae=H[4];null!=Ae&&(r.Ga=Ae,r.l.info("SVER="+r.Ga));const tt=H[5];null!=tt&&"number"==typeof tt&&0<tt&&(r.L=s=1.5*tt,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const It=i.g;if(It){const sn=It.g?It.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sn){var d=s.i;d.g||-1==sn.indexOf("spdy")&&-1==sn.indexOf("quic")&&-1==sn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(zo(d,d.h),d.h=null))}if(s.F){const gn=It.g?It.g.getResponseHeader("X-HTTP-Session-Id"):null;gn&&(s.Da=gn,oi(s.I,s.F,gn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var g=i;if((s=r).wa=Cc(s,s.J?s.pa:null,s.Y),g.K){ko(s.i,g);var S=g,R=s.L;R&&S.setTimeout(R),S.C&&(Mi(S),io(S)),s.g=g}else Za(s);0<r.j.length&&Gi(r)}else"stop"!=H[0]&&"close"!=H[0]||Fs(r,7);else 3==r.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Fs(r,7):fo(r):"noop"!=H[0]&&r.h&&r.h.Aa(H),r.A=0)}Z()}catch{}}function To(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Je(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function Ts(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Je(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const s in i)e[r++]=s;return e}}}(i),s=function Es(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Je(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],r&&r[d],i)}(ee=ne.prototype).setTimeout=function(i){this.P=i},ee.nb=function(i){i=i.target;const e=this.M;e&&3==or(i)?e.l():this.Pa(i)},ee.Pa=function(i){try{if(i==this.g)e:{const te=or(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Nn||this.g&&(this.h.h||this.g.ja()||fi(this.g)))){this.J||4!=te||7==e||Z(),Mi(this);var r=this.g.da();this.ca=r;t:if(Io(this)){var s=fi(this.g);i="";var l=s.length,d=4==or(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){so(this),lr(this);var g="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.length=0,this.h.g+=i,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=200==r,function Ze(i,e,r,s,l,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+d+" "+g})}(this.j,this.v,this.B,this.m,this.W,te,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,R=this.g;if((S=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(S)){var H=S;break t}}H=null}if(!(r=H)){this.i=!1,this.s=3,He(12),so(this),lr(this);break e}Mt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,r)}this.S?(bo(this,te,g),Nn&&this.i&&3==te&&(we(this.U,this.V,"tick",this.mb),this.V.start())):(Mt(this.j,this.m,g,null),lo(this,g)),4==te&&so(this),this.i&&!this.J&&(4==te?pa(this.l,this):(this.i=!1,io(this)))}else(function Hr(i){const e={};i=(i.g&&2<=or(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(vt(i[s]))continue;var r=bn(i[s]);const l=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[l]||[];e[l]=d,d.push(r)}!function Hn(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<g.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),so(this),lr(this)}}}catch{}},ee.mb=function(){if(this.g){var i=or(this.g),e=this.g.ja();this.o<e.length&&(Mi(this),bo(this,i,e),this.i&&4!=i&&io(this))}},ee.cancel=function(){this.J=!0,so(this)},ee.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function tn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Z(),He(17)),so(this),this.s=2,lr(this)):oo(this,this.Y-i)};var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof $o){this.h=i.h,Zi(this,i.j),this.s=i.s,this.g=i.g,Ds(this,i.m),this.l=i.l;var e=i.i,r=new co;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),zi(this,r),this.o=i.o}else i&&(e=String(i).match(es))?(this.h=!1,Zi(this,e[1]||"",!0),this.s=Uo(e[2]||""),this.g=Uo(e[3]||"",!0),Ds(this,e[4]),this.l=Uo(e[5]||"",!0),zi(this,e[6]||"",!0),this.o=Uo(e[7]||"")):(this.h=!1,this.i=new co(null,this.h))}function uo(i){return new $o(i)}function Zi(i,e,r){i.j=r?Uo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ds(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function zi(i,e,r){e instanceof co?(i.i=e,function ks(i,e){e&&!i.j&&(So(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(ts(this,s),Pi(this,l,r))},i)),i.j=e}(i.i,i.h)):(r||(e=jo(e,Ns)),i.i=new co(e,i.h))}function oi(i,e,r){i.i.set(e,r)}function ds(i){return oi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Uo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function jo(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,Ra),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ra(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$o.prototype.toString=function(){var i=[],e=this.j;e&&i.push(jo(e,Ka,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(jo(e,Ka,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(jo(r,"/"==r.charAt(0)?Os:Ao,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",jo(r,wl)),i.join("")};var Ka=/[#\/\?@]/g,Ao=/[#\?:]/g,Os=/[#\?]/g,Ns=/[#\?@]/g,wl=/#/g;function co(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function So(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ki(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function ts(i,e){So(i),e=Li(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function jr(i,e){return So(i),e=Li(i,e),i.g.has(e)}function Pi(i,e,r){ts(i,e),0<r.length&&(i.i=null,i.g.set(Li(i,e),Pt(r)),i.h+=r.length)}function Li(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(ee=co.prototype).add=function(i,e){So(this),this.i=null,i=Li(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ee.forEach=function(i,e){So(this),this.g.forEach(function(r,s){r.forEach(function(l){i.call(e,l,s,this)},this)},this)},ee.ta=function(){So(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)r.push(e[s])}return r},ee.Z=function(i){So(this);let e=[];if("string"==typeof i)jr(this,i)&&(e=e.concat(this.g.get(Li(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},ee.set=function(i,e){return So(this),this.i=null,jr(this,i=Li(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ee.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var l=d;""!==g[s]&&(l+="="+encodeURIComponent(String(g[s]))),i.push(l)}}return this.i=i.join("&")};var ur=class{constructor(i,e){this.g=i,this.map=e}};function hi(i){this.l=i||xi,i=Me.PerformanceNavigationTiming?0<(i=Me.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Me.g&&Me.g.Ka&&Me.g.Ka()&&Me.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xi=10;function Ei(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Oi(i){return i.h?1:i.g?i.g.size:0}function Ho(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function zo(i,e){i.g?i.g.add(e):i.h=e}function ko(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function hs(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return Pt(i.i)}hi.prototype.cancel=function(){if(this.i=hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ho=class{stringify(i){return Me.JSON.stringify(i,void 0)}parse(i){return Me.JSON.parse(i,void 0)}};function Gr(){this.g=new ho}function en(i,e,r){const s=r||"";try{To(i,function(l,d){let g=l;St(l)&&(g=kr(l)),e.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Fr(i,e,r,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function Qi(i){this.l=i.ec||null,this.j=i.ob||!1}function yi(i,e){nn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Do,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(Qi,$t),Qi.prototype.g=function(){return new yi(this.l,this.j)},Qi.prototype.i=function(i){return function(){return i}}({}),Ke(yi,nn);var Do=0;function z(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function L(i){i.readyState=4,i.l=null,i.j=null,i.A=null,me(i)}function me(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ee=yi.prototype).open=function(i,e){if(this.readyState!=Do)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,me(this)},ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,L(this)),this.readyState=Do},ee.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,me(this)),this.g&&(this.readyState=3,me(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ee.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?L(this):me(this),3==this.readyState&&z(this)}},ee.Za=function(i){this.g&&(this.response=this.responseText=i,L(this))},ee.Ya=function(i){this.g&&(this.response=i,L(this))},ee.ka=function(){this.g&&L(this)},ee.setRequestHeader=function(i,e){this.v.append(i,e)},ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var b=Me.JSON.parse;function E(i){nn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=j,this.L=this.M=!1}Ke(E,nn);var j="",x=/^https?$/i,ie=["POST","PUT"];function Vt(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,An(i),wr(i)}function An(i){i.F||(i.F=!0,Zt(i,"complete"),Zt(i,"error"))}function ir(i){if(i.h&&typeof ze<"u"&&(!i.C[1]||4!=or(i)||2!=i.da()))if(i.v&&4==or(i))zn(i.La,0,i);else if(Zt(i,"readystatechange"),4==or(i)){i.h=!1;try{const g=i.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===g){var l=String(i.I).match(es)[1]||null;!l&&Me.self&&Me.self.location&&(l=Me.self.location.protocol.slice(0,-1)),s=!x.test(l?l.toLowerCase():"")}r=s}if(r)Zt(i,"complete"),Zt(i,"success");else{i.m=6;try{var d=2<or(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",An(i)}}finally{wr(i)}}}function wr(i,e){if(i.g){Ar(i);const r=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Zt(i,"ready");try{r.onreadystatechange=s}catch{}}}function Ar(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Me.clearTimeout(i.A),i.A=null)}function or(i){return i.g?i.g.readyState:0}function fi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case j:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Fn(i){let e="";return In(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function Xi(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=Fn(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):oi(i,e,r))}function Lr(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Wr(i){this.Ga=0,this.j=[],this.l=new Y,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lr("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lr("baseRetryDelayMs",5e3,i),this.hb=Lr("retryDelaySeedMs",1e4,i),this.eb=Lr("forwardChannelMaxRetries",2,i),this.xa=Lr("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new hi(i&&i.concurrentRequestLimit),this.Ja=new Gr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fo(i){if(ai(i),3==i.H){var e=i.W++,r=uo(i.I);if(oi(r,"SID",i.K),oi(r,"RID",e),oi(r,"TYPE","terminate"),ha(i,r),(e=new ne(i,i.l,e)).L=2,e.A=ds(uo(r)),r=!1,Me.navigator&&Me.navigator.sendBeacon)try{r=Me.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&Me.Image&&((new Image).src=e.A,r=!0),r||(e.g=au(e.l,null),e.g.ha(e.A)),e.G=Date.now(),io(e)}Al(i)}function Ji(i){i.g&&(Ma(i),i.g.cancel(),i.g=null)}function ai(i){Ji(i),i.u&&(Me.clearTimeout(i.u),i.u=null),fa(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Me.clearTimeout(i.m),i.m=null)}function Gi(i){if(!Ei(i.i)&&!i.m){i.m=!0;var e=i.Na;Gn||pr(),xr||(Gn(),xr=!0),Xn.add(e,i),i.C=0}}function Ti(i,e){var r;r=e?e.m:i.W++;const s=uo(i.I);oi(s,"SID",i.K),oi(s,"RID",r),oi(s,"AID",i.V),ha(i,s),i.o&&i.s&&Xi(s,i.o,i.s),r=new ne(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=fs(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),zo(i.i,r),ii(r,s,e)}function ha(i,e){i.na&&In(i.na,function(r,s){oi(e,s,r)}),i.h&&To({},function(r,s){oi(e,s,r)})}function fs(i,e,r){r=Math.min(i.j.length,r);var s=i.h?be(i.h.Va,i.h,i):null;e:{var l=i.j;let d=-1;for(;;){const g=["count="+r];-1==d?0<r?(d=l[0].g,g.push("ofs="+d)):d=0:g.push("ofs="+d);let S=!0;for(let R=0;R<r;R++){let H=l[R].g;const te=l[R].map;if(H-=d,0>H)d=Math.max(0,l[R].g-100),S=!1;else try{en(te,g,"req"+H+"_")}catch{s&&s(te)}}if(S){s=g.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,s}function Za(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Gn||pr(),xr||(Gn(),xr=!0),Xn.add(e,i),i.A=0}}function Ro(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=rt(be(i.Ma,i),bl(i,i.A)),i.A++,0))}function Ma(i){null!=i.B&&(Me.clearTimeout(i.B),i.B=null)}function Qa(i){i.g=new ne(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=uo(i.wa);oi(e,"RID","rpc"),oi(e,"SID",i.K),oi(e,"AID",i.V),oi(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&oi(e,"TO",i.qa),oi(e,"TYPE","xmlhttp"),ha(i,e),i.o&&i.s&&Xi(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.A=ds(uo(e)),r.u=null,r.S=!0,Qr(r,i)}function fa(i){null!=i.v&&(Me.clearTimeout(i.v),i.v=null)}function pa(i,e){var r=null;if(i.g==e){fa(i),Ma(i),i.g=null;var s=2}else{if(!Ho(i.i,e))return;r=e.F,ko(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;Zt(s=Br(),new mt(s,r)),Gi(i)}else Za(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function Vi(i,e){return!(Oi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=rt(be(i.Na,i,e),bl(i,i.C)),i.C++,0)))}(i,e)||2==s&&Ro(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:Fs(i,5);break;case 4:Fs(i,10);break;case 3:Fs(i,6);break;default:Fs(i,2)}}function bl(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function Fs(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var s=be(i.pb,i);r||(r=new $o("//www.google.com/images/cleardot.gif"),Me.location&&"http"==Me.location.protocol||Zi(r,"https"),ds(r)),function Un(i,e){const r=new Y;if(Me.Image){const s=new Image;s.onload=Te(Fr,r,s,"TestLoadImage: loaded",!0,e),s.onerror=Te(Fr,r,s,"TestLoadImage: error",!1,e),s.onabort=Te(Fr,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=Te(Fr,r,s,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else He(2);i.H=0,i.h&&i.h.za(e),Al(i),ai(i)}function Al(i){if(i.H=0,i.ma=[],i.h){const e=hs(i.i);(0!=e.length||0!=i.j.length)&&(dt(i.ma,e),dt(i.ma,i.j),i.i.i.length=0,Pt(i.j),i.j.length=0),i.h.ya()}}function Cc(i,e,r){var s=r instanceof $o?uo(r):new $o(r);if(""!=s.g)e&&(s.g=e+"."+s.g),Ds(s,s.m);else{var l=Me.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new $o(null);s&&Zi(d,s),e&&(d.g=e),l&&Ds(d,l),r&&(d.l=r),s=d}return e=i.Da,(r=i.F)&&e&&oi(s,r,e),oi(s,"VER",i.ra),ha(i,s),s}function au(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new E(i.Ha&&!i.va?new Qi({ob:r}):i.va)).Oa(i.J),e}function wc(){}function lu(){if(_n&&!(10<=Number(Mn)))throw Error("Environmental error: no available transport.")}function Mo(i,e){nn.call(this),this.g=new Wr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!vt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Xa(this)}function Hd(i){mn.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function uu(){Jn.call(this),this.status=1}function Xa(i){this.g=i}function Cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function w(i,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(l=0;16>l;++l)s[l]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=i.g[3],g=(e=i.g[0])+(d^(r=i.g[1])&((l=i.g[2])^d))+s[0]+3614090360&4294967295;g=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=r+(g<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(l^d&(r^l))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(r^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(l^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((d=(e=r+((g=e+(l^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((l=d+((g=l+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(g<<21&4294967295|g>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+d&4294967295}function V(i,e){this.h=e;for(var r=[],s=!0,l=i.length-1;0<=l;l--){var d=0|i[l];s&&d==e||(r[l]=d,s=!1)}this.g=r}(ee=E.prototype).Oa=function(i){this.M=i},ee.ha=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cr.g(),this.C=function Nt(i){return i.h||(i.h=i.i())}(this.u?this.u:Cr),this.g.onreadystatechange=be(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void Vt(this,d)}if(i=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)r.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),l=Me.FormData&&i instanceof Me.FormData,!(0<=At(ie,e))||s||l||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of r)this.g.setRequestHeader(d,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ar(this),0<this.B&&((this.L=function at(i){return _n&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=be(this.ua,this)):this.A=zn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Vt(this,d)}},ee.ua=function(){typeof ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))},ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Zt(this,"complete"),Zt(this,"abort"),wr(this))},ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wr(this,!0)),E.$.N.call(this)},ee.La=function(){this.s||(this.G||this.v||this.l?ir(this):this.kb())},ee.kb=function(){ir(this)},ee.isActive=function(){return!!this.g},ee.da=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ee.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),b(e)}},ee.Ia=function(){return this.m},ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=Wr.prototype).ra=8,ee.H=1,ee.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new ne(this,this.l,i);let d=this.s;if(this.U&&(d?(d=Kr(d),Zr(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=fs(this,l,e),oi(r=uo(this.I),"RID",i),oi(r,"CVER",22),this.F&&oi(r,"X-HTTP-Session-Id",this.F),ha(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(Fn(d)))+"&"+e:this.o&&Xi(r,this.o,d)),zo(this.i,l),this.bb&&oi(r,"TYPE","init"),this.P?(oi(r,"$req",e),oi(r,"SID","null"),l.aa=!0,ii(l,r,null)):ii(l,r,e),this.H=2}}else 3==this.H&&(i?Ti(this,i):0==this.j.length||Ei(this.i)||Ti(this))},ee.Ma=function(){if(this.u=null,Qa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=rt(be(this.jb,this),i)}},ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,He(10),Ji(this),Qa(this))},ee.ib=function(){null!=this.v&&(this.v=null,Ji(this),Ro(this),He(19))},ee.pb=function(i){i?(this.l.info("Successfully pinged google.com"),He(2)):(this.l.info("Failed to ping google.com"),He(1))},ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(ee=wc.prototype).Ba=function(){},ee.Aa=function(){},ee.za=function(){},ee.ya=function(){},ee.isActive=function(){return!0},ee.Va=function(){},lu.prototype.g=function(i,e){return new Mo(i,e)},Ke(Mo,nn),Mo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;He(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=Cc(i,null,i.Y),Gi(i)},Mo.prototype.close=function(){fo(this.g)},Mo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=kr(i),i=r);e.j.push(new ur(e.fb++,i)),3==e.H&&Gi(e)},Mo.prototype.N=function(){this.g.h=null,delete this.j,fo(this.g),delete this.g,Mo.$.N.call(this)},Ke(Hd,mn),Ke(uu,Jn),Ke(Xa,wc),Xa.prototype.Ba=function(){Zt(this.g,"a")},Xa.prototype.Aa=function(i){Zt(this.g,new Hd(i))},Xa.prototype.za=function(i){Zt(this.g,new uu)},Xa.prototype.ya=function(){Zt(this.g,"b")},Ke(Cs,function Pa(){this.blockSize=-1}),Cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=r;)w(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[l++]=i.charCodeAt(d++),l==this.blockSize){w(this,s),l=0;break}}else for(;d<e;)if(s[l++]=i[d++],l==this.blockSize){w(this,s),l=0;break}}this.h=l,this.i+=e},Cs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)i[r++]=this.g[e]>>>s&255;return i};var Se={};function F(i){return-128<=i&&128>i?function zt(i,e){var r=Se;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new V([0|e],0>e?-1:0)}):new V([0|i],0>i?-1:0)}function ce(i){if(isNaN(i)||!isFinite(i))return qt;if(0>i)return er(ce(-i));for(var e=[],r=1,s=0;i>=r;s++)e[s]=i/r|0,r*=Rt;return new V(e,0)}var Rt=4294967296,qt=F(0),Kn=F(1),yr=F(16777216);function cr(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function qn(i){return-1==i.h}function er(i){for(var e=i.g.length,r=[],s=0;s<e;s++)r[s]=~i.g[s];return new V(r,~i.h).add(Kn)}function Nr(i,e){return i.add(er(e))}function Di(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Po(i,e){this.g=i,this.h=e}function xo(i,e){if(cr(e))throw Error("division by zero");if(cr(i))return new Po(qt,qt);if(qn(i))return e=xo(er(i),e),new Po(er(e.g),er(e.h));if(qn(e))return e=xo(i,er(e)),new Po(er(e.g),e.h);if(30<i.g.length){if(qn(i)||qn(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Kn,s=e;0>=s.X(i);)r=ws(r),s=ws(s);var l=Fo(r,1),d=Fo(s,1);for(s=Fo(s,2),r=Fo(r,2);!cr(s);){var g=d.add(s);0>=g.X(i)&&(l=l.add(r),d=g),s=Fo(s,1),r=Fo(r,1)}return e=Nr(i,l.R(e)),new Po(l,e)}for(l=qt;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),g=(d=ce(r)).R(e);qn(g)||0<g.X(i);)g=(d=ce(r-=s)).R(e);cr(d)&&(d=Kn),l=l.add(d),i=Nr(i,g)}return new Po(l,i)}function ws(i){for(var e=i.g.length+1,r=[],s=0;s<e;s++)r[s]=i.D(s)<<1|i.D(s-1)>>>31;return new V(r,i.h)}function Fo(i,e){var r=e>>5;e%=32;for(var s=i.g.length-r,l=[],d=0;d<s;d++)l[d]=0<e?i.D(d+r)>>>e|i.D(d+r+1)<<32-e:i.D(d+r);return new V(l,i.h)}(ee=V.prototype).ea=function(){if(qn(this))return-er(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);i+=(0<=s?s:Rt+s)*e,e*=Rt}return i},ee.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(cr(this))return"0";if(qn(this))return"-"+er(this).toString(i);for(var e=ce(Math.pow(i,6)),r=this,s="";;){var l=xo(r,e).g,d=((0<(r=Nr(r,l.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(cr(r=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},ee.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ee.X=function(i){return qn(i=Nr(this,i))?-1:cr(i)?0:1},ee.abs=function(){return qn(this)?er(this):this},ee.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&i.D(l)),g=(d>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=g>>>16,r[l]=(g&=65535)<<16|(d&=65535)}return new V(r,-2147483648&r[r.length-1]?-1:0)},ee.R=function(i){if(cr(this)||cr(i))return qt;if(qn(this))return qn(i)?er(this).R(er(i)):er(er(this).R(i));if(qn(i))return er(this.R(er(i)));if(0>this.X(yr)&&0>i.X(yr))return ce(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var d=this.D(s)>>>16,g=65535&this.D(s),S=i.D(l)>>>16,R=65535&i.D(l);r[2*s+2*l]+=g*R,Di(r,2*s+2*l),r[2*s+2*l+1]+=d*R,Di(r,2*s+2*l+1),r[2*s+2*l+1]+=g*S,Di(r,2*s+2*l+1),r[2*s+2*l+2]+=d*S,Di(r,2*s+2*l+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new V(r,0)},ee.gb=function(i){return xo(this,i).h},ee.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&i.D(s);return new V(r,this.h&i.h)},ee.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|i.D(s);return new V(r,this.h|i.h)},ee.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^i.D(s);return new V(r,this.h^i.h)},lu.prototype.createWebChannel=lu.prototype.g,Mo.prototype.send=Mo.prototype.u,Mo.prototype.open=Mo.prototype.m,Mo.prototype.close=Mo.prototype.close,xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Ft.COMPLETE="complete",Kt.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",nn.prototype.listen=nn.prototype.O,E.prototype.listenOnce=E.prototype.P,E.prototype.getLastError=E.prototype.Sa,E.prototype.getLastErrorCode=E.prototype.Ia,E.prototype.getStatus=E.prototype.da,E.prototype.getResponseJson=E.prototype.Wa,E.prototype.getResponseText=E.prototype.ja,E.prototype.send=E.prototype.ha,E.prototype.setWithCredentials=E.prototype.Oa,Cs.prototype.digest=Cs.prototype.l,Cs.prototype.reset=Cs.prototype.reset,Cs.prototype.update=Cs.prototype.j,V.prototype.add=V.prototype.add,V.prototype.multiply=V.prototype.R,V.prototype.modulo=V.prototype.gb,V.prototype.compare=V.prototype.X,V.prototype.toNumber=V.prototype.ea,V.prototype.toString=V.prototype.toString,V.prototype.getBits=V.prototype.D,V.fromNumber=ce,V.fromString=function Ue(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return er(Ue(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ce(Math.pow(e,8)),s=qt,l=0;l<i.length;l+=8){var d=Math.min(8,i.length-l),g=parseInt(i.substring(l,l+d),e);8>d?(d=ce(Math.pow(e,d)),s=s.R(d).add(ce(g))):s=(s=s.R(r)).add(ce(g))}return s};var eo=q.createWebChannelTransport=function(){return new lu},Ls=q.getStatEventTarget=function(){return Br()},bs=q.ErrorCode=xt,ga=q.EventType=Ft,zd=q.Event=un,bc=q.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ks=(q.FetchXmlHttpFactory=Qi,q.WebChannel=Kt),Sl=q.XhrIo=E,Go=q.Md5=Cs,Rl=q.Integer=V;const Ml="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let wi="10.7.0";const Vs=new Ee.Yd("@firebase/firestore");function As(){return Vs.logLevel}function Ut(i,...e){if(Vs.logLevel<=Ee.in.DEBUG){const r=e.map(ku);Vs.debug(`Firestore (${wi}): ${i}`,...r)}}function Bi(i,...e){if(Vs.logLevel<=Ee.in.ERROR){const r=e.map(ku);Vs.error(`Firestore (${wi}): ${i}`,...r)}}function ns(i,...e){if(Vs.logLevel<=Ee.in.WARN){const r=e.map(ku);Vs.warn(`Firestore (${wi}): ${i}`,...r)}}function ku(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Rn(i="Unexpected state"){const e=`FIRESTORE (${wi}) INTERNAL ASSERTION FAILED: `+i;throw Bi(e),new Error(e)}function xn(i,e){i||Rn()}function hn(i,e){return i}const Ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends re.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class to{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Cf{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Vr.UNAUTHENTICATED))}shutdown(){}}class Fu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Wd{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const d=H=>this.i!==l?(l=this.i,r(H)):Promise.resolve();let g=new to;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new to,e.enqueueRetryable(()=>d(this.currentUser))};const S=()=>{const H=g;e.enqueueRetryable((0,he.Z)(function*(){yield H.promise,yield d(s.currentUser)}))},R=H=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(H=>R(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?R(H):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new to)}},0),S()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xn("string"==typeof s.accessToken),new Cf(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xn(null===e||"string"==typeof e),new Vr(e)}}class Bs{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ma{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Bs(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ac{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pl{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.R;return this.R=d.token,Ut("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?l(d):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xn("string"==typeof r.token),this.R=r.token,new Ac(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class Sc{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Wi(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function ft(i,e){return i<e?-1:i>e?1:0}function Sr(i,e,r){return i.length===e.length&&i.every((s,l)=>r(s,e[l]))}function cu(i){return i+"\0"}class Ii{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _t(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _t(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _t(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Ii(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cn(e)}static min(){return new cn(new Ii(0,0))}static max(){return new cn(new Ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class el{constructor(e,r,s){void 0===r?r=0:r>e.length&&Rn(),void 0===s?s=e.length-r:s>e.length-r&&Rn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===el.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const d=e.get(l),g=r.get(l);if(d<g)return-1;if(d>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Rr extends el{construct(e,r,s){return new Rr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new _t(Ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new Rr(r)}static emptyPath(){return new Rr([])}}const rs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends el{construct(e,r,s){return new ui(e,r,s)}static isValidIdentifier(e){return rs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new _t(Ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<e.length;){const S=e[l];if("\\"===S){if(l+1===e.length)throw new _t(Ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[l+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new _t(Ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,l+=2}else"`"===S?(g=!g,l++):"."!==S||g?(s+=S,l++):(d(),l++)}if(d(),g)throw new _t(Ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ui(r)}static emptyPath(){return new ui([])}}class fn{constructor(e){this.path=e}static fromPath(e){return new fn(Rr.fromString(e))}static fromName(e){return new fn(Rr.fromString(e).popFirst(5))}static empty(){return new fn(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Rr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new Rr(e.slice()))}}class Zs{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function Rc(i){return i.fields.find(e=>2===e.kind)}function $s(i){return i.fields.filter(e=>2!==e.kind)}Zs.UNKNOWN_ID=-1;class po{constructor(e,r){this.fieldPath=e,this.kind=r}}class No{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new No(0,is.min())}}function Us(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=cn.fromTimestamp(1e9===s?new Ii(r+1,0):new Ii(r,s));return new is(l,fn.empty(),e)}function qd(i){return new is(i.readTime,i.key,-1)}class is{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new is(cn.min(),fn.empty(),-1)}static max(){return new is(cn.max(),fn.empty(),-1)}}function Yd(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=fn.comparator(i.documentKey,e.documentKey),0!==r?r:ft(i.largestBatchId,e.largestBatchId))}const tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function A(i){return M.apply(this,arguments)}function M(){return M=(0,he.Z)(function*(i){if(i.code!==Ct.FAILED_PRECONDITION||i.message!==tl)throw i;Ut("LocalStore","Unexpectedly lost primary lease")}),M.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new v((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof v?r:v.resolve(r)}catch(r){return v.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):v.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):v.reject(r)}static resolve(e){return new v((r,s)=>{r(e)})}static reject(e){return new v((r,s)=>{s(e)})}static waitFor(e){return new v((r,s)=>{let l=0,d=0,g=!1;e.forEach(S=>{++l,S.next(()=>{++d,g&&d===l&&r()},R=>s(R))}),g=!0,d===l&&r()})}static or(e){let r=v.resolve(!1);for(const s of e)r=r.next(l=>l?v.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}static mapArray(e,r){return new v((s,l)=>{const d=e.length,g=new Array(d);let S=0;for(let R=0;R<d;R++){const H=R;r(e[H]).next(te=>{g[H]=te,++S,S===d&&s(g)},te=>l(te))}})}static doWhile(e,r){return new v((s,l)=>{const d=()=>{!0===e()?r().next(()=>{d()},l):s()};d()})}}class N{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new to,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new ct(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=vi(s.target.error);this.V.reject(new ct(e,l))}}static open(e,r,s,l){try{return new N(r,e.transaction(l,s))}catch(d){throw new ct(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new yt(r)}}class Q{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===Q.S((0,re.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ut("SimpleDb","Removing database:",e),pn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,re.hl)())return!1;if(Q.C())return!0;const e=(0,re.z$)(),r=Q.S(e),s=0<r&&r<10,l=Q.v(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,he.Z)(function*(){return r.db||(Ut("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new ct(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const S=g.target.error;l("VersionError"===S.name?new _t(Ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new _t(Ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new ct(e,S))},d.onupgradeneeded=g=>{Ut("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.N(g.target.result,d.transaction,g.oldVersion,r.version).next(()=>{Ut("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var d=this;return(0,he.Z)(function*(){const g="readonly"===r;let S=0;for(;;){++S;try{d.db=yield d.O(e);const R=N.open(d.db,e,g?"readonly":"readwrite",s),H=l(R).next(te=>(R.g(),te)).catch(te=>(R.abort(te),v.reject(te))).toPromise();return H.catch(()=>{}),yield R.m,H}catch(R){const H=R,te="FirebaseError"!==H.name&&S<3;if(Ut("SimpleDb","Transaction failed with error:",H.message,"Retrying:",te),d.close(),!te)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ve{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return pn(this.k.delete())}}class ct extends _t{constructor(e,r){super(Ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Lt(i){return"IndexedDbTransactionError"===i.name}class yt{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ut("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),pn(s)}add(e){return Ut("SimpleDb","ADD",this.store.name,e,e),pn(this.store.add(e))}get(e){return pn(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ut("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ut("SimpleDb","DELETE",this.store.name,e),pn(this.store.delete(e))}count(){return Ut("SimpleDb","COUNT",this.store.name),pn(this.store.count())}W(e,r){const s=this.options(e,r);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.G(l,(g,S)=>{d.push(S)}).next(()=>d)}{const l=this.store.getAll(s.range);return new v((d,g)=>{l.onerror=S=>{g(S.target.error)},l.onsuccess=S=>{d(S.target.result)}})}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new v((l,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}H(e,r){Ut("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const l=this.cursor(s);return this.G(l,(d,g,S)=>S.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.G(l,r)}Z(e){const r=this.cursor({});return new v((s,l)=>{r.onerror=d=>{const g=vi(d.target.error);l(g)},r.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(S=>{S?g.continue():s()}):s()}})}G(e,r){const s=[];return new v((l,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const S=g.target.result;if(!S)return void l();const R=new ve(S),H=r(S.primaryKey,S.value,R);if(H instanceof v){const te=H.catch(Ae=>(R.done(),v.reject(Ae)));s.push(te)}R.isDone?l():null===R.$?S.continue():S.continue(R.$)}}).next(()=>v.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function pn(i){return new v((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=vi(s.target.error);r(l)}})}let tr=!1;function vi(i){const e=Q.S((0,re.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tr||(tr=!0,setTimeout(()=>{throw s},0)),s}}return i}class dr{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;Ut("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,he.Z)(function*(){r.task=null;try{Ut("IndexBackiller",`Documents written: ${yield r.X.te()}`)}catch(s){Lt(s)?Ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield A(s)}yield r.ee(6e4)}))}}class Ni{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,he.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let l=r,d=!0;return v.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Ut("IndexBackiller",`Processing collection: ${g}`),this.re(e,g,l).next(S=>{l-=S,s.add(g)});d=!1})).next(()=>r-l)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ie(l,d)).next(S=>(Ut("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,r,S))).next(()=>g.size)}))}ie(e,r){let s=e;return r.changes.forEach((l,d)=>{const g=qd(d);Yd(g,s)>0&&(s=g)}),new is(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let mr=(()=>{class i{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function Qs(i){return null==i}function Xs(i){return 0===i&&1/i==-1/0}function nl(i){return"number"==typeof i&&Number.isInteger(i)&&!Xs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function $i(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Js(e)),e=Pc(i.get(r),e);return Js(e)}function Pc(i,e){let r=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function Js(i){return i+"\x01\x01"}function Ss(i){const e=i.length;if(xn(e>=2),2===e)return xn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Rr.emptyPath();const r=e-2,s=[];let l="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>r)&&Rn(),i.charAt(g+1)){case"\x01":const S=i.substring(d,g);let R;0===l.length?R=S:(l+=S,R=l,l=""),s.push(R);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:Rn()}d=g+2}return new Rr(s)}const ea=["userId","batchId"];function xc(i,e){return[i,$i(e)]}function xl(i,e,r){return[i,$i(e),r]}const Ol={},du=["prefixPath","collectionGroup","readTime","documentId"],Kd=["prefixPath","collectionGroup","documentId"],Oc=["collectionGroup","readTime","prefixPath","documentId"],hu=["canonicalId","targetId"],Nl=["targetId","path"],rl=["path","targetId"],Lu=["collectionId","parent"],Eg=["indexId","uid"],Zd=["uid","sequenceNumber"],Qd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wf=["indexId","uid","orderedDocumentKey"],Tg=["userId","collectionPath","documentId"],b_=["userId","collectionPath","largestBatchId"],bf=["userId","collectionGroup","largestBatchId"],Nc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kl=[...Nc,"documentOverlays"],Af=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],il=Af,Vu=[...il,"indexConfiguration","indexState","indexEntries"];class fu extends T{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function ao(i,e){const r=hn(i);return Q.M(r.ae,e)}function Xd(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function xa(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function kc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class $r{constructor(e,r){this.comparator=e,this.root=r||go.EMPTY}insert(e,r){return new $r(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new $r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class go{constructor(e,r,s,l,d){this.key=e,this.value=r,this.color=null!=s?s:go.RED,this.left=null!=l?l:go.EMPTY,this.right=null!=d?d:go.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,d){return new go(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return go.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return go.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,go.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,go.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const e=this.left.check();if(e!==this.right.check())throw Rn();return e+(this.isRed()?0:1)}}go.EMPTY=null,go.RED=!0,go.BLACK=!1,go.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(e,r,s,l,d){return this}insert(e,r,s){return new go(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class si{constructor(e){this.comparator=e,this.data=new $r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Fc(this.data.getIterator())}getIteratorFrom(e){return new Fc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new si(this.comparator);return r.data=e,r}}class Fc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _a(i){return i.hasNext()?i.getNext():void 0}class Wo{constructor(e){this.fields=e,e.sort(ui.comparator)}static empty(){return new Wo([])}unionWith(e){let r=new si(ui.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Wo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Sf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mo{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Sf("Invalid base64 string: "+d):d}}(e);return new mo(r)}static fromUint8Array(e){const r=function(l){let d="";for(let g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(e);return new mo(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mo.EMPTY_BYTE_STRING=new mo("");const Rf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(i){if(xn(!!i),"string"==typeof i){let e=0;const r=Rf.exec(i);if(xn(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:no(i.seconds),nanos:no(i.nanos)}}function no(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function js(i){return"string"==typeof i?mo.fromBase64String(i):mo.fromUint8Array(i)}function Hs(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Vc(i){const e=i.mapValue.fields.__previous_value__;return Hs(e)?Vc(e):e}function ol(i){const e=ta(i.mapValue.fields.__local_write_time__.timestampValue);return new Ii(e.seconds,e.nanos)}class Bu{constructor(e,r,s,l,d,g,S,R,H){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=S,this.longPollingOptions=R,this.useFetchStreams=H}}class os{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new os("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof os&&e.projectId===this.projectId&&e.database===this.database}}const ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ui={nullValue:"NULL_VALUE"};function sl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hs(i)?4:Uc(i)?9007199254740991:10:Rn()}function zs(i,e){if(i===e)return!0;const r=sl(i);if(r!==sl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ol(i).isEqual(ol(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const g=ta(l.timestampValue),S=ta(d.timestampValue);return g.seconds===S.seconds&&g.nanos===S.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,js(i.bytesValue).isEqual(js(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,d){return no(l.geoPointValue.latitude)===no(d.geoPointValue.latitude)&&no(l.geoPointValue.longitude)===no(d.geoPointValue.longitude)}(i,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return no(l.integerValue)===no(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const g=no(l.doubleValue),S=no(d.doubleValue);return g===S?Xs(g)===Xs(S):isNaN(g)&&isNaN(S)}return!1}(i,e);case 9:return Sr(i.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(l,d){const g=l.mapValue.fields||{},S=d.mapValue.fields||{};if(Xd(g)!==Xd(S))return!1;for(const R in g)if(g.hasOwnProperty(R)&&(void 0===S[R]||!zs(g[R],S[R])))return!1;return!0}(i,e);default:return Rn()}var d}function al(i,e){return void 0!==(i.values||[]).find(r=>zs(r,e))}function Oa(i,e){if(i===e)return 0;const r=sl(i),s=sl(e);if(r!==s)return ft(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return ft(i.booleanValue,e.booleanValue);case 2:return function(d,g){const S=no(d.integerValue||d.doubleValue),R=no(g.integerValue||g.doubleValue);return S<R?-1:S>R?1:S===R?0:isNaN(S)?isNaN(R)?0:-1:1}(i,e);case 3:return Jd(i.timestampValue,e.timestampValue);case 4:return Jd(ol(i),ol(e));case 5:return ft(i.stringValue,e.stringValue);case 6:return function(d,g){const S=js(d),R=js(g);return S.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(d,g){const S=d.split("/"),R=g.split("/");for(let H=0;H<S.length&&H<R.length;H++){const te=ft(S[H],R[H]);if(0!==te)return te}return ft(S.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,g){const S=ft(no(d.latitude),no(g.latitude));return 0!==S?S:ft(no(d.longitude),no(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,g){const S=d.values||[],R=g.values||[];for(let H=0;H<S.length&&H<R.length;++H){const te=Oa(S[H],R[H]);if(te)return te}return ft(S.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,g){if(d===ps.mapValue&&g===ps.mapValue)return 0;if(d===ps.mapValue)return 1;if(g===ps.mapValue)return-1;const S=d.fields||{},R=Object.keys(S),H=g.fields||{},te=Object.keys(H);R.sort(),te.sort();for(let Ae=0;Ae<R.length&&Ae<te.length;++Ae){const tt=ft(R[Ae],te[Ae]);if(0!==tt)return tt;const It=Oa(S[R[Ae]],H[te[Ae]]);if(0!==It)return It}return ft(R.length,te.length)}(i.mapValue,e.mapValue);default:throw Rn()}}function Jd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return ft(i,e);const r=ta(i),s=ta(e),l=ft(r.seconds,s.seconds);return 0!==l?l:ft(r.nanos,s.nanos)}function Na(i){return va(i)}function va(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=ta(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?js(i.bytesValue).toBase64():"referenceValue"in i?fn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=va(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of s)d?d=!1:l+=",",l+=`${g}:${va(r.fields[g])}`;return l+"}"}(i.mapValue):Rn()}function Gs(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Bc(i){return!!i&&"integerValue"in i}function Fa(i){return!!i&&"arrayValue"in i}function Fl(i){return!!i&&"nullValue"in i}function Dg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $u(i){return!!i&&"mapValue"in i}function $c(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return xa(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=$c(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=$c(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Uc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function A_(i){return"nullValue"in i?Ui:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Gs(os.empty(),fn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Rn()}function S_(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Gs(os.empty(),fn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ps:Rn()}function Cg(i,e){const r=Oa(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function wg(i,e){const r=Oa(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ro{constructor(e){this.value=e}static empty(){return new ro({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!$u(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(r)}setAll(e){let r=ui.emptyPath(),s={},l=[];e.forEach((g,S)=>{if(!r.isImmediateParentOf(S)){const R=this.getFieldsMap(r);this.applyChanges(R,s,l),s={},l=[],r=S.popLast()}g?s[S.lastSegment()]=$c(g):l.push(S.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(e){const r=this.field(e.popLast());$u(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];$u(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){xa(r,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new ro($c(this.value))}}function Mf(i){const e=[];return xa(i.fields,(r,s)=>{const l=new ui([r]);if($u(s)){const d=Mf(s.mapValue).fields;if(0===d.length)e.push(l);else for(const g of d)e.push(l.child(g))}else e.push(l)}),new Wo(e)}class ki{constructor(e,r,s,l,d,g,S){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=d,this.data=g,this.documentState=S}static newInvalidDocument(e){return new ki(e,0,cn.min(),cn.min(),cn.min(),ro.empty(),0)}static newFoundDocument(e,r,s,l){return new ki(e,1,r,cn.min(),s,l,0)}static newNoDocument(e,r){return new ki(e,2,r,cn.min(),cn.min(),ro.empty(),0)}static newUnknownDocument(e,r){return new ki(e,3,r,cn.min(),cn.min(),ro.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bi{constructor(e,r){this.position=e,this.inclusive=r}}function jc(i,e,r){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],g=i.position[l];if(s=d.field.isKeyField()?fn.comparator(fn.fromName(g.referenceValue),r.key):Oa(g,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function gu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!zs(i.position[r],e.position[r]))return!1;return!0}class Uu{constructor(e,r="asc"){this.field=e,this.dir=r}}function gs(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ll{}class Ur extends Ll{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Of(e,r,s):"array-contains"===r?new th(e,s):"in"===r?new Lf(e,s):"not-in"===r?new R_(e,s):"array-contains-any"===r?new nh(e,s):new Ur(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Nf(e,s):new kf(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Oa(r,this.value)):null!==r&&sl(this.value)===sl(r)&&this.matchesComparison(Oa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends Ll{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new ti(e,r)}matches(e){return ya(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ya(i){return"and"===i.op}function ju(i){return"or"===i.op}function Pf(i){return eh(i)&&ya(i)}function eh(i){for(const e of i.filters)if(e instanceof ti)return!1;return!0}function xf(i){if(i instanceof Ur)return i.field.canonicalString()+i.op.toString()+Na(i.value);if(Pf(i))return i.filters.map(e=>xf(e)).join(",");{const e=i.filters.map(r=>xf(r)).join(",");return`${i.op}(${e})`}}function qo(i,e){return i instanceof Ur?(s=i,(l=e)instanceof Ur&&s.op===l.op&&s.field.isEqual(l.field)&&zs(s.value,l.value)):i instanceof ti?function(s,l){return l instanceof ti&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((d,g,S)=>d&&qo(g,l.filters[S]),!0)}(i,e):void Rn();var s,l}function mu(i,e){const r=i.filters.concat(e);return ti.create(r,i.op)}function Vl(i){return i instanceof Ur?`${(r=i).field.canonicalString()} ${r.op} ${Na(r.value)}`:i instanceof ti?function(r){return r.op.toString()+" {"+r.getFilters().map(Vl).join(" ,")+"}"}(i):"Filter";var r}class Of extends Ur{constructor(e,r,s){super(e,r,s),this.key=fn.fromName(s.referenceValue)}matches(e){const r=fn.comparator(e.key,this.key);return this.matchesComparison(r)}}class Nf extends Ur{constructor(e,r){super(e,"in",r),this.keys=Ff(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class kf extends Ur{constructor(e,r){super(e,"not-in",r),this.keys=Ff(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ff(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>fn.fromName(s.referenceValue))}class th extends Ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Fa(r)&&al(r.arrayValue,this.value)}}class Lf extends Ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&al(this.value.arrayValue,r)}}class R_ extends Ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!al(this.value.arrayValue,r)}}class nh extends Ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Fa(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>al(this.value.arrayValue,s))}}class Hc{constructor(e,r=null,s=[],l=[],d=null,g=null,S=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=S,this.ce=null}}function La(i,e=null,r=[],s=[],l=null,d=null,g=null){return new Hc(i,e,r,s,l,d,g)}function ll(i){const e=hn(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>xf(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),Qs(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Na(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Na(s)).join(",")),e.ce=r}return e.ce}function Va(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!gs(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!qo(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!gu(i.startAt,e.startAt)&&gu(i.endAt,e.endAt)}function zc(i){return fn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Bl(i,e){return i.filters.filter(r=>r instanceof Ur&&r.field.isEqual(e))}function Vf(i,e,r){let s=Ui,l=!0;for(const d of Bl(i,e)){let g=Ui,S=!0;switch(d.op){case"<":case"<=":g=A_(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,S=!1;break;case"!=":case"not-in":g=Ui}Cg({value:s,inclusive:l},{value:g,inclusive:S})<0&&(s=g,l=S)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];Cg({value:s,inclusive:l},{value:g,inclusive:r.inclusive})<0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}function rh(i,e,r){let s=ps,l=!0;for(const d of Bl(i,e)){let g=ps,S=!0;switch(d.op){case">=":case">":g=S_(d.value),S=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,S=!1;break;case"!=":case"not-in":g=ps}wg({value:s,inclusive:l},{value:g,inclusive:S})>0&&(s=g,l=S)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];wg({value:s,inclusive:l},{value:g,inclusive:r.inclusive})>0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}class na{constructor(e,r=null,s=[],l=[],d=null,g="F",S=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=S,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function _u(i,e,r,s,l,d,g,S){return new na(i,e,r,s,l,d,g,S)}function $l(i){return new na(i)}function bg(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ba(i){return null!==i.collectionGroup}function ra(i){const e=hn(i);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let S=new si(ui.comparator);return g.filters.forEach(R=>{R.getFlattenedFilters().forEach(H=>{H.isInequality()&&(S=S.add(H.field))})}),S})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Uu(d,s))}),r.has(ui.keyField().canonicalString())||e.le.push(new Uu(ui.keyField(),s))}return e.le}function Co(i){const e=hn(i);return e.he||(e.he=function Gc(i,e){if("F"===i.limitType)return La(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Uu(l.field,"desc"===l.dir?"asc":"desc"));const r=i.endAt?new bi(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bi(i.startAt.position,i.startAt.inclusive):null;return La(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}(e,ra(i))),e.he}function Bf(i,e){const r=i.filters.concat([e]);return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Ul(i,e,r){return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Hu(i,e){return Va(Co(i),Co(e))&&i.limitType===e.limitType}function Ag(i){return`${ll(Co(i))}|lt:${i.limitType}`}function ul(i){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Vl(l)).join(", ")}]`),Qs(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Na(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Na(l)).join(",")),`Target(${s})`}(Co(i))}; limitType=${i.limitType})`}function zu(i,e){return e.isFoundDocument()&&function(s,l){const d=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):fn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,l){for(const d of ra(s))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(i,e)&&function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(g,S,R){const H=jc(g,S,R);return g.inclusive?H<=0:H<0}(s.startAt,ra(s),l)||s.endAt&&!function(g,S,R){const H=jc(g,S,R);return g.inclusive?H>=0:H>0}(s.endAt,ra(s),l)));var s,l}function $f(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ia(i){return(e,r)=>{let s=!1;for(const l of ra(i)){const d=Uf(l,e,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function Uf(i,e,r){const s=i.field.isKeyField()?fn.comparator(e.key,r.key):function(d,g,S){const R=g.data.field(d),H=S.data.field(d);return null!==R&&null!==H?Oa(R,H):Rn()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Rn()}}class ia{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(r,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return kc(this.inner)}size(){return this.innerSize}}const Wc=new $r(fn.comparator);function ss(){return Wc}const jf=new $r(fn.comparator);function jl(...i){let e=jf;for(const r of i)e=e.insert(r.key,r);return e}function Gu(i){let e=jf;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Rs(){return $a()}function Sg(){return $a()}function $a(){return new ia(i=>i.toString(),(i,e)=>i.isEqual(e))}const ih=new $r(fn.comparator),oh=new si(fn.comparator);function Tr(...i){let e=oh;for(const r of i)e=e.add(r);return e}const Wu=new si(ft);function Ua(){return Wu}function Hf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xs(e)?"-0":e}}function qc(i){return{integerValue:""+i}}function vu(i,e){return nl(e)?qc(e):Hf(i,e)}class Yc{constructor(){this._=void 0}}function sh(i,e,r){return i instanceof as?function(l,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&Hs(d)&&(d=Vc(d)),d&&(g.fields.__previous_value__=d),{mapValue:g}}(r,e):i instanceof ja?ah(i,e):i instanceof Hl?lh(i,e):function(l,d){const g=oa(l,d),S=zf(g)+zf(l.Ie);return Bc(g)&&Bc(l.Ie)?qc(S):Hf(l.serializer,S)}(i,e)}function Kc(i,e,r){return i instanceof ja?ah(i,e):i instanceof Hl?lh(i,e):r}function oa(i,e){return i instanceof sa?Bc(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class as extends Yc{}class ja extends Yc{constructor(e){super(),this.elements=e}}function ah(i,e){const r=uh(e);for(const s of i.elements)r.some(l=>zs(l,s))||r.push(s);return{arrayValue:{values:r}}}class Hl extends Yc{constructor(e){super(),this.elements=e}}function lh(i,e){let r=uh(e);for(const s of i.elements)r=r.filter(l=>!zs(l,s));return{arrayValue:{values:r}}}class sa extends Yc{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function zf(i){return no(i.integerValue||i.doubleValue)}function uh(i){return Fa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class zl{constructor(e,r){this.field=e,this.transform=r}}class Gf{constructor(e,r){this.version=e,this.transformResults=r}}class Ai{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Zc{}function ms(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ha(i.key,Ai.none()):new cl(i.key,i.data,Ai.none());{const r=i.data,s=ro.empty();let l=new si(ui.comparator);for(let d of e.fields)if(!l.has(d)){let g=r.field(d);null===g&&d.length>1&&(d=d.popLast(),g=r.field(d)),null===g?s.delete(d):s.set(d,g),l=l.add(d)}return new dl(i.key,s,new Wo(l.toArray()),Ai.none())}}function yu(i,e,r){i instanceof cl?function(l,d,g){const S=l.value.clone(),R=ch(l.fieldTransforms,d,g.transformResults);S.setAll(R),d.convertToFoundDocument(g.version,S).setHasCommittedMutations()}(i,e,r):i instanceof dl?function(l,d,g){if(!Gl(l.precondition,d))return void d.convertToUnknownDocument(g.version);const S=ch(l.fieldTransforms,d,g.transformResults),R=d.data;R.setAll(Xc(l)),R.setAll(S),d.convertToFoundDocument(g.version,R).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Iu(i,e,r,s){return i instanceof cl?function(d,g,S,R){if(!Gl(d.precondition,g))return S;const H=d.value.clone(),te=_o(d.fieldTransforms,R,g);return H.setAll(te),g.convertToFoundDocument(g.version,H).setHasLocalMutations(),null}(i,e,r,s):i instanceof dl?function(d,g,S,R){if(!Gl(d.precondition,g))return S;const H=_o(d.fieldTransforms,R,g),te=g.data;return te.setAll(Xc(d)),te.setAll(H),g.convertToFoundDocument(g.version,te).setHasLocalMutations(),null===S?null:S.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Ae=>Ae.field))}(i,e,r,s):(S=r,Gl(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):S);var g,S}function Wf(i,e){let r=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=oa(s.transform,l||null);null!=d&&(null===r&&(r=ro.empty()),r.set(s.field,d))}return r||null}function Qc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&Sr(s,l,(d,g)=>function qu(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof ja&&l instanceof ja||s instanceof Hl&&l instanceof Hl?Sr(s.elements,l.elements,zs):s instanceof sa&&l instanceof sa?zs(s.Ie,l.Ie):s instanceof as&&l instanceof as);var s,l}(d,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class cl extends Zc{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dl extends Zc{constructor(e,r,s,l,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Xc(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function ch(i,e,r){const s=new Map;xn(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],g=d.transform,S=e.data.field(d.field);s.set(d.field,Kc(g,S,r[l]))}return s}function _o(i,e,r){const s=new Map;for(const l of i){const d=l.transform,g=r.data.field(l.field);s.set(l.field,sh(d,g,e))}return s}class Ha extends Zc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ea extends Zc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Eu{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&yu(d,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Iu(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Iu(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Sg();return this.mutations.forEach(l=>{const d=e.get(l.key),g=d.overlayedDocument;let S=this.applyToLocalView(g,d.mutatedFields);S=r.has(l.key)?null:S;const R=ms(g,S);null!==R&&s.set(l.key,R),g.isValidDocument()||g.convertToNoDocument(cn.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Tr())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,(r,s)=>Qc(r,s))&&Sr(this.baseMutations,e.baseMutations,(r,s)=>Qc(r,s))}}class Jc{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){xn(e.mutations.length===s.length);let l=ih;const d=e.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new Jc(e,r,s,l)}}class hl{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dh{constructor(e,r){this.count=e,this.unchangedNames=r}}var ji,Xr;function Lo(i){switch(i){default:return Rn();case Ct.CANCELLED:case Ct.UNKNOWN:case Ct.DEADLINE_EXCEEDED:case Ct.RESOURCE_EXHAUSTED:case Ct.INTERNAL:case Ct.UNAVAILABLE:case Ct.UNAUTHENTICATED:return!1;case Ct.INVALID_ARGUMENT:case Ct.NOT_FOUND:case Ct.ALREADY_EXISTS:case Ct.PERMISSION_DENIED:case Ct.FAILED_PRECONDITION:case Ct.ABORTED:case Ct.OUT_OF_RANGE:case Ct.UNIMPLEMENTED:case Ct.DATA_LOSS:return!0}}function Wl(i){if(void 0===i)return Bi("GRPC error has no .code"),Ct.UNKNOWN;switch(i){case ji.OK:return Ct.OK;case ji.CANCELLED:return Ct.CANCELLED;case ji.UNKNOWN:return Ct.UNKNOWN;case ji.DEADLINE_EXCEEDED:return Ct.DEADLINE_EXCEEDED;case ji.RESOURCE_EXHAUSTED:return Ct.RESOURCE_EXHAUSTED;case ji.INTERNAL:return Ct.INTERNAL;case ji.UNAVAILABLE:return Ct.UNAVAILABLE;case ji.UNAUTHENTICATED:return Ct.UNAUTHENTICATED;case ji.INVALID_ARGUMENT:return Ct.INVALID_ARGUMENT;case ji.NOT_FOUND:return Ct.NOT_FOUND;case ji.ALREADY_EXISTS:return Ct.ALREADY_EXISTS;case ji.PERMISSION_DENIED:return Ct.PERMISSION_DENIED;case ji.FAILED_PRECONDITION:return Ct.FAILED_PRECONDITION;case ji.ABORTED:return Ct.ABORTED;case ji.OUT_OF_RANGE:return Ct.OUT_OF_RANGE;case ji.UNIMPLEMENTED:return Ct.UNIMPLEMENTED;case ji.DATA_LOSS:return Ct.DATA_LOSS;default:return Rn()}}(Xr=ji||(ji={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";function ed(){return new TextEncoder}const hh=new Rl([4294967295,4294967295],0);function fh(i){const e=ed().encode(i),r=new Go;return r.update(e),new Uint8Array(r.digest())}function Rg(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Rl([r,s],0),new Rl([l,d],0)]}class ph{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ku(`Invalid padding: ${r}`);if(s<0)throw new Ku(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ku(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Ku(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=Rl.fromNumber(this.Te)}de(e,r,s){let l=e.add(r.multiply(Rl.fromNumber(s)));return 1===l.compare(hh)&&(l=new Rl([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=fh(e),[s,l]=Rg(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);if(!this.Ae(g))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new ph(d,l,r);return s.forEach(S=>g.insert(S)),g}insert(e){if(0===this.Te)return;const r=fh(e),[s,l]=Rg(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);this.Re(g)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zu{constructor(e,r,s,l,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,_.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Zu(cn.min(),l,new $r(ft),ss(),Tr())}}class _{constructor(e,r,s,l,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new _(s,r,Tr(),Tr(),Tr())}}class f{constructor(e,r,s,l){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=l}}class p{constructor(e,r){this.targetId=e,this.fe=r}}class I{constructor(e,r,s=mo.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class ${constructor(){this.ge=0,this.pe=pt(),this.ye=mo.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Tr(),r=Tr(),s=Tr();return this.pe.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Rn()}}),new _(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=pt()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class J{constructor(e){this.Le=e,this.ke=new Map,this.qe=ss(),this.Qe=We(),this.Ke=new $r(ft)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:Rn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,l)=>{this.je(l)&&r(l)})}Je(e){const r=e.targetId,s=e.fe.count,l=this.Ye(r);if(l){const d=l.target;if(zc(d))if(0===s){const g=new fn(d.path);this.We(r,g,ki.newNoDocument(g,cn.min()))}else xn(1===s);else{const g=this.Ze(r);if(g!==s){const S=this.Xe(e),R=S?this.et(S,e,g):1;0!==R&&(this.He(r),this.Ke=this.Ke.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=r;let g,S;try{g=js(s).toUint8Array()}catch(R){if(R instanceof Sf)return ns("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{S=new ph(g,l,d)}catch(R){return ns(R instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===S.Te?null:S}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(d=>{const g=this.Le.nt(),S=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(S)||(this.We(r,d,null),l++)}),l}it(e){const r=new Map;this.ke.forEach((d,g)=>{const S=this.Ye(g);if(S){if(d.current&&zc(S.target)){const R=new fn(S.target.path);null!==this.qe.get(R)||this.st(g,R)||this.We(g,R,ki.newNoDocument(R,e))}d.De&&(r.set(g,d.ve()),d.Fe())}});let s=Tr();this.Qe.forEach((d,g)=>{let S=!0;g.forEachWhile(R=>{const H=this.Ye(R);return!H||"TargetPurposeLimboResolution"===H.purpose||(S=!1,!1)}),S&&(s=s.add(d))}),this.qe.forEach((d,g)=>g.setReadTime(e));const l=new Zu(e,r,this.Ke,this.qe,s);return this.qe=ss(),this.Qe=We(),this.Ke=new $r(ft),l}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,r)?l.Me(r,1):l.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new $,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new si(ft),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||Ut("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new $),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function We(){return new $r(fn.comparator)}function pt(){return new $r(fn.comparator)}const Ot={asc:"ASCENDING",desc:"DESCENDING"},yn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vn={and:"AND",or:"OR"};class On{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Si(i,e){return i.useProto3Json||Qs(e)?e:{value:e}}function Yo(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Mg(i,e){return Yo(i,e.toTimestamp())}function Hi(i){return xn(!!i),cn.fromTimestamp(function(r){const s=ta(r);return new Ii(s.seconds,s.nanos)}(i))}function gh(i,e){return(s=i,new Rr(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function mh(i){const e=Rr.fromString(i);return xn(N_(e)),e}function ql(i,e){return gh(i.databaseId,e.path)}function Ms(i,e){const r=mh(e);if(r.get(1)!==i.databaseId.projectId)throw new _t(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new _t(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new fn(Pg(r))}function _h(i,e){return gh(i.databaseId,e)}function vh(i){const e=mh(i);return 4===e.length?Rr.emptyPath():Pg(e)}function fl(i){return new Rr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Pg(i){return xn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function yh(i,e,r){return{name:ql(i,e),fields:r.value.mapValue.fields}}function xg(i,e,r){const s=Ms(i,e.name),l=Hi(e.updateTime),d=e.createTime?Hi(e.createTime):cn.min(),g=new ro({mapValue:{fields:e.fields}}),S=ki.newFoundDocument(s,l,d,g);return r&&S.setHasCommittedMutations(),r?S.setHasCommittedMutations():S}function Ih(i,e){let r;if(e instanceof cl)r={update:yh(i,e.key,e.value)};else if(e instanceof Ha)r={delete:ql(i,e.key)};else if(e instanceof dl)r={update:yh(i,e.key,e.data),updateMask:Gy(e.fieldMask)};else{if(!(e instanceof Ea))return Rn();r={verify:ql(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,g){const S=g.transform;if(S instanceof as)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof ja)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Hl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof sa)return{fieldPath:g.field.canonicalString(),increment:S.Ie};throw Rn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Mg(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Rn()),r;var d}function td(i,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ai.updateTime(Hi(d.updateTime)):void 0!==d.exists?Ai.exists(d.exists):Ai.none():Ai.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(g,S){let R=null;"setToServerValue"in S?(xn("REQUEST_TIME"===S.setToServerValue),R=new as):"appendMissingElements"in S?R=new ja(S.appendMissingElements.values||[]):"removeAllFromArray"in S?R=new Hl(S.removeAllFromArray.values||[]):"increment"in S?R=new sa(g,S.increment):Rn();const H=ui.fromServerFormat(S.fieldPath);return new zl(H,R)}(i,l)):[];var d;if(e.update){const l=Ms(i,e.update.name),d=new ro({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Wo((e.updateMask.fieldPaths||[]).map(te=>ui.fromServerFormat(te)));return new dl(l,d,g,r,s)}return new cl(l,d,r,s)}if(e.delete){const l=Ms(i,e.delete);return new Ha(l,r)}if(e.verify){const l=Ms(i,e.verify);return new Ea(l,r)}return Rn()}function Yf(i,e){return{documents:[_h(i,e.path)]}}function Kf(i,e){const r={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(r.parent=_h(i,s),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=_h(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(R){if(0!==R.length)return O_(ti.create(R,"and"))}(e.filters);l&&(r.structuredQuery.where=l);const d=function(R){if(0!==R.length)return R.map(H=>{return{field:za((Ae=H).field),direction:P_(Ae.dir)};var Ae})}(e.orderBy);d&&(r.structuredQuery.orderBy=d);const g=Si(i,e.limit);return null!==g&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(r.structuredQuery.endAt=function(R){return{before:!R.inclusive,values:R.position}}(e.endAt)),r;var R}function Og(i){let e=vh(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){xn(1===s);const te=r.from[0];te.allDescendants?l=te.collectionId:e=e.child(te.collectionId)}let d=[];r.where&&(d=function(Ae){const tt=M_(Ae);return tt instanceof ti&&Pf(tt)?tt.getFilters():[tt]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(tt=>{return new Uu(Yl((sn=tt).field),function(ln){switch(ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(sn.direction));var sn}));let S=null;r.limit&&(S=function(Ae){let tt;return tt="object"==typeof Ae?Ae.value:Ae,Qs(tt)?null:tt}(r.limit));let R=null;var Ae;r.startAt&&(R=new bi((Ae=r.startAt).values||[],!!Ae.before));let H=null;return r.endAt&&(H=function(Ae){return new bi(Ae.values||[],!Ae.before)}(r.endAt)),_u(e,l,g,d,S,"F",R,H)}function M_(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Yl(r.unaryFilter.field);return Ur.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Yl(r.unaryFilter.field);return Ur.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Yl(r.unaryFilter.field);return Ur.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Yl(r.unaryFilter.field);return Ur.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}(i):void 0!==i.fieldFilter?Ur.create(Yl((r=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return ti.create(r.compositeFilter.filters.map(s=>M_(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Rn()}}(r.compositeFilter.op))}(i):Rn();var r}function P_(i){return Ot[i]}function x_(i){return yn[i]}function Zf(i){return Vn[i]}function za(i){return{fieldPath:i.canonicalString()}}function Yl(i){return ui.fromServerFormat(i.fieldPath)}function O_(i){return i instanceof Ur?function(r){if("=="===r.op){if(Dg(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NAN"}};if(Fl(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Dg(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NOT_NAN"}};if(Fl(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(r.field),op:x_(r.op),value:r.value}}}(i):i instanceof ti?function(r){const s=r.getFilters().map(l=>O_(l));return 1===s.length?s[0]:{compositeFilter:{op:Zf(r.op),filters:s}}}(i):Rn()}function Gy(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function N_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class pl{constructor(e,r,s,l,d=cn.min(),g=cn.min(),S=mo.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=S,this.expectedCount=R}withSequenceNumber(e){return new pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qf{constructor(e){this.ut=e}}function k_(i,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Xf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ql(d=i.ut,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Yo(d,g.version.toTimestamp()),createTime:Yo(d,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Du(e.version)};else{if(!e.isUnknownDocument())return Rn();s.unknownDocument={path:r.path.toArray(),version:Du(e.version)}}var d,g;return s}function Xf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Du(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qu(i){const e=new Ii(i.seconds,i.nanoseconds);return cn.fromTimestamp(e)}function Xu(i,e){const r=(e.baseMutations||[]).map(d=>td(i.ut,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>td(i.ut,d)),l=Ii.fromMillis(e.localWriteTimeMs);return new Eu(e.batchId,l,r,s)}function Ko(i){const e=Qu(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Qu(i.lastLimboFreeSnapshotVersion):cn.min();let s;return s=void 0!==i.query.documents?(xn(1===(d=i.query).documents.length),Co($l(vh(d.documents[0])))):function(d){return Co(Og(d))}(i.query),new pl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,mo.fromBase64String(i.resumeToken));var d}function Jf(i,e){const r=Du(e.snapshotVersion),s=Du(e.lastLimboFreeSnapshotVersion);let l;l=zc(e.target)?Yf(i.ut,e.target):Kf(i.ut,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ll(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function ep(i){const e=Og({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ul(e,e.limit,"L"):e}function Th(i,e){return new hl(e.largestBatchId,td(i.ut,e.overlayMutation))}function ls(i,e){const r=e.path.lastSegment();return[i,$i(e.path.popLast()),r]}function nd(i,e,r,s){return{indexId:i,uid:e.uid||"",sequenceNumber:r,readTime:Du(s.readTime),documentKey:$i(s.documentKey.path),largestBatchId:s.largestBatchId}}class F_{getBundleMetadata(e,r){return Ng(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Qu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return Ng(e).put({bundleId:(l=r).id,createTime:Du(Hi(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return L_(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:ep(d.bundledQuery),readTime:Qu(d.readTime)};var d})}saveNamedQuery(e,r){return L_(e).put({name:(l=r).name,readTime:Du(Hi(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Ng(i){return ao(i,"bundles")}function L_(i){return ao(i,"namedQueries")}class Dh{constructor(e,r){this.serializer=e,this.userId=r}static ct(e,r){return new Dh(e,r.uid||"")}getOverlay(e,r){return Ch(e).get(ls(this.userId,r)).next(s=>s?Th(this.serializer,s):null)}getOverlays(e,r){const s=Rs();return v.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((d,g)=>{const S=new hl(r,g);l.push(this.lt(e,S))}),v.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(g=>l.add($i(g.getCollectionPath())));const d=[];return l.forEach(g=>{const S=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);d.push(Ch(e).H("collectionPathOverlayIndex",S))}),v.waitFor(d)}getOverlaysForCollection(e,r,s){const l=Rs(),d=$i(r),g=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Ch(e).W("collectionPathOverlayIndex",g).next(S=>{for(const R of S){const H=Th(this.serializer,R);l.set(H.getKey(),H)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const d=Rs();let g;const S=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ch(e).Y({index:"collectionGroupOverlayIndex",range:S},(R,H,te)=>{const Ae=Th(this.serializer,H);d.size()<l||Ae.largestBatchId===g?(d.set(Ae.getKey(),Ae),g=Ae.largestBatchId):te.done()}).next(()=>d)}lt(e,r){return Ch(e).put(function(l,d,g){const[S,R,H]=ls(d,g.mutation.key);return{userId:d,collectionPath:R,documentId:H,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Ih(l.ut,g.mutation)}}(this.serializer,this.userId,r))}}function Ch(i){return ao(i,"documentOverlays")}class Cu{constructor(){}ht(e,r){this.Pt(e,r),r.It()}Pt(e,r){if("nullValue"in e)this.Tt(r,5);else if("booleanValue"in e)this.Tt(r,10),r.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(r,15),r.Et(no(e.integerValue));else if("doubleValue"in e){const s=no(e.doubleValue);isNaN(s)?this.Tt(r,13):(this.Tt(r,15),Xs(s)?r.Et(0):r.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(r,20),"string"==typeof s?r.dt(s):(r.dt(`${s.seconds||""}`),r.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,r),this.Rt(r);else if("bytesValue"in e)this.Tt(r,30),r.Vt(js(e.bytesValue)),this.Rt(r);else if("referenceValue"in e)this.ft(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(r,45),r.Et(s.latitude||0),r.Et(s.longitude||0)}else"mapValue"in e?Uc(e)?this.Tt(r,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,r),this.Rt(r)):"arrayValue"in e?(this.yt(e.arrayValue,r),this.Rt(r)):Rn()}At(e,r){this.Tt(r,25),this.wt(e,r)}wt(e,r){r.dt(e)}gt(e,r){const s=e.fields||{};this.Tt(r,55);for(const l of Object.keys(s))this.At(l,r),this.Pt(s[l],r)}yt(e,r){const s=e.values||[];this.Tt(r,50);for(const l of s)this.Pt(l,r)}ft(e,r){this.Tt(r,37),fn.fromName(e).path.forEach(s=>{this.Tt(r,60),this.wt(s,r)})}Tt(e,r){e.Et(r)}Rt(e){e.Et(2)}}function qy(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function kg(i){const e=64-function(s){let l=0;for(let d=0;d<8;++d){const g=qy(255&s[d]);if(l+=g,8!==g)break}return l}(i);return Math.ceil(e/8)}Cu.St=new Cu;class Yy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Dt(s.value),s=r.next();this.Ct()}vt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const l=r.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const l=r.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const r=this.Bt(e),s=kg(r);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}kt(e){const r=this.Bt(e),s=kg(r);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(d){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,d,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Dt(e){const r=255&e;0===r?(this.Qt(0),this.Qt(255)):255===r?(this.Qt(255),this.Qt(0)):this.Qt(r)}Ft(e){const r=255&e;0===r?(this.$t(0),this.$t(255)):255===r?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Ky{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Fg{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Ju{constructor(){this.Wt=new Yy,this.Gt=new Ky(this.Wt),this.zt=new Fg(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class ec{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Ht(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ec(this.indexId,this.documentKey,this.arrayValue,s)}}function Ta(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=V_(i.arrayValue,e.arrayValue),0!==r?r:(r=V_(i.directionalValue,e.directionalValue),0!==r?r:fn.comparator(i.documentKey,e.documentKey)))}function V_(i,e){for(let r=0;r<i.length&&r<e.length;++r){const s=i[r]-e[r];if(0!==s)return s}return i.length-e.length}class B_{constructor(e){this.Jt=new si((r,s)=>ui.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(xn(e.collectionGroup===this.collectionId),this.Xt)return!1;const r=Rc(e);if(void 0!==r&&!this.tn(r))return!1;const s=$s(e);let l=new Set,d=0,g=0;for(;d<s.length&&this.tn(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Jt.size>0){const S=this.Jt.getIterator().getNext();if(!l.has(S.field.canonicalString())){const R=s[d];if(!this.nn(S,R)||!this.rn(this.Yt[g++],R))return!1}++d}for(;d<s.length;++d)if(g>=this.Yt.length||!this.rn(this.Yt[g++],s[d]))return!1;return!0}sn(){if(this.Xt)return null;let e=new si(ui.comparator);const r=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new po(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new po(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new po(s.field,"asc"===s.dir?0:1)));return new Zs(Zs.UNKNOWN_ID,this.collectionId,r,No.empty())}tn(e){for(const r of this.Zt)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Lg(i){var e,r;if(xn(i instanceof Ur||i instanceof ti),i instanceof Ur){if(i instanceof Lf){const l=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Ur.create(i.field,"==",d)))||[];return ti.create(l,"or")}return i}const s=i.filters.map(l=>Lg(l));return ti.create(s,i.op)}function $_(i){if(0===i.getFilters().length)return[];const e=np(Lg(i));return xn(wh(e)),tp(e)||wu(e)?[e]:e.getFilters()}function tp(i){return i instanceof Ur}function wu(i){return i instanceof ti&&Pf(i)}function wh(i){return tp(i)||wu(i)||function(r){if(r instanceof ti&&ju(r)){for(const s of r.getFilters())if(!tp(s)&&!wu(s))return!1;return!0}return!1}(i)}function np(i){if(xn(i instanceof Ur||i instanceof ti),i instanceof Ur)return i;if(1===i.filters.length)return np(i.filters[0]);const e=i.filters.map(s=>np(s));let r=ti.create(e,i.op);return r=rp(r),wh(r)?r:(xn(r instanceof ti),xn(ya(r)),xn(r.filters.length>1),r.filters.reduce((s,l)=>bh(s,l)))}function bh(i,e){let r;return xn(i instanceof Ur||i instanceof ti),xn(e instanceof Ur||e instanceof ti),r=i instanceof Ur?e instanceof Ur?ti.create([i,e],"and"):Ah(i,e):e instanceof Ur?Ah(e,i):function(l,d){if(xn(l.filters.length>0&&d.filters.length>0),ya(l)&&ya(d))return mu(l,d.getFilters());const g=ju(l)?l:d,S=ju(l)?d:l,R=g.filters.map(H=>bh(H,S));return ti.create(R,"or")}(i,e),rp(r)}function Ah(i,e){if(ya(e))return mu(e,i.getFilters());{const r=e.filters.map(s=>bh(i,s));return ti.create(r,"or")}}function rp(i){if(xn(i instanceof Ur||i instanceof ti),i instanceof Ur)return i;const e=i.getFilters();if(1===e.length)return rp(e[0]);if(eh(i))return i;const r=e.map(l=>rp(l)),s=[];return r.forEach(l=>{l instanceof Ur?s.push(l):l instanceof ti&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:ti.create(s,i.op)}class Zy{constructor(){this.on=new Vg}addToCollectionParentIndex(e,r){return this.on.add(r),v.resolve()}getCollectionParents(e,r){return v.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return v.resolve()}deleteFieldIndex(e,r){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,r){return v.resolve()}getDocumentsMatchingTarget(e,r){return v.resolve(null)}getIndexType(e,r){return v.resolve(0)}getFieldIndexes(e,r){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,r){return v.resolve(is.min())}getMinOffsetFromCollectionGroup(e,r){return v.resolve(is.min())}updateCollectionGroup(e,r,s){return v.resolve()}updateIndexEntries(e,r){return v.resolve()}}class Vg{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new si(Rr.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new si(Rr.comparator)).toArray()}}const ip=new Uint8Array(0);class Qy{constructor(e,r){this.user=e,this.databaseId=r,this._n=new Vg,this.an=new ia(s=>ll(s),(s,l)=>Va(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this._n.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this._n.add(r)});const d={collectionId:s,parent:$i(l)};return U_(e).put(d)}return v.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[cu(r),""],!1,!0);return U_(e).W(l).next(d=>{for(const g of d){if(g.collectionId!==r)break;s.push(Ss(g.parent))}return s})}addFieldIndex(e,r){const s=Kl(e),l={indexId:(S=r).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var S;delete l.indexId;const d=s.add(l);if(r.indexState){const g=Zl(e);return d.next(S=>{g.put(nd(S,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Kl(e),l=Zl(e),d=tc(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Kl(e),s=tc(e),l=Zl(e);return r.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,r){return v.forEach(this.un(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const d=new B_(s).sn();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=tc(e);let l=!0;const d=new Map;return v.forEach(this.un(r),g=>this.cn(e,g).next(S=>{l&&(l=!!S),d.set(g,S)})).next(()=>{if(l){let g=Tr();const S=[];return v.forEach(d,(R,H)=>{var nr;Ut("IndexedDbIndexManager",`Using index ${nr=R,`id=${nr.indexId}|cg=${nr.collectionGroup}|f=${nr.fields.map(Mr=>`${Mr.fieldPath}:${Mr.kind}`).join(",")}`} to execute ${ll(r)}`);const te=function(nr,Mr){const ci=Rc(Mr);if(void 0===ci)return null;for(const Jr of Bl(nr,ci.fieldPath))switch(Jr.op){case"array-contains-any":return Jr.value.arrayValue.values||[];case"array-contains":return[Jr.value]}return null}(H,R),Ae=function(nr,Mr){const ci=new Map;for(const Jr of $s(Mr))for(const yo of Bl(nr,Jr.fieldPath))switch(yo.op){case"==":case"in":ci.set(Jr.fieldPath.canonicalString(),yo.value);break;case"not-in":case"!=":return ci.set(Jr.fieldPath.canonicalString(),yo.value),Array.from(ci.values())}return null}(H,R),tt=function(nr,Mr){const ci=[];let Jr=!0;for(const yo of $s(Mr)){const Xo=0===yo.kind?Vf(nr,yo.fieldPath,nr.startAt):rh(nr,yo.fieldPath,nr.startAt);ci.push(Xo.value),Jr&&(Jr=Xo.inclusive)}return new bi(ci,Jr)}(H,R),It=function(nr,Mr){const ci=[];let Jr=!0;for(const yo of $s(Mr)){const Xo=0===yo.kind?rh(nr,yo.fieldPath,nr.endAt):Vf(nr,yo.fieldPath,nr.endAt);ci.push(Xo.value),Jr&&(Jr=Xo.inclusive)}return new bi(ci,Jr)}(H,R),sn=this.ln(R,H,tt),gn=this.ln(R,H,It),ln=this.hn(R,H,Ae),Qn=this.Pn(R.indexId,te,sn,tt.inclusive,gn,It.inclusive,ln);return v.forEach(Qn,sr=>s.j(sr,r.limit).next(nr=>{nr.forEach(Mr=>{const ci=fn.fromSegments(Mr.documentKey);g.has(ci)||(g=g.add(ci),S.push(ci))})}))}).next(()=>S)}return v.resolve(null)})}un(e){let r=this.an.get(e);return r||(r=0===e.filters.length?[e]:$_(ti.create(e.filters,"and")).map(s=>La(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,r),r)}Pn(e,r,s,l,d,g,S){const R=(null!=r?r.length:1)*Math.max(s.length,d.length),H=R/(null!=r?r.length:1),te=[];for(let Ae=0;Ae<R;++Ae){const tt=r?this.In(r[Ae/H]):ip,It=this.Tn(e,tt,s[Ae%H],l),sn=this.En(e,tt,d[Ae%H],g),gn=S.map(ln=>this.Tn(e,tt,ln,!0));te.push(...this.createRange(It,sn,gn))}return te}Tn(e,r,s,l){const d=new ec(e,fn.empty(),r,s);return l?d:d.Ht()}En(e,r,s,l){const d=new ec(e,fn.empty(),r,s);return l?d.Ht():d}cn(e,r){const s=new B_(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let g=null;for(const S of d)s.en(S)&&(!g||S.fields.length>g.fields.length)&&(g=S);return g})}getIndexType(e,r){let s=2;const l=this.un(r);return v.forEach(l,d=>this.cn(e,d).next(g=>{g?0!==s&&g.fields.length<function(R){let H=new si(ui.comparator),te=!1;for(const Ae of R.filters)for(const tt of Ae.getFlattenedFilters())tt.field.isKeyField()||("array-contains"===tt.op||"array-contains-any"===tt.op?te=!0:H=H.add(tt.field));for(const Ae of R.orderBy)Ae.field.isKeyField()||(H=H.add(Ae.field));return H.size+(te?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}dn(e,r){const s=new Ju;for(const l of $s(e)){const d=r.data.field(l.fieldPath);if(null==d)return null;const g=s.jt(l.kind);Cu.St.ht(d,g)}return s.Ut()}In(e){const r=new Ju;return Cu.St.ht(e,r.jt(0)),r.Ut()}An(e,r){const s=new Ju;return Cu.St.ht(Gs(this.databaseId,r),s.jt(function(d){const g=$s(d);return 0===g.length?0:g[g.length-1].kind}(e))),s.Ut()}hn(e,r,s){if(null===s)return[];let l=[];l.push(new Ju);let d=0;for(const g of $s(e)){const S=s[d++];for(const R of l)if(this.Rn(r,g.fieldPath)&&Fa(S))l=this.Vn(l,g,S);else{const H=R.jt(g.kind);Cu.St.ht(S,H)}}return this.mn(l)}ln(e,r,s){return this.hn(e,r,s.position)}mn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Ut();return r}Vn(e,r,s){const l=[...e],d=[];for(const g of s.arrayValue.values||[])for(const S of l){const R=new Ju;R.seed(S.Ut()),Cu.St.ht(g,R.jt(r.kind)),d.push(R)}return d}Rn(e,r){return!!e.filters.find(s=>s instanceof Ur&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Kl(e),l=Zl(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const g=[];return v.forEach(d,S=>l.get([S.indexId,this.uid]).next(R=>{g.push(function(te,Ae){const tt=Ae?new No(Ae.sequenceNumber,new is(Qu(Ae.readTime),new fn(Ss(Ae.documentKey)),Ae.largestBatchId)):No.empty(),It=te.fields.map(([sn,gn])=>new po(ui.fromServerFormat(sn),gn));return new Zs(te.indexId,te.collectionGroup,It,tt)}(S,R))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:ft(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=Kl(e),d=Zl(e);return this.fn(e).next(g=>l.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(S=>v.forEach(S,R=>d.put(nd(R.indexId,this.user,g,s)))))}updateIndexEntries(e,r){const s=new Map;return v.forEach(r,(l,d)=>{const g=s.get(l.collectionGroup);return(g?v.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(S=>(s.set(l.collectionGroup,S),v.forEach(S,R=>this.gn(e,l,R).next(H=>{const te=this.pn(d,R);return H.isEqual(te)?v.resolve():this.yn(e,d,R,H,te)}))))})}wn(e,r,s,l){return tc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(s,r.key),documentKey:r.key.path.toArray()})}Sn(e,r,s,l){return tc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(s,r.key),r.key.path.toArray()])}gn(e,r,s){const l=tc(e);let d=new si(Ta);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,r)])},(g,S)=>{d=d.add(new ec(s.indexId,r,S.arrayValue,S.directionalValue))}).next(()=>d)}pn(e,r){let s=new si(Ta);const l=this.dn(r,e);if(null==l)return s;const d=Rc(r);if(null!=d){const g=e.data.field(d.fieldPath);if(Fa(g))for(const S of g.arrayValue.values||[])s=s.add(new ec(r.indexId,e.key,this.In(S),l))}else s=s.add(new ec(r.indexId,e.key,ip,l));return s}yn(e,r,s,l,d){Ut("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(R,H,te,Ae,tt){const It=R.getIterator(),sn=H.getIterator();let gn=_a(It),ln=_a(sn);for(;gn||ln;){let Qn=!1,sr=!1;if(gn&&ln){const nr=te(gn,ln);nr<0?sr=!0:nr>0&&(Qn=!0)}else null!=gn?sr=!0:Qn=!0;Qn?(Ae(ln),ln=_a(sn)):sr?(tt(gn),gn=_a(It)):(gn=_a(It),ln=_a(sn))}}(l,d,Ta,S=>{g.push(this.wn(e,r,s,S))},S=>{g.push(this.Sn(e,r,s,S))}),v.waitFor(g)}fn(e){let r=1;return Zl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((g,S)=>Ta(g,S)).filter((g,S,R)=>!S||0!==Ta(g,R[S-1]));const l=[];l.push(e);for(const g of s){const S=Ta(g,e),R=Ta(g,r);if(0===S)l[0]=e.Ht();else if(S>0&&R<0)l.push(g),l.push(g.Ht());else if(R>0)break}l.push(r);const d=[];for(let g=0;g<l.length;g+=2){if(this.bn(l[g],l[g+1]))return[];d.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,ip,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,ip,[]]))}return d}bn(e,r){return Ta(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(op)}getMinOffset(e,r){return v.mapArray(this.un(r),s=>this.cn(e,s).next(l=>l||Rn())).next(op)}}function U_(i){return ao(i,"collectionParents")}function tc(i){return ao(i,"indexEntries")}function Kl(i){return ao(i,"indexConfiguration")}function Zl(i){return ao(i,"indexState")}function op(i){xn(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Yd(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new is(e.readTime,e.documentKey,r)}const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sp(i,e,r){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],g=IDBKeyRange.only(r.batchId);let S=0;const R=s.Y({range:g},(te,Ae,tt)=>(S++,tt.delete()));d.push(R.next(()=>{xn(1===S)}));const H=[];for(const te of r.mutations){const Ae=xl(e,te.key.path,r.batchId);d.push(l.delete(Ae)),H.push(te.key)}return v.waitFor(d).next(()=>H)}function Sh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Rn();e=i.noDocument}return JSON.stringify(e).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class gl{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Dn={}}static ct(e,r,s,l){xn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new gl(d,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).Y({index:"userMutationsIndex",range:s},(l,d,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const d=rd(e),g=Ql(e);return g.add({}).next(S=>{xn("number"==typeof S);const R=new Eu(S,r,s,l),H=function(It,sn,gn){const ln=gn.baseMutations.map(sr=>Ih(It.ut,sr)),Qn=gn.mutations.map(sr=>Ih(It.ut,sr));return{userId:sn,batchId:gn.batchId,localWriteTimeMs:gn.localWriteTime.toMillis(),baseMutations:ln,mutations:Qn}}(this.serializer,this.userId,R),te=[];let Ae=new si((tt,It)=>ft(tt.canonicalString(),It.canonicalString()));for(const tt of l){const It=xl(this.userId,tt.key.path,S);Ae=Ae.add(tt.key.path.popLast()),te.push(g.put(H)),te.push(d.put(It,Ol))}return Ae.forEach(tt=>{te.push(this.indexManager.addToCollectionParentIndex(e,tt))}),e.addOnCommittedListener(()=>{this.Dn[S]=R.keys()}),v.waitFor(te).next(()=>R)})}lookupMutationBatch(e,r){return Ql(e).get(r).next(s=>s?(xn(s.userId===this.userId),Xu(this.serializer,s)):null)}Cn(e,r){return this.Dn[r]?v.resolve(this.Dn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Dn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Ql(e).Y({index:"userMutationsIndex",range:l},(g,S,R)=>{S.userId===this.userId&&(xn(S.batchId>=s),d=Xu(this.serializer,S)),R.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ql(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).W("userMutationsIndex",r).next(s=>s.map(l=>Xu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=xc(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return rd(e).Y({range:l},(g,S,R)=>{const[H,te,Ae]=g,tt=Ss(te);if(H===this.userId&&r.path.isEqual(tt))return Ql(e).get(Ae).next(It=>{if(!It)throw Rn();xn(It.userId===this.userId),d.push(Xu(this.serializer,It))});R.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new si(ft);const l=[];return r.forEach(d=>{const g=xc(this.userId,d.path),S=IDBKeyRange.lowerBound(g),R=rd(e).Y({range:S},(H,te,Ae)=>{const[tt,It,sn]=H,gn=Ss(It);tt===this.userId&&d.path.isEqual(gn)?s=s.add(sn):Ae.done()});l.push(R)}),v.waitFor(l).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,d=xc(this.userId,s),g=IDBKeyRange.lowerBound(d);let S=new si(ft);return rd(e).Y({range:g},(R,H,te)=>{const[Ae,tt,It]=R,sn=Ss(tt);Ae===this.userId&&s.isPrefixOf(sn)?sn.length===l&&(S=S.add(It)):te.done()}).next(()=>this.vn(e,S))}vn(e,r){const s=[],l=[];return r.forEach(d=>{l.push(Ql(e).get(d).next(g=>{if(null===g)throw Rn();xn(g.userId===this.userId),s.push(Xu(this.serializer,g))}))}),v.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return sp(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Fn(r.batchId)}),v.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return v.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return rd(e).Y({range:s},(d,g,S)=>{if(d[0]===this.userId){const R=Ss(d[1]);l.push(R)}else S.done()}).next(()=>{xn(0===l.length)})})}containsKey(e,r){return Bg(e,this.userId,r)}Mn(e){return Xy(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bg(i,e,r){const s=xc(e,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return rd(i).Y({range:d,J:!0},(S,R,H)=>{const[te,Ae,tt]=S;te===e&&Ae===l&&(g=!0),H.done()}).next(()=>g)}function Ql(i){return ao(i,"mutations")}function rd(i){return ao(i,"documentMutations")}function Xy(i){return ao(i,"mutationQueues")}class ml{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ml(0)}static Nn(){return new ml(-1)}}class Jy{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new ml(r.highestTargetId);return r.highestTargetId=s.next(),this.Ln(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>cn.fromTimestamp(new Ii(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.Ln(e,l)))}addTargetData(e,r){return this.kn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(r,s),this.Ln(e,s))))}updateTargetData(e,r){return this.kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>nc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(xn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,r,s){let l=0;const d=[];return nc(e).Y((g,S)=>{const R=Ko(S);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(l++,d.push(this.removeTargetData(e,R)))}).next(()=>v.waitFor(d)).next(()=>l)}forEachTarget(e,r){return nc(e).Y((s,l)=>{const d=Ko(l);r(d)})}Bn(e){return $g(e).get("targetGlobalKey").next(r=>(xn(null!==r),r))}Ln(e,r){return $g(e).put("targetGlobalKey",r)}kn(e,r){return nc(e).put(Jf(this.serializer,r))}qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=ll(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return nc(e).Y({range:l,index:"queryTargetsIndex"},(g,S,R)=>{const H=Ko(S);Va(r,H.target)&&(d=H,R.done())}).next(()=>d)}addMatchingKeys(e,r,s){const l=[],d=Xl(e);return r.forEach(g=>{const S=$i(g.path);l.push(d.put({targetId:s,path:S})),l.push(this.referenceDelegate.addReference(e,s,g))}),v.waitFor(l)}removeMatchingKeys(e,r,s){const l=Xl(e);return v.forEach(r,d=>{const g=$i(d.path);return v.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=Xl(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Xl(e);let d=Tr();return l.Y({range:s,J:!0},(g,S,R)=>{const H=Ss(g[1]),te=new fn(H);d=d.add(te)}).next(()=>d)}containsKey(e,r){const s=$i(r.path),l=IDBKeyRange.bound([s],[cu(s)],!1,!0);let d=0;return Xl(e).Y({index:"documentTargetsIndex",J:!0,range:l},([g,S],R,H)=>{0!==g&&(d++,H.done())}).next(()=>d>0)}_t(e,r){return nc(e).get(r).next(s=>s?Ko(s):null)}}function nc(i){return ao(i,"targets")}function $g(i){return ao(i,"targetGlobal")}function Xl(i){return ao(i,"targetDocuments")}function ap([i,e],[r,s]){const l=ft(i,r);return 0===l?ft(e,s):l}class H_{constructor(e){this.Qn=e,this.buffer=new si(ap),this.Kn=0}$n(){return++this.Kn}Un(e){const r=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();ap(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Rh{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var r=this;Ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,he.Z)(function*(){r.Wn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Lt(s)?Ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield A(s)}yield r.Gn(3e5)}))}}class Mh{constructor(e,r){this.zn=e,this.params=r}calculateTargetCount(e,r){return this.zn.jn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return v.resolve(mr._e);const s=new H_(r);return this.zn.forEachTarget(e,l=>s.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>s.Un(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.zn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.zn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector","Garbage collection skipped; disabled"),v.resolve(j_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.Jn(e,r))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,r){let s,l,d,g,S,R,H;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(Ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),l=this.params.maximumSequenceNumbersToCollect):l=Ae,g=Date.now(),this.nthSequenceNumber(e,l))).next(Ae=>(s=Ae,S=Date.now(),this.removeTargets(e,s,r))).next(Ae=>(d=Ae,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ae=>(H=Date.now(),As()<=Ee.in.DEBUG&&Ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-te}ms\n\tDetermined least recently used ${l} in `+(S-g)+`ms\n\tRemoved ${d} targets in `+(R-S)+`ms\n\tRemoved ${Ae} documents in `+(H-R)+`ms\nTotal Duration: ${H-te}ms`),v.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:Ae})))}}class jg{constructor(e,r){this.db=e,this.garbageCollector=function Ug(i,e){return new Mh(i,e)}(this,r)}jn(e){const r=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Yn(e){let r=0;return this.Hn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Hn(e,r){return this.Zn(e,(s,l)=>r(l))}addReference(e,r,s){return rc(e,s)}removeReference(e,r,s){return rc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return rc(e,r)}Xn(e,r){return function(l,d){let g=!1;return Xy(l).Z(S=>Bg(l,S,d).next(R=>(R&&(g=!0),v.resolve(!R)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Zn(e,(g,S)=>{if(S<=r){const R=this.Xn(e,g).next(H=>{if(!H)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g,cn.min()),Xl(e).delete([0,$i(g.path)])))});l.push(R)}}).next(()=>v.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return rc(e,r)}Zn(e,r){const s=Xl(e);let l,d=mr._e;return s.Y({index:"documentTargetsIndex"},([g,S],{path:R,sequenceNumber:H})=>{0===g?(d!==mr._e&&r(new fn(Ss(l)),d),d=H,l=R):d=mr._e}).next(()=>{d!==mr._e&&r(new fn(Ss(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rc(i,e){return Xl(i).put((l=i.currentSequenceNumber,{targetId:0,path:$i(e.path),sequenceNumber:l}));var l}class Hg{constructor(){this.changes=new ia(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?v.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return ic(e).put(s)}removeEntry(e,r,s){return ic(e).delete(function(d,g){const S=d.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],Xf(g),S[S.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.er(e,s)))}getEntry(e,r){let s=ki.newInvalidDocument(r);return ic(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ph(r))},(l,d)=>{s=this.tr(r,d)}).next(()=>s)}nr(e,r){let s={size:0,document:ki.newInvalidDocument(r)};return ic(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ph(r))},(l,d)=>{s={document:this.tr(r,d),size:Sh(d)}}).next(()=>s)}getEntries(e,r){let s=ss();return this.rr(e,r,(l,d)=>{const g=this.tr(l,d);s=s.insert(l,g)}).next(()=>s)}ir(e,r){let s=ss(),l=new $r(fn.comparator);return this.rr(e,r,(d,g)=>{const S=this.tr(d,g);s=s.insert(d,S),l=l.insert(d,Sh(g))}).next(()=>({documents:s,sr:l}))}rr(e,r,s){if(r.isEmpty())return v.resolve();let l=new si(Wg);r.forEach(R=>l=l.add(R));const d=IDBKeyRange.bound(Ph(l.first()),Ph(l.last())),g=l.getIterator();let S=g.getNext();return ic(e).Y({index:"documentKeyIndex",range:d},(R,H,te)=>{const Ae=fn.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;S&&Wg(S,Ae)<0;)s(S,null),S=g.getNext();S&&S.isEqual(Ae)&&(s(S,H),S=g.hasNext()?g.getNext():null),S?te.U(Ph(S)):te.done()}).next(()=>{for(;S;)s(S,null),S=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,d){const g=r.path,S=[g.popLast().toArray(),g.lastSegment(),Xf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).W(IDBKeyRange.bound(S,R,!0)).next(H=>{null==d||d.incrementDocumentReadCount(H.length);let te=ss();for(const Ae of H){const tt=this.tr(fn.fromSegments(Ae.prefixPath.concat(Ae.collectionGroup,Ae.documentId)),Ae);tt.isFoundDocument()&&(zu(r,tt)||l.has(tt.key))&&(te=te.insert(tt.key,tt))}return te})}getAllFromCollectionGroup(e,r,s,l){let d=ss();const g=z_(r,s),S=z_(r,is.max());return ic(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,S,!0)},(R,H,te)=>{const Ae=this.tr(fn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);d=d.insert(Ae.key,Ae),d.size===l&&te.done()}).next(()=>d)}newChangeBuffer(e){return new e0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Gg(e).get("remoteDocumentGlobalKey").next(r=>(xn(!!r),r))}er(e,r){return Gg(e).put("remoteDocumentGlobalKey",r)}tr(e,r){if(r){const s=function Wy(i,e){let r;if(e.document)r=xg(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=fn.fromSegments(e.noDocument.path),l=Qu(e.noDocument.readTime);r=ki.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rn();{const s=fn.fromSegments(e.unknownDocument.path),l=Qu(e.unknownDocument.version);r=ki.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const d=new Ii(l[0],l[1]);return cn.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(cn.min()))return s}return ki.newInvalidDocument(e)}}function id(i){return new zg(i)}class e0 extends Hg{constructor(e,r){super(),this._r=e,this.trackRemovals=r,this.ar=new ia(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new si((d,g)=>ft(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const S=this.ar.get(d);if(r.push(this._r.removeEntry(e,d,S.readTime)),g.isValidDocument()){const R=k_(this._r.serializer,g);l=l.add(d.path.popLast());const H=Sh(R);s+=H-S.size,r.push(this._r.addEntry(e,d,R))}else if(s-=S.size,this.trackRemovals){const R=k_(this._r.serializer,g.convertToNoDocument(cn.min()));r.push(this._r.addEntry(e,d,R))}}),l.forEach(d=>{r.push(this._r.indexManager.addToCollectionParentIndex(e,d))}),r.push(this._r.updateMetadata(e,s)),v.waitFor(r)}getFromCache(e,r){return this._r.nr(e,r).next(s=>(this.ar.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this._r.ir(e,r).next(({documents:s,sr:l})=>(l.forEach((d,g)=>{this.ar.set(d,{size:g,readTime:s.get(d).readTime})}),s))}}function Gg(i){return ao(i,"remoteDocumentGlobal")}function ic(i){return ao(i,"remoteDocumentsV14")}function Ph(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function z_(i,e){const r=e.documentKey.path.toArray();return[i,Xf(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Wg(i,e){const r=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(l=ft(r[d],s[d]),l)return l;return l=ft(r.length,s.length),l||(l=ft(r[r.length-2],s[s.length-2]),l||ft(r[r.length-1],s[s.length-1]))}class G_{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class xh{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&Iu(s.mutation,l,Wo.empty(),Ii.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Tr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Tr()){const l=Rs();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(d=>{let g=jl();return d.forEach((S,R)=>{g=g.insert(S,R.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Rs();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Tr()))}populateOverlays(e,r,s){const l=[];return s.forEach(d=>{r.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((g,S)=>{r.set(g,S)})})}computeViews(e,r,s,l){let d=ss();const g=$a(),S=$a();return r.forEach((R,H)=>{const te=s.get(H.key);l.has(H.key)&&(void 0===te||te.mutation instanceof dl)?d=d.insert(H.key,H):void 0!==te?(g.set(H.key,te.mutation.getFieldMask()),Iu(te.mutation,H,te.mutation.getFieldMask(),Ii.now())):g.set(H.key,Wo.empty())}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((H,te)=>g.set(H,te)),r.forEach((H,te)=>{var Ae;return S.set(H,new G_(te,null!==(Ae=g.get(H))&&void 0!==Ae?Ae:null))}),S))}recalculateAndSaveOverlays(e,r){const s=$a();let l=new $r((g,S)=>g-S),d=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const S of g)S.keys().forEach(R=>{const H=r.get(R);if(null===H)return;let te=s.get(R)||Wo.empty();te=S.applyToLocalView(H,te),s.set(R,te);const Ae=(l.get(S.batchId)||Tr()).add(R);l=l.insert(S.batchId,Ae)})}).next(()=>{const g=[],S=l.getReverseIterator();for(;S.hasNext();){const R=S.getNext(),H=R.key,te=R.value,Ae=Sg();te.forEach(tt=>{if(!d.has(tt)){const It=ms(r.get(tt),s.get(tt));null!==It&&Ae.set(tt,It),d=d.add(tt)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,Ae))}return v.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return fn.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ba(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var g}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(d=>{const g=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-d.size):v.resolve(Rs());let S=-1,R=d;return g.next(H=>v.forEach(H,(te,Ae)=>(S<Ae.largestBatchId&&(S=Ae.largestBatchId),d.get(te)?v.resolve():this.remoteDocumentCache.getEntry(e,te).next(tt=>{R=R.insert(te,tt)}))).next(()=>this.populateOverlays(e,H,d)).next(()=>this.computeViews(e,R,H,Tr())).next(te=>({batchId:S,changes:Gu(te)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fn(r)).next(s=>{let l=jl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const d=r.collectionGroup;let g=jl();return this.indexManager.getCollectionParents(e,d).next(S=>v.forEach(S,R=>{const H=(Ae=r,tt=R.child(d),new na(tt,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt));var Ae,tt;return this.getDocumentsMatchingCollectionQuery(e,H,s,l).next(te=>{te.forEach((Ae,tt)=>{g=g.insert(Ae,tt)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,l))).next(g=>{d.forEach((R,H)=>{const te=H.getKey();null===g.get(te)&&(g=g.insert(te,ki.newInvalidDocument(te)))});let S=jl();return g.forEach((R,H)=>{const te=d.get(R);void 0!==te&&Iu(te.mutation,H,Wo.empty(),Ii.now()),zu(r,H)&&(S=S.insert(R,H))}),S})}}class qg{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return v.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,{id:(l=r).id,version:l.version,createTime:Hi(l.createTime)}),v.resolve();var l}getNamedQuery(e,r){return v.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,{name:(l=r).name,query:ep(l.bundledQuery),readTime:Hi(l.readTime)}),v.resolve();var l}}class od{constructor(){this.overlays=new $r(fn.comparator),this.lr=new Map}getOverlay(e,r){return v.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Rs();return v.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,d)=>{this.lt(e,r,d)}),v.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.lr.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.lr.delete(s)),v.resolve()}getOverlaysForCollection(e,r,s){const l=Rs(),d=r.length+1,g=new fn(r.child("")),S=this.overlays.getIteratorFrom(g);for(;S.hasNext();){const R=S.getNext().value,H=R.getKey();if(!r.isPrefixOf(H.path))break;H.path.length===d&&R.largestBatchId>s&&l.set(R.getKey(),R)}return v.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let d=new $r((H,te)=>H-te);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===r&&H.largestBatchId>s){let te=d.get(H.largestBatchId);null===te&&(te=Rs(),d=d.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const S=Rs(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((H,te)=>S.set(H,te)),!(S.size()>=l)););return v.resolve(S)}lt(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.lr.get(l.largestBatchId).delete(s.key);this.lr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new hl(r,s));let d=this.lr.get(r);void 0===d&&(d=Tr(),this.lr.set(r,d)),this.lr.set(r,d.add(s.key))}}class Yg{constructor(){this.hr=new si(Zo.Pr),this.Ir=new si(Zo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const s=new Zo(e,r);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.dr(new Zo(e,r))}Ar(e,r){e.forEach(s=>this.removeReference(s,r))}Rr(e){const r=new fn(new Rr([])),s=new Zo(r,e),l=new Zo(r,e+1),d=[];return this.Ir.forEachInRange([s,l],g=>{this.dr(g),d.push(g.key)}),d}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new fn(new Rr([])),s=new Zo(r,e),l=new Zo(r,e+1);let d=Tr();return this.Ir.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(e){const r=new Zo(e,0),s=this.hr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Zo{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return fn.comparator(e.key,r.key)||ft(e.gr,r.gr)}static Tr(e,r){return ft(e.gr,r.gr)||fn.comparator(e.key,r.key)}}class RE{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new si(Zo.Pr)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const d=this.pr;this.pr++;const g=new Eu(d,r,s,l);this.mutationQueue.push(g);for(const S of l)this.yr=this.yr.add(new Zo(S.key,d)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return v.resolve(g)}lookupMutationBatch(e,r){return v.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.Sr(r+1),d=l<0?0:l;return v.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Zo(r,0),l=new Zo(r,Number.POSITIVE_INFINITY),d=[];return this.yr.forEachInRange([s,l],g=>{const S=this.wr(g.gr);d.push(S)}),v.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new si(ft);return r.forEach(l=>{const d=new Zo(l,0),g=new Zo(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([d,g],S=>{s=s.add(S.gr)})}),v.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let d=s;fn.isDocumentKey(d)||(d=d.child(""));const g=new Zo(new fn(d),0);let S=new si(ft);return this.yr.forEachWhile(R=>{const H=R.key.path;return!!s.isPrefixOf(H)&&(H.length===l&&(S=S.add(R.gr)),!0)},g),v.resolve(this.br(S))}br(e){const r=[];return e.forEach(s=>{const l=this.wr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){xn(0===this.Dr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return v.forEach(r.mutations,l=>{const d=new Zo(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,r){const s=new Zo(r,0),l=this.yr.firstAfterOrEqual(s);return v.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return v.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class t0{constructor(e){this.Cr=e,this.docs=new $r(fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),d=l?l.size:0,g=this.Cr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return v.resolve(s?s.document.mutableCopy():ki.newInvalidDocument(r))}getEntries(e,r){let s=ss();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():ki.newInvalidDocument(l))}),v.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let d=ss();const g=r.path,S=new fn(g.child("")),R=this.docs.getIteratorFrom(S);for(;R.hasNext();){const{key:H,value:{document:te}}=R.getNext();if(!g.isPrefixOf(H.path))break;H.path.length>g.length+1||Yd(qd(te),s)<=0||(l.has(te.key)||zu(r,te))&&(d=d.insert(te.key,te.mutableCopy()))}return v.resolve(d)}getAllFromCollectionGroup(e,r,s,l){Rn()}vr(e,r){return v.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new lp(this)}getSize(e){return v.resolve(this.size)}}class lp extends Hg{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this._r.addEntry(e,l)):this._r.removeEntry(s)}),v.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}class Kg{constructor(e){this.persistence=e,this.Fr=new ia(r=>ll(r),Va),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Yg,this.targetCount=0,this.Nr=ml.On()}forEachTarget(e,r){return this.Fr.forEach((s,l)=>r(l)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Mr&&(this.Mr=r),v.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new ml(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,v.resolve()}updateTargetData(e,r){return this.kn(r),v.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,r,s){let l=0;const d=[];return this.Fr.forEach((g,S)=>{S.sequenceNumber<=r&&null===s.get(S.targetId)&&(this.Fr.delete(g),d.push(this.removeMatchingKeysForTargetId(e,S.targetId)),l++)}),v.waitFor(d).next(()=>l)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,r){const s=this.Fr.get(r)||null;return v.resolve(s)}addMatchingKeys(e,r,s){return this.Or.Er(r,s),v.resolve()}removeMatchingKeys(e,r,s){this.Or.Ar(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(g=>{d.push(l.markPotentiallyOrphaned(e,g))}),v.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),v.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Or.mr(r);return v.resolve(s)}containsKey(e,r){return v.resolve(this.Or.containsKey(r))}}class up{constructor(e,r){this.Br={},this.overlays={},this.Lr=new mr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Kg(this),this.indexManager=new Zy,this.remoteDocumentCache=new t0(s=>this.referenceDelegate.Qr(s)),this.serializer=new Qf(r),this.Kr=new qg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new od,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new RE(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,s){Ut("MemoryPersistence","Starting transaction:",e);const l=new W_(this.Lr.next());return this.referenceDelegate.$r(),s(l).next(d=>this.referenceDelegate.Ur(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Wr(e,r){return v.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class W_ extends T{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.Gr=new Yg,this.zr=null}static jr(e){return new Oh(e)}get Hr(){if(this.zr)return this.zr;throw Rn()}addReference(e,r,s){return this.Gr.addReference(s,r),this.Hr.delete(s.toString()),v.resolve()}removeReference(e,r,s){return this.Gr.removeReference(s,r),this.Hr.add(s.toString()),v.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),v.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(l=>this.Hr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(d=>this.Hr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Hr,s=>{const l=fn.fromPath(s);return this.Jr(e,l).next(d=>{d||r.removeEntry(l,cn.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(s=>{s?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return v.or([()=>v.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}class n0{constructor(e){this.serializer=e}N(e,r,s,l){const d=new N("createOrUpgrade",r);var R;s<1&&l>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ea,{unique:!0}),R.createObjectStore("documentMutations"),q_(e),function(R){R.createObjectStore("remoteDocuments")}(e));let g=v.resolve();return s<3&&l>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),q_(e)),g=g.next(()=>function(R){const H=R.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",te)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(R,H){return H.store("mutations").W().next(te=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ea,{unique:!0});const Ae=H.store("mutations"),tt=te.map(It=>Ae.put(It));return v.waitFor(tt)})}(e,d))),g=g.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.Zr(d))),s<6&&l>=6&&(g=g.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(d)))),s<7&&l>=7&&(g=g.next(()=>this.ei(d))),s<8&&l>=8&&(g=g.next(()=>this.ti(e,d))),s<9&&l>=9&&(g=g.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.ni(d))),s<11&&l>=11&&(g=g.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(R){const H=R.createObjectStore("documentOverlays",{keyPath:Tg});H.createIndex("collectionPathOverlayIndex",b_,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",bf,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(R){const H=R.createObjectStore("remoteDocumentsV14",{keyPath:du});H.createIndex("documentKeyIndex",Kd),H.createIndex("collectionGroupIndex",Oc)}(e)).next(()=>this.ri(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.ii(e,d))),s<15&&l>=15&&(g=g.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Eg}).createIndex("sequenceNumberIndex",Zd,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Qd}).createIndex("documentKeyIndex",wf,{unique:!1})}(e))),g}Xr(e){let r=0;return e.store("remoteDocuments").Y((s,l)=>{r+=Sh(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(l=>v.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",g).next(S=>v.forEach(S,R=>{xn(R.userId===d.userId);const H=Xu(this.serializer,R);return sp(e,d.userId,H).next(()=>{})}))}))}ei(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Y((g,S)=>{const R=new Rr(g),H=[0,$i(R)];d.push(r.get(H).next(te=>te?v.resolve():r.put({targetId:0,path:$i(R),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>v.waitFor(d))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:Lu});const s=r.store("collectionParents"),l=new Vg,d=g=>{if(l.add(g)){const S=g.lastSegment(),R=g.popLast();return s.put({collectionId:S,parent:$i(R)})}};return r.store("remoteDocuments").Y({J:!0},(g,S)=>{const R=new Rr(g);return d(R.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([g,S,R],H)=>{const te=Ss(S);return d(te.popLast())}))}ni(e){const r=e.store("targets");return r.Y((s,l)=>{const d=Ko(l),g=Jf(this.serializer,d);return r.put(g)})}ri(e,r){const s=r.store("remoteDocuments"),l=[];return s.Y((d,g)=>{const S=r.store("remoteDocumentsV14"),R=(Ae=g,Ae.document?new fn(Rr.fromString(Ae.document.name).popFirst(5)):Ae.noDocument?fn.fromSegments(Ae.noDocument.path):Ae.unknownDocument?fn.fromSegments(Ae.unknownDocument.path):Rn()).path.toArray(),H={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var Ae;l.push(S.put(H))}).next(()=>v.waitFor(l))}ii(e,r){const s=r.store("mutations"),l=id(this.serializer),d=new up(Oh.jr,this.serializer.ut);return s.W().next(g=>{const S=new Map;return g.forEach(R=>{var H;let te=null!==(H=S.get(R.userId))&&void 0!==H?H:Tr();Xu(this.serializer,R).keys().forEach(Ae=>te=te.add(Ae)),S.set(R.userId,te)}),v.forEach(S,(R,H)=>{const te=new Vr(H),Ae=Dh.ct(this.serializer,te),tt=d.getIndexManager(te),It=gl.ct(te,this.serializer,tt,d.referenceDelegate);return new xh(l,It,Ae,tt).recalculateAndSaveOverlaysForDocumentKeys(new fu(r,mr._e),R).next()})})}}function q_(i){i.createObjectStore("targetDocuments",{keyPath:Nl}).createIndex("documentTargetsIndex",rl,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hu,{unique:!0}),i.createObjectStore("targetGlobal")}const Zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qg{constructor(e,r,s,l,d,g,S,R,H,te,Ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.si=d,this.window=g,this.document=S,this.oi=H,this._i=te,this.ai=Ae,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=tt=>Promise.resolve(),!Qg.D())throw new _t(Ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jg(this,l),this.Ii=r+"main",this.serializer=new Qf(R),this.Ti=new Q(this.Ii,this.ai,new n0(this.serializer)),this.qr=new Jy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=id(this.serializer),this.Kr=new F_,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===te&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(Ct.FAILED_PRECONDITION,Zg);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new mr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var r=this;return this.Pi=function(){var s=(0,he.Z)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var r=(0,he.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,he.Z)(function*(){r.started&&(yield r.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ga(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(r=>this.isPrimary&&!r?this.pi(e).next(()=>!1):!!r&&this.yi(e).next(()=>!0))).catch(e=>{if(Lt(e))return Ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return kh(e).get("owner").next(r=>v.resolve(this.wi(r)))}Si(e){return Ga(e).delete(this.clientId)}bi(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ao(s,"clientMetadata");return l.W().next(d=>{const g=e.Ci(d,18e5),S=d.filter(R=>-1===g.indexOf(R));return v.forEach(S,R=>l.delete(R.clientId)).next(()=>S)})}).catch(()=>[]);if(e.Ei)for(const s of r)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?v.resolve(!0):kh(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)){if(this.wi(r)&&this.networkEnabled)return!0;if(!this.wi(r)){if(!r.allowTabSynchronization)throw new _t(Ct.FAILED_PRECONDITION,Zg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ga(e).W().next(s=>void 0===this.Ci(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ut("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,he.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new fu(r,mr._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,r){return e.filter(s=>this.Di(s.updateTimeMs,r)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ga(e).W().next(r=>this.Ci(r,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,r){return gl.ct(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qy(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Dh.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,r,s){Ut("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",d=15===(R=this.ai)?Vu:14===R?il:13===R?Af:12===R?kl:11===R?Nc:void Rn();var R;let g;return this.Ti.runTransaction(e,l,d,S=>(g=new fu(S,this.Lr?this.Lr.next():mr._e),"readwrite-primary"===r?this.fi(g).next(R=>!!R||this.gi(g)).next(R=>{if(!R)throw Bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new _t(Ct.FAILED_PRECONDITION,tl);return s(g)}).next(R=>this.yi(g).next(()=>R)):this.Li(g).next(()=>s(g)))).then(S=>(g.raiseOnCommittedEvent(),S))}Li(e){return kh(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)&&!this.wi(r)&&!(this._i||this.allowTabSynchronization&&r.allowTabSynchronization))throw new _t(Ct.FAILED_PRECONDITION,Zg)})}yi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kh(e).put("owner",r)}static D(){return Q.D()}pi(e){const r=kh(e);return r.get("owner").next(s=>this.wi(s)?(Ut("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):v.resolve())}Di(e,r){const s=Date.now();return!(e<s-r||e>s&&(Bi(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const r=/(?:Version|Mobile)\/1[456]/;(0,re.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var r;try{const s=null!==(null===(r=this.Ei)||void 0===r?void 0:r.getItem(this.vi(e)));return Ut("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Bi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Bi("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kh(i){return ao(i,"owner")}function Ga(i){return ao(i,"clientMetadata")}function oc(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class Xg{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.ki=s,this.qi=l}static Qi(e,r){let s=Tr(),l=Tr();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Xg(e,r.fromCache,s,l)}}class ME{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class r0{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,s,l){const d={result:null};return this.zi(e,r).next(g=>{d.result=g}).next(()=>{if(!d.result)return this.ji(e,r,l,s).next(g=>{d.result=g})}).next(()=>{if(d.result)return;const g=new ME;return this.Hi(e,r,g).next(S=>{if(d.result=S,this.$i)return this.Ji(e,r,g,S.size)})}).next(()=>d.result)}Ji(e,r,s,l){return s.documentReadCount<this.Ui?(As()<=Ee.in.DEBUG&&Ut("QueryEngine","SDK will not create cache indexes for query:",ul(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),v.resolve()):(As()<=Ee.in.DEBUG&&Ut("QueryEngine","Query:",ul(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Wi*l?(As()<=Ee.in.DEBUG&&Ut("QueryEngine","The SDK decides to create cache indexes for query:",ul(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Co(r))):v.resolve())}zi(e,r){if(bg(r))return v.resolve(null);let s=Co(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=Ul(r,null,"F"),s=Co(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const g=Tr(...d);return this.Gi.getDocuments(e,g).next(S=>this.indexManager.getMinOffset(e,s).next(R=>{const H=this.Yi(r,S);return this.Zi(r,H,g,R.readTime)?this.zi(e,Ul(r,null,"F")):this.Xi(e,H,r,R)}))})))}ji(e,r,s,l){return bg(r)||l.isEqual(cn.min())?v.resolve(null):this.Gi.getDocuments(e,s).next(d=>{const g=this.Yi(r,d);return this.Zi(r,g,s,l)?v.resolve(null):(As()<=Ee.in.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ul(r)),this.Xi(e,g,r,Us(l,-1)).next(S=>S))})}Yi(e,r){let s=new si(Ia(e));return r.forEach((l,d)=>{zu(e,d)&&(s=s.add(d))}),s}Zi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Hi(e,r,s){return As()<=Ee.in.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",ul(r)),this.Gi.getDocumentsMatchingQuery(e,r,is.min(),s)}Xi(e,r,s,l){return this.Gi.getDocumentsMatchingQuery(e,s,l).next(d=>(r.forEach(g=>{d=d.insert(g.key,g)}),d))}}class PE{constructor(e,r,s,l){this.persistence=e,this.es=r,this.serializer=l,this.ts=new $r(ft),this.ns=new ia(d=>ll(d),Va),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xh(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function o0(i,e,r,s){return new PE(i,e,r,s)}function s0(i,e){return cp.apply(this,arguments)}function cp(){return cp=(0,he.Z)(function*(i,e){const r=hn(i);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,r.os(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const g=[],S=[];let R=Tr();for(const H of l){g.push(H.batchId);for(const te of H.mutations)R=R.add(te.key)}for(const H of d){S.push(H.batchId);for(const te of H.mutations)R=R.add(te.key)}return r.localDocuments.getDocuments(s,R).next(H=>({_s:H,removedBatchIds:g,addedBatchIds:S}))})})}),cp.apply(this,arguments)}function Y_(i){const e=hn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function K_(i,e,r){let s=Tr(),l=Tr();return r.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let g=ss();return r.forEach((S,R)=>{const H=d.get(S);R.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(S)),R.isNoDocument()&&R.version.isEqual(cn.min())?(e.removeEntry(S,R.readTime),g=g.insert(S,R)):!H.isValidDocument()||R.version.compareTo(H.version)>0||0===R.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(R),g=g.insert(S,R)):Ut("LocalStore","Ignoring outdated watch update for ",S,". Current version:",H.version," Watch version:",R.version)}),{us:g,cs:l}})}function Jg(i,e){const r=hn(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ws(i,e){const r=hn(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.qr.getTargetData(s,e).next(d=>d?(l=d,v.resolve(l)):r.qr.allocateTargetId(s).next(g=>(l=new pl(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ts.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ts=r.ts.insert(s.targetId,s),r.ns.set(e,s.targetId)),s})}function _l(i,e,r){return dp.apply(this,arguments)}function dp(){return dp=(0,he.Z)(function*(i,e,r){const s=hn(i),l=s.ts.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!Lt(g))throw g;Ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ts=s.ts.remove(e),s.ns.delete(l.target)}),dp.apply(this,arguments)}function Fh(i,e,r){const s=hn(i);let l=cn.min(),d=Tr();return s.persistence.runTransaction("Execute query","readwrite",g=>function(R,H,te){const Ae=hn(R),tt=Ae.ns.get(te);return void 0!==tt?v.resolve(Ae.ts.get(tt)):Ae.qr.getTargetData(H,te)}(s,g,Co(e)).next(S=>{if(S)return l=S.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(g,S.targetId).next(R=>{d=R})}).next(()=>s.es.getDocumentsMatchingQuery(g,e,r?l:cn.min(),r?d:Tr())).next(S=>(c0(s,$f(e),S),{documents:S,ls:d})))}function em(i,e){const r=hn(i),s=hn(r.qr),l=r.ts.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(g=>g?g.target:null))}function u0(i,e){const r=hn(i),s=r.rs.get(e)||cn.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.ss.getAllFromCollectionGroup(l,e,Us(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(c0(r,e,l),l))}function c0(i,e,r){let s=i.rs.get(e)||cn.min();r.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.rs.set(e,s)}function Lh(){return Lh=(0,he.Z)(function*(i,e,r,s){const l=hn(i);let d=Tr(),g=ss();for(const H of r){const te=e.hs(H.metadata.name);H.document&&(d=d.add(te));const Ae=e.Ps(H);Ae.setReadTime(e.Is(H.metadata.readTime)),g=g.insert(te,Ae)}const S=l.ss.newChangeBuffer({trackRemovals:!0}),R=yield Ws(l,(te=s,Co($l(Rr.fromString(`__bundle__/docs/${te}`)))));var te;return l.persistence.runTransaction("Apply bundle documents","readwrite",H=>K_(H,S,g).next(te=>(S.apply(H),te)).next(te=>l.qr.removeMatchingKeysForTargetId(H,R.targetId).next(()=>l.qr.addMatchingKeys(H,d,R.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(H,te.us,te.cs)).next(()=>te.us)))}),Lh.apply(this,arguments)}function tm(i,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,he.Z)(function*(i,e,r=Tr()){const s=yield Ws(i,Co(ep(e.bundledQuery))),l=hn(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=Hi(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Kr.saveNamedQuery(d,e);const S=s.withResumeToken(mo.EMPTY_BYTE_STRING,g);return l.ts=l.ts.insert(S.targetId,S),l.qr.updateTargetData(d,S).next(()=>l.qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.qr.addMatchingKeys(d,r,s.targetId)).next(()=>l.Kr.saveNamedQuery(d,e))})}),Z_.apply(this,arguments)}function d0(i,e){return`firestore_clients_${i}_${e}`}function nm(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function rm(i,e){return`firestore_targets_${i}_${e}`}class hp{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Ts(e,r,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new _t(l.error.code,l.error.message))),g?new hp(e,r,l.state,d):(Bi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Ts(e,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new _t(s.error.code,s.error.message))),d?new Vh(e,s.state,l):(Bi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fp{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ts(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Ua();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=nl(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new fp(e,d):(Bi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class pp{constructor(e,r){this.clientId=e,this.onlineState=r}static Ts(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new pp(r.clientId,r.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sd{constructor(){this.activeTargetIds=Ua()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class im{constructor(e,r,s,l,d){this.window=e,this.si=r,this.persistenceKey=s,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new $r(ft),this.started=!1,this.ps=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ys=d0(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new sd),this.Ss=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Rs)continue;const d=e.getItem(d0(e.persistenceKey,l));if(d){const g=fp.Ts(l,d);g&&(e.gs=e.gs.insert(g.clientId,g))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const l=e.Ms(s);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let r=!1;return this.gs.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,r,s){this.Ns(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(rm(this.persistenceKey,e));if(s){const l=Vh.Ts(e,s);l&&(r=l.state)}}return this.Ls.ds(e),this.Fs(),r}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rm(this.persistenceKey,e))}updateQueryState(e,r,s){this.ks(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ut("SharedClientState","READ",e,r),r}setItem(e,r){Ut("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ut("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,he.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ss.test(s.key)){if(null==s.newValue){const l=r.Ks(s.key);return r.$s(l,null)}{const l=r.Us(s.key,s.newValue);if(l)return r.$s(l.clientId,l)}}else if(r.bs.test(s.key)){if(null!==s.newValue){const l=r.Ws(s.key,s.newValue);if(l)return r.Gs(l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.zs(s.key,s.newValue);if(l)return r.js(l)}}else if(s.key===r.Cs){if(null!==s.newValue){const l=r.Ms(s.newValue);if(l)return r.xs(l)}}else if(s.key===r.ws){const l=function(g){let S=mr._e;if(null!=g)try{const R=JSON.parse(g);xn("number"==typeof R),S=R}catch(R){Bi("SharedClientState","Failed to read sequence number from WebStorage",R)}return S}(s.newValue);l!==mr._e&&r.sequenceNumberHandler(l)}else if(s.key===r.vs){const l=r.Hs(s.newValue);yield Promise.all(l.map(d=>r.syncEngine.Js(d)))}}else r.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,r,s){const l=new hp(this.currentUser,e,r,s),d=nm(this.persistenceKey,this.currentUser,e);this.setItem(d,l.Es())}Bs(e){const r=nm(this.persistenceKey,this.currentUser,e);this.removeItem(r)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,r,s){const l=rm(this.persistenceKey,e),d=new Vh(e,r,s);this.setItem(l,d.Es())}Qs(e){const r=JSON.stringify(Array.from(e));this.setItem(this.vs,r)}Ks(e){const r=this.Ss.exec(e);return r?r[1]:null}Us(e,r){const s=this.Ks(e);return fp.Ts(s,r)}Ws(e,r){const s=this.bs.exec(e),l=Number(s[1]);return hp.Ts(new Vr(void 0!==s[2]?s[2]:null),l,r)}zs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return Vh.Ts(l,r)}Ms(e){return pp.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var r=this;return(0,he.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Ys(e.batchId,e.state,e.error);Ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,r){const s=r?this.gs.insert(e,r):this.gs.remove(e),l=this.Os(this.gs),d=this.Os(s),g=[],S=[];return d.forEach(R=>{l.has(R)||g.push(R)}),l.forEach(R=>{d.has(R)||S.push(R)}),this.syncEngine.Xs(g,S).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let r=Ua();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class gp{constructor(){this.eo=new sd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,s){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new sd,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class h0{ro(e){}shutdown(){}}class sc{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mp=null;function om(){return null===mp?mp=268435456+Math.round(2147483648*Math.random()):mp++,"0x"+mp.toString(16)}const sm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q_{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ys="WebChannelConnection";class f0 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+r.host,this.fo=`projects/${l}/databases/${d}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${d}`}get yo(){return!1}wo(r,s,l,d,g){const S=om(),R=this.So(r,s);Ut("RestConnection",`Sending RPC '${r}' ${S}:`,R,l);const H={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(H,d,g),this.Do(r,R,H,l).then(te=>(Ut("RestConnection",`Received RPC '${r}' ${S}: `,te),te),te=>{throw ns("RestConnection",`RPC '${r}' ${S} failed with error: `,te,"url: ",R,"request:",l),te})}Co(r,s,l,d,g,S){return this.wo(r,s,l,d,g)}bo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+wi,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,g)=>r[g]=d),l&&l.headers.forEach((d,g)=>r[g]=d)}So(r,s){return`${this.mo}/v1/${s}:${sm[r]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,r,s,l){const d=om();return new Promise((g,S)=>{const R=new Sl;R.setWithCredentials(!0),R.listenOnce(ga.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case bs.NO_ERROR:const te=R.getResponseJson();Ut(ys,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(te)),g(te);break;case bs.TIMEOUT:Ut(ys,`RPC '${e}' ${d} timed out`),S(new _t(Ct.DEADLINE_EXCEEDED,"Request time out"));break;case bs.HTTP_ERROR:const Ae=R.getStatus();if(Ut(ys,`RPC '${e}' ${d} failed with status:`,Ae,"response text:",R.getResponseText()),Ae>0){let tt=R.getResponseJson();Array.isArray(tt)&&(tt=tt[0]);const It=null==tt?void 0:tt.error;if(It&&It.status&&It.message){const sn=function(ln){const Qn=ln.toLowerCase().replace(/_/g,"-");return Object.values(Ct).indexOf(Qn)>=0?Qn:Ct.UNKNOWN}(It.status);S(new _t(sn,It.message))}else S(new _t(Ct.UNKNOWN,"Server responded with status "+R.getStatus()))}else S(new _t(Ct.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{Ut(ys,`RPC '${e}' ${d} completed.`)}});const H=JSON.stringify(l);Ut(ys,`RPC '${e}' ${d} sending request:`,l),R.send(r,"POST",H,s,15)})}vo(e,r,s){const l=om(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=eo(),S=Ls(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(R.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(R.useFetchStreams=!0),this.bo(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const te=d.join("");Ut(ys,`Creating RPC '${e}' stream ${l}: ${te}`,R);const Ae=g.createWebChannel(te,R);let tt=!1,It=!1;const sn=new Q_({co:ln=>{It?Ut(ys,`Not sending because RPC '${e}' stream ${l} is closed:`,ln):(tt||(Ut(ys,`Opening RPC '${e}' stream ${l} transport.`),Ae.open(),tt=!0),Ut(ys,`RPC '${e}' stream ${l} sending:`,ln),Ae.send(ln))},lo:()=>Ae.close()}),gn=(ln,Qn,sr)=>{ln.listen(Qn,nr=>{try{sr(nr)}catch(Mr){setTimeout(()=>{throw Mr},0)}})};return gn(Ae,Ks.EventType.OPEN,()=>{It||Ut(ys,`RPC '${e}' stream ${l} transport opened.`)}),gn(Ae,Ks.EventType.CLOSE,()=>{It||(It=!0,Ut(ys,`RPC '${e}' stream ${l} transport closed`),sn.Ro())}),gn(Ae,Ks.EventType.ERROR,ln=>{It||(It=!0,ns(ys,`RPC '${e}' stream ${l} transport errored:`,ln),sn.Ro(new _t(Ct.UNAVAILABLE,"The operation could not be completed")))}),gn(Ae,Ks.EventType.MESSAGE,ln=>{var Qn;if(!It){const sr=ln.data[0];xn(!!sr);const Mr=sr.error||(null===(Qn=sr[0])||void 0===Qn?void 0:Qn.error);if(Mr){Ut(ys,`RPC '${e}' stream ${l} received error:`,Mr);const ci=Mr.status;let Jr=function(vy){const Tc=ji[vy];if(void 0!==Tc)return Wl(Tc)}(ci),yo=Mr.message;void 0===Jr&&(Jr=Ct.INTERNAL,yo="Unknown error status: "+ci+" with message "+Mr.message),It=!0,sn.Ro(new _t(Jr,yo)),Ae.close()}else Ut(ys,`RPC '${e}' stream ${l} received:`,sr),sn.Vo(sr)}}),gn(S,zd.STAT_EVENT,ln=>{ln.stat===bc.PROXY?Ut(ys,`RPC '${e}' stream ${l} detected buffering proxy`):ln.stat===bc.NOPROXY&&Ut(ys,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{sn.Ao()},0),sn}}function X_(){return typeof window<"u"?window:null}function _p(){return typeof document<"u"?document:null}function ad(i){return new On(i,!0)}class J_{constructor(e,r,s=1e3,l=1.5,d=6e4){this.si=e,this.timerId=r,this.Fo=s,this.Mo=l,this.xo=d,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const r=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,r-s);l>0&&Ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class p0{constructor(e,r,s,l,d,g,S,R){this.si=e,this.Ko=s,this.$o=l,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=S,this.listener=R,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new J_(e,r)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,he.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,he.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,r){var s=this;return(0,he.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():r&&r.code===Ct.RESOURCE_EXHAUSTED?(Bi(r.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):r&&r.code===Ct.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(r)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),r=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Uo===r&&this.s_(s,l)},s=>{e(()=>{const l=new _t(Ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(l)})})}s_(e,r){const s=this.i_(this.Uo);this.stream=this.__(e,r),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{s(()=>this.o_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,he.Z)(function*(){e.state=0,e.start()}))}o_(e){return Ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return r=>{this.si.enqueueAndForget(()=>this.Uo===e?r():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bh extends p0{constructor(e,r,s,l,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d}__(e,r){return this.connection.vo("Listen",e,r)}onMessage(e){this.zo.reset();const r=function SE(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:Rn(),l=e.targetChange.targetIds||[],d=function(H,te){return H.useProto3Json?(xn(void 0===te||"string"==typeof te),mo.fromBase64String(te||"")):(xn(void 0===te||te instanceof Uint8Array),mo.fromUint8Array(te||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,S=g&&function(H){const te=void 0===H.code?Ct.UNKNOWN:Wl(H.code);return new _t(te,H.message||"")}(g);r=new I(s,l,d,S||null)}else if("documentChange"in e){const s=e.documentChange,l=Ms(i,s.document.name),d=Hi(s.document.updateTime),g=s.document.createTime?Hi(s.document.createTime):cn.min(),S=new ro({mapValue:{fields:s.document.fields}}),R=ki.newFoundDocument(l,d,g,S);r=new f(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,l=Ms(i,s.document),d=s.readTime?Hi(s.readTime):cn.min(),g=ki.newNoDocument(l,d);r=new f([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=Ms(i,s.document);r=new f([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Rn();{const s=e.filter,{count:l=0,unchangedNames:d}=s,g=new dh(l,d);r=new p(s.targetId,g)}}var H;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return cn.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?cn.min():g.readTime?Hi(g.readTime):cn.min()}(e);return this.listener.a_(r,s)}u_(e){const r={};r.database=fl(this.serializer),r.addTarget=function(d,g){let S;const R=g.target;if(S=zc(R)?{documents:Yf(d,R)}:{query:Kf(d,R)},S.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){S.resumeToken=Tu(d,g.resumeToken);const H=Si(d,g.expectedCount);null!==H&&(S.expectedCount=H)}else if(g.snapshotVersion.compareTo(cn.min())>0){S.readTime=Yo(d,g.snapshotVersion.toTimestamp());const H=Si(d,g.expectedCount);null!==H&&(S.expectedCount=H)}return S}(this.serializer,e);const s=function Eh(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.e_(r)}c_(e){const r={};r.database=fl(this.serializer),r.removeTarget=e,this.e_(r)}}class g0 extends p0{constructor(e,r,s,l,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,r){return this.connection.vo("Write",e,r)}onMessage(e){if(xn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const r=function qf(i,e){return i&&i.length>0?(xn(void 0!==e),i.map(r=>function(l,d){let g=Hi(l.updateTime?l.updateTime:d);return g.isEqual(cn.min())&&(g=Hi(d)),new Gf(g,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Hi(e.commitTime);return this.listener.I_(s,r)}return xn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=fl(this.serializer),this.e_(e)}P_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Ih(this.serializer,s))};this.e_(r)}}class OE extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new _t(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.wo(e,r,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(Ct.UNKNOWN,l.toString())})}Co(e,r,s,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,r,s,d,g,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new _t(Ct.UNKNOWN,d.toString())})}terminate(){this.d_=!0}}class m0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Bi(r),this.f_=!1):Ut("OnlineStateTracker",r)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class am{constructor(e,r,s,l,d){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=d,this.F_.ro(S=>{s.enqueueAndForget((0,he.Z)(function*(){var R;uc(g)&&(Ut("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,he.Z)(function*(te){const Ae=hn(te);Ae.C_.add(4),yield Jl(Ae),Ae.M_.set("Unknown"),Ae.C_.delete(4),yield ac(Ae)}),function H(te){return R.apply(this,arguments)})(g))}))}),this.M_=new m0(s,l)}}function ac(i){return bu.apply(this,arguments)}function bu(){return bu=(0,he.Z)(function*(i){if(uc(i))for(const e of i.v_)yield e(!0)}),bu.apply(this,arguments)}function Jl(i){return ud.apply(this,arguments)}function ud(){return ud=(0,he.Z)(function*(i){for(const e of i.v_)yield e(!1)}),ud.apply(this,arguments)}function eu(i,e){const r=hn(i);r.D_.has(e.targetId)||(r.D_.set(e.targetId,e),lc(r)?cd(r):hd(r).Ho()&&Au(r,e))}function tu(i,e){const r=hn(i),s=hd(r);r.D_.delete(e),s.Ho()&&vp(r,e),0===r.D_.size&&(s.Ho()?s.Zo():uc(r)&&r.M_.set("Unknown"))}function Au(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(cn.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}hd(i).u_(e)}function vp(i,e){i.x_.Oe(e),hd(i).c_(e)}function cd(i){i.x_=new J({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),hd(i).start(),i.M_.g_()}function lc(i){return uc(i)&&!hd(i).jo()&&i.D_.size>0}function uc(i){return 0===hn(i).C_.size}function yp(i){i.x_=void 0}function $h(i){return lm.apply(this,arguments)}function lm(){return lm=(0,he.Z)(function*(i){i.D_.forEach((e,r)=>{Au(i,e)})}),lm.apply(this,arguments)}function ev(i,e){return um.apply(this,arguments)}function um(){return um=(0,he.Z)(function*(i,e){yp(i),lc(i)?(i.M_.w_(e),cd(i)):i.M_.set("Unknown")}),um.apply(this,arguments)}function _0(i,e,r){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,he.Z)(function*(i,e,r){if(i.M_.set("Online"),e instanceof I&&2===e.state&&e.cause)try{yield(s=(0,he.Z)(function*(d,g){const S=g.cause;for(const R of g.targetIds)d.D_.has(R)&&(yield d.remoteSyncer.rejectListen(R,S),d.D_.delete(R),d.x_.removeTarget(R))}),function l(d,g){return s.apply(this,arguments)})(i,e)}catch(s){Ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield jh(i,s)}else if(e instanceof f?i.x_.$e(e):e instanceof p?i.x_.Je(e):i.x_.Ge(e),!r.isEqual(cn.min()))try{const s=yield Y_(i.localStore);r.compareTo(s)>=0&&(yield function(d,g){const S=d.x_.it(g);return S.targetChanges.forEach((R,H)=>{if(R.resumeToken.approximateByteSize()>0){const te=d.D_.get(H);te&&d.D_.set(H,te.withResumeToken(R.resumeToken,g))}}),S.targetMismatches.forEach((R,H)=>{const te=d.D_.get(R);if(!te)return;d.D_.set(R,te.withResumeToken(mo.EMPTY_BYTE_STRING,te.snapshotVersion)),vp(d,R);const Ae=new pl(te.target,R,H,te.sequenceNumber);Au(d,Ae)}),d.remoteSyncer.applyRemoteEvent(S)}(i,r))}catch(s){Ut("RemoteStore","Failed to raise snapshot:",s),yield jh(i,s)}var s}),Uh.apply(this,arguments)}function jh(i,e,r){return cm.apply(this,arguments)}function cm(){return cm=(0,he.Z)(function*(i,e,r){if(!Lt(e))throw e;i.C_.add(1),yield Jl(i),i.M_.set("Offline"),r||(r=()=>Y_(i.localStore)),i.asyncQueue.enqueueRetryable((0,he.Z)(function*(){Ut("RemoteStore","Retrying IndexedDB access"),yield r(),i.C_.delete(1),yield ac(i)}))}),cm.apply(this,arguments)}function tv(i,e){return e().catch(r=>jh(i,r,e))}function Hh(i){return dm.apply(this,arguments)}function dm(){return dm=(0,he.Z)(function*(i){const e=hn(i),r=nu(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Ip(e);)try{const l=yield Jg(e.localStore,s);if(null===l){0===e.b_.length&&r.Zo();break}s=l.batchId,hm(e,l)}catch(l){yield jh(e,l)}nv(e)&&fm(e)}),dm.apply(this,arguments)}function Ip(i){return uc(i)&&i.b_.length<10}function hm(i,e){i.b_.push(e);const r=nu(i);r.Ho()&&r.h_&&r.P_(e.mutations)}function nv(i){return uc(i)&&!nu(i).jo()&&i.b_.length>0}function fm(i){nu(i).start()}function pm(i){return dd.apply(this,arguments)}function dd(){return dd=(0,he.Z)(function*(i){nu(i).E_()}),dd.apply(this,arguments)}function v0(i){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,he.Z)(function*(i){const e=nu(i);for(const r of i.b_)e.P_(r.mutations)}),Ep.apply(this,arguments)}function y0(i,e,r){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,he.Z)(function*(i,e,r){const s=i.b_.shift(),l=Jc.from(s,e,r);yield tv(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Hh(i)}),Tp.apply(this,arguments)}function kE(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,he.Z)(function*(i,e){var r;e&&nu(i).h_&&(yield(r=(0,he.Z)(function*(l,d){if(Lo(S=d.code)&&S!==Ct.ABORTED){const g=l.b_.shift();nu(l).Yo(),yield tv(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,d)),yield Hh(l)}var S}),function s(l,d){return r.apply(this,arguments)})(i,e)),nv(i)&&fm(i)}),gm.apply(this,arguments)}function zh(i,e){return mm.apply(this,arguments)}function mm(){return mm=(0,he.Z)(function*(i,e){const r=hn(i);r.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const s=uc(r);r.C_.add(3),yield Jl(r),s&&r.M_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.C_.delete(3),yield ac(r)}),mm.apply(this,arguments)}function Su(i,e){return cc.apply(this,arguments)}function cc(){return cc=(0,he.Z)(function*(i,e){const r=hn(i);e?(r.C_.delete(2),yield ac(r)):e||(r.C_.add(2),yield Jl(r),r.M_.set("Unknown"))}),cc.apply(this,arguments)}function hd(i){return i.O_||(i.O_=function(r,s,l){const d=hn(r);return d.A_(),new Bh(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{ho:$h.bind(null,i),Io:ev.bind(null,i),a_:_0.bind(null,i)}),i.v_.push(function(){var e=(0,he.Z)(function*(r){r?(i.O_.Yo(),lc(i)?cd(i):i.M_.set("Unknown")):(yield i.O_.stop(),yp(i))});return function(r){return e.apply(this,arguments)}}())),i.O_}function nu(i){return i.N_||(i.N_=function(r,s,l){const d=hn(r);return d.A_(),new g0(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{ho:pm.bind(null,i),Io:kE.bind(null,i),T_:v0.bind(null,i),I_:y0.bind(null,i)}),i.v_.push(function(){var e=(0,he.Z)(function*(r){r?(i.N_.Yo(),yield Hh(i)):(yield i.N_.stop(),i.b_.length>0&&(Ut("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(r){return e.apply(this,arguments)}}())),i.N_}class _m{constructor(e,r,s,l,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,d){const g=Date.now()+s,S=new _m(e,r,g,l,d);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _t(Ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(i,e){if(Bi("AsyncQueue",`${e}: ${i}`),Lt(i))return new _t(Ct.UNAVAILABLE,`${e}: ${i}`);throw i}class pd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||fn.comparator(r.key,s.key):(r,s)=>fn.comparator(r.key,s.key),this.keyedMap=jl(),this.sortedSet=new $r(this.comparator)}static emptySet(e){return new pd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof pd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new pd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Dp{constructor(){this.B_=new $r(fn.comparator)}track(e){const r=e.doc.key,s=this.B_.get(r);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(r):1===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):Rn():this.B_=this.B_.insert(r,e)}L_(){const e=[];return this.B_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Gh{constructor(e,r,s,l,d,g,S,R,H){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=S,this.excludesMetadataChanges=R,this.hasCachedResults=H}static fromInitialDocuments(e,r,s,l,d){const g=[];return r.forEach(S=>{g.push({type:0,doc:S})}),new Gh(e,r,pd.emptySet(r),g,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class FE{constructor(){this.k_=void 0,this.listeners=[]}}class LE{constructor(){this.queries=new ia(e=>Ag(e),Hu),this.onlineState="Unknown",this.q_=new Set}}function vm(i,e){return ym.apply(this,arguments)}function ym(){return ym=(0,he.Z)(function*(i,e){const r=hn(i),s=e.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new FE),l)try{d.k_=yield r.onListen(s)}catch(g){const S=fd(g,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(S)}r.queries.set(s,d),d.listeners.push(e),e.Q_(r.onlineState),d.k_&&e.K_(d.k_)&&Wh(r)}),ym.apply(this,arguments)}function rv(i,e){return gd.apply(this,arguments)}function gd(){return gd=(0,he.Z)(function*(i,e){const r=hn(i),s=e.query;let l=!1;const d=r.queries.get(s);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),l=0===d.listeners.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)}),gd.apply(this,arguments)}function I0(i,e){const r=hn(i);let s=!1;for(const l of e){const g=r.queries.get(l.query);if(g){for(const S of g.listeners)S.K_(l)&&(s=!0);g.k_=l}}s&&Wh(r)}function E0(i,e,r){const s=hn(i),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(r);s.queries.delete(e)}function Wh(i){i.q_.forEach(e=>{e.next()})}class Cp{constructor(e,r,s){this.query=e,this.U_=r,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Gh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.W_?this.z_(e)&&(this.U_.next(e),r=!0):this.j_(e,this.onlineState)&&(this.H_(e),r=!0),this.G_=e,r}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let r=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),r=!0),r}j_(e,r){return!e.fromCache||(!this.options.J_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class T0{constructor(e,r){this.Y_=e,this.byteLength=r}Z_(){return"metadata"in this.Y_}}class iv{constructor(e){this.serializer=e}hs(e){return Ms(this.serializer,e)}Ps(e){return e.metadata.exists?xg(this.serializer,e.document,!1):ki.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Hi(e)}}class D0{constructor(e,r,s){this.X_=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ov(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++r;const s=Rr.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ta(e){const r=new Map,s=new iv(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.hs(l.metadata.name);for(const g of l.metadata.queries){const S=(r.get(g)||Tr()).add(d);r.set(g,S)}}return r}complete(){var e=this;return(0,he.Z)(function*(){const r=yield function xE(i,e,r,s){return Lh.apply(this,arguments)}(e.localStore,new iv(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const l of e.queries)yield tm(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:r}})()}}function ov(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Im{constructor(e){this.key=e}}class Em{constructor(e){this.key=e}}class Tm{constructor(e,r){this.query=e,this.ia=r,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Tr(),this.mutatedKeys=Tr(),this._a=Ia(e),this.aa=new pd(this._a)}get ua(){return this.ia}ca(e,r){const s=r?r.la:new Dp,l=r?r.aa:this.aa;let d=r?r.mutatedKeys:this.mutatedKeys,g=l,S=!1;const R="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((te,Ae)=>{const tt=l.get(te),It=zu(this.query,Ae)?Ae:null,sn=!!tt&&this.mutatedKeys.has(tt.key),gn=!!It&&(It.hasLocalMutations||this.mutatedKeys.has(It.key)&&It.hasCommittedMutations);let ln=!1;tt&&It?tt.data.isEqual(It.data)?sn!==gn&&(s.track({type:3,doc:It}),ln=!0):this.ha(tt,It)||(s.track({type:2,doc:It}),ln=!0,(R&&this._a(It,R)>0||H&&this._a(It,H)<0)&&(S=!0)):!tt&&It?(s.track({type:0,doc:It}),ln=!0):tt&&!It&&(s.track({type:1,doc:tt}),ln=!0,(R||H)&&(S=!0)),ln&&(It?(g=g.add(It),d=gn?d.add(te):d.delete(te)):(g=g.delete(te),d=d.delete(te)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const te="F"===this.query.limitType?g.last():g.first();g=g.delete(te.key),d=d.delete(te.key),s.track({type:1,doc:te})}return{aa:g,la:s,Zi:S,mutatedKeys:d}}ha(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const d=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const g=e.la.L_();g.sort((te,Ae)=>function(It,sn){const gn=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return gn(It)-gn(sn)}(te.type,Ae.type)||this._a(te.doc,Ae.doc)),this.Pa(s),l=null!=l&&l;const S=r&&!l?this.Ia():[],R=0===this.oa.size&&this.current&&!l?1:0,H=R!==this.sa;return this.sa=R,0!==g.length||H?{snapshot:new Gh(this.query,e.aa,d,g,e.mutatedKeys,0===R,H,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:S}:{Ta:S}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Dp,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(r=>this.ia=this.ia.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ia=this.ia.delete(r)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Tr(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const r=[];return e.forEach(s=>{this.oa.has(s)||r.push(new Em(s))}),this.oa.forEach(s=>{e.has(s)||r.push(new Im(s))}),r}da(e){this.ia=e.ls,this.oa=Tr();const r=this.ca(e.documents);return this.applyChanges(r,!0)}Aa(){return Gh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class C0{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class w0{constructor(e){this.key=e,this.Ra=!1}}class sv{constructor(e,r,s,l,d,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.Va={},this.ma=new ia(S=>Ag(S),Hu),this.fa=new Map,this.ga=new Set,this.pa=new $r(fn.comparator),this.ya=new Map,this.wa=new Yg,this.Sa={},this.ba=new Map,this.Da=ml.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Dm(i,e){return av.apply(this,arguments)}function av(){return av=(0,he.Z)(function*(i,e){const r=Qh(i);let s,l;const d=r.ma.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Aa();else{const g=yield Ws(r.localStore,Co(e)),S=r.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield wp(r,e,s,"current"===S,g.resumeToken),r.isPrimaryClient&&eu(r.remoteStore,g)}return l}),av.apply(this,arguments)}function wp(i,e,r,s,l){return qh.apply(this,arguments)}function qh(){return qh=(0,he.Z)(function*(i,e,r,s,l){i.va=(Ae,tt,It)=>{return(sn=(0,he.Z)(function*(ln,Qn,sr,nr){let Mr=Qn.view.ca(sr);Mr.Zi&&(Mr=yield Fh(ln.localStore,Qn.query,!1).then(({documents:Xo})=>Qn.view.ca(Xo,Mr)));const ci=nr&&nr.targetChanges.get(Qn.targetId),Jr=nr&&null!=nr.targetMismatches.get(Qn.targetId),yo=Qn.view.applyChanges(Mr,ln.isPrimaryClient,ci,Jr);return bm(ln,Qn.targetId,yo.Ta),yo.snapshot}),function gn(ln,Qn,sr,nr){return sn.apply(this,arguments)})(i,Ae,tt,It);var sn};const d=yield Fh(i.localStore,e,!0),g=new Tm(e,d.ls),S=g.ca(d.documents),R=_.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState,l),H=g.applyChanges(S,i.isPrimaryClient,R);bm(i,r,H.Ta);const te=new C0(e,r,g);return i.ma.set(e,te),i.fa.has(r)?i.fa.get(r).push(e):i.fa.set(r,[e]),H.snapshot}),qh.apply(this,arguments)}function b0(i,e){return dc.apply(this,arguments)}function dc(){return dc=(0,he.Z)(function*(i,e){const r=hn(i),s=r.ma.get(e),l=r.fa.get(s.targetId);if(l.length>1)return r.fa.set(s.targetId,l.filter(d=>!Hu(d,e))),void r.ma.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield _l(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),tu(r.remoteStore,s.targetId),md(r,s.targetId)}).catch(A))):(md(r,s.targetId),yield _l(r.localStore,s.targetId,!0))}),dc.apply(this,arguments)}function bp(){return bp=(0,he.Z)(function*(i,e,r){const s=Rm(i);try{const l=yield function(g,S){const R=hn(g),H=Ii.now(),te=S.reduce((It,sn)=>It.add(sn.key),Tr());let Ae,tt;return R.persistence.runTransaction("Locally write mutations","readwrite",It=>{let sn=ss(),gn=Tr();return R.ss.getEntries(It,te).next(ln=>{sn=ln,sn.forEach((Qn,sr)=>{sr.isValidDocument()||(gn=gn.add(Qn))})}).next(()=>R.localDocuments.getOverlayedDocuments(It,sn)).next(ln=>{Ae=ln;const Qn=[];for(const sr of S){const nr=Wf(sr,Ae.get(sr.key).overlayedDocument);null!=nr&&Qn.push(new dl(sr.key,nr,Mf(nr.value.mapValue),Ai.exists(!0)))}return R.mutationQueue.addMutationBatch(It,H,Qn,S)}).next(ln=>{tt=ln;const Qn=ln.applyToLocalDocumentSet(Ae,gn);return R.documentOverlayCache.saveOverlays(It,ln.batchId,Qn)})}).then(()=>({batchId:tt.batchId,changes:Gu(Ae)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(g,S,R){let H=g.Sa[g.currentUser.toKey()];H||(H=new $r(ft)),H=H.insert(S,R),g.Sa[g.currentUser.toKey()]=H}(s,l.batchId,r),yield ru(s,l.changes),yield Hh(s.remoteStore)}catch(l){const d=fd(l,"Failed to persist write");r.reject(d)}}),bp.apply(this,arguments)}function uv(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,he.Z)(function*(i,e){const r=hn(i);try{const s=yield function l0(i,e){const r=hn(i),s=e.snapshotVersion;let l=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.ss.newChangeBuffer({trackRemovals:!0});l=r.ts;const S=[];e.targetChanges.forEach((te,Ae)=>{const tt=l.get(Ae);if(!tt)return;S.push(r.qr.removeMatchingKeys(d,te.removedDocuments,Ae).next(()=>r.qr.addMatchingKeys(d,te.addedDocuments,Ae)));let It=tt.withSequenceNumber(d.currentSequenceNumber);var gn,ln,Qn;null!==e.targetMismatches.get(Ae)?It=It.withResumeToken(mo.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):te.resumeToken.approximateByteSize()>0&&(It=It.withResumeToken(te.resumeToken,s)),l=l.insert(Ae,It),ln=It,Qn=te,(0===(gn=tt).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-gn.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&S.push(r.qr.updateTargetData(d,It))});let R=ss(),H=Tr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&S.push(r.persistence.referenceDelegate.updateLimboDocument(d,te))}),S.push(K_(d,g,e.documentUpdates).next(te=>{R=te.us,H=te.cs})),!s.isEqual(cn.min())){const te=r.qr.getLastRemoteSnapshotVersion(d).next(Ae=>r.qr.setTargetsMetadata(d,d.currentSequenceNumber,s));S.push(te)}return v.waitFor(S).next(()=>g.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,R,H)).next(()=>R)}).then(d=>(r.ts=l,d))}(r.localStore,e);e.targetChanges.forEach((l,d)=>{const g=r.ya.get(d);g&&(xn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Ra=!0:l.modifiedDocuments.size>0?xn(g.Ra):l.removedDocuments.size>0&&(xn(g.Ra),g.Ra=!1))}),yield ru(r,s,e)}catch(s){yield A(s)}}),Cm.apply(this,arguments)}function cv(i,e,r){const s=hn(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ma.forEach((d,g)=>{const S=g.view.Q_(e);S.snapshot&&l.push(S.snapshot)}),function(g,S){const R=hn(g);R.onlineState=S;let H=!1;R.queries.forEach((te,Ae)=>{for(const tt of Ae.listeners)tt.Q_(S)&&(H=!0)}),H&&Wh(R)}(s.eventManager,e),l.length&&s.Va.a_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function A0(i,e,r){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,he.Z)(function*(i,e,r){const s=hn(i);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.ya.get(e),d=l&&l.key;if(d){let g=new $r(fn.comparator);g=g.insert(d,ki.newNoDocument(d,cn.min()));const S=Tr().add(d),R=new Zu(cn.min(),new Map,new $r(ft),g,S);yield uv(s,R),s.pa=s.pa.remove(d),s.ya.delete(e),fv(s)}else yield _l(s.localStore,e,!1).then(()=>md(s,e,r)).catch(A)}),Ap.apply(this,arguments)}function VE(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,he.Z)(function*(i,e){const r=hn(i),s=e.batch.batchId;try{const l=yield function a0(i,e){const r=hn(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=r.ss.newChangeBuffer({trackRemovals:!0});return function(S,R,H,te){const Ae=H.batch,tt=Ae.keys();let It=v.resolve();return tt.forEach(sn=>{It=It.next(()=>te.getEntry(R,sn)).next(gn=>{const ln=H.docVersions.get(sn);xn(null!==ln),gn.version.compareTo(ln)<0&&(Ae.applyToRemoteDocument(gn,H),gn.isValidDocument()&&(gn.setReadTime(H.commitVersion),te.addEntry(gn)))})}),It.next(()=>S.mutationQueue.removeMutationBatch(R,Ae))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let R=Tr();for(let H=0;H<S.mutationResults.length;++H)S.mutationResults[H].transformResults.length>0&&(R=R.add(S.batch.mutations[H].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);wm(r,s,null),Pp(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield ru(r,l)}catch(l){yield A(l)}}),Yh.apply(this,arguments)}function Ru(i,e,r){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,he.Z)(function*(i,e,r){const s=hn(i);try{const l=yield function(g,S){const R=hn(g);return R.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let te;return R.mutationQueue.lookupMutationBatch(H,S).next(Ae=>(xn(null!==Ae),te=Ae.keys(),R.mutationQueue.removeMutationBatch(H,Ae))).next(()=>R.mutationQueue.performConsistencyCheck(H)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(H,te,S)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,te)).next(()=>R.localDocuments.getDocuments(H,te))})}(s.localStore,e);wm(s,e,r),Pp(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield ru(s,l)}catch(l){yield A(l)}}),Sp.apply(this,arguments)}function Mp(){return Mp=(0,he.Z)(function*(i,e){const r=hn(i);uc(r.remoteStore)||Ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const S=hn(g);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>S.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const l=r.ba.get(s)||[];l.push(e),r.ba.set(s,l)}catch(s){const l=fd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Mp.apply(this,arguments)}function Pp(i,e){(i.ba.get(e)||[]).forEach(r=>{r.resolve()}),i.ba.delete(e)}function wm(i,e,r){const s=hn(i);let l=s.Sa[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(r?d.reject(r):d.resolve(),l=l.remove(e)),s.Sa[s.currentUser.toKey()]=l}}function md(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),r&&i.Va.Fa(s,r);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||dv(i,s)})}function dv(i,e){i.ga.delete(e.path.canonicalString());const r=i.pa.get(e);null!==r&&(tu(i.remoteStore,r),i.pa=i.pa.remove(e),i.ya.delete(r),fv(i))}function bm(i,e,r){for(const s of r)s instanceof Im?(i.wa.addReference(s.key,e),hv(i,s)):s instanceof Em?(Ut("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||dv(i,s.key)):Rn()}function hv(i,e){const r=e.key,s=r.path.canonicalString();i.pa.get(r)||i.ga.has(s)||(Ut("SyncEngine","New document in limbo: "+r),i.ga.add(s),fv(i))}function fv(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const r=new fn(Rr.fromString(e)),s=i.Da.next();i.ya.set(s,new w0(r)),i.pa=i.pa.insert(r,s),eu(i.remoteStore,new pl(Co($l(r.path)),s,"TargetPurposeLimboResolution",mr._e))}}function ru(i,e,r){return pv.apply(this,arguments)}function pv(){return pv=(0,he.Z)(function*(i,e,r){const s=hn(i),l=[],d=[],g=[];var S;s.ma.isEmpty()||(s.ma.forEach((S,R)=>{g.push(s.va(R,e,r).then(H=>{if((H||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,null!=H&&H.fromCache?"not-current":"current"),H){l.push(H);const te=Xg.Qi(R.targetId,H);d.push(te)}}))}),yield Promise.all(g),s.Va.a_(l),yield(S=(0,he.Z)(function*(H,te){const Ae=hn(H);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",tt=>v.forEach(te,It=>v.forEach(It.ki,sn=>Ae.persistence.referenceDelegate.addReference(tt,It.targetId,sn)).next(()=>v.forEach(It.qi,sn=>Ae.persistence.referenceDelegate.removeReference(tt,It.targetId,sn)))))}catch(tt){if(!Lt(tt))throw tt;Ut("LocalStore","Failed to update sequence numbers: "+tt)}for(const tt of te){const It=tt.targetId;if(!tt.fromCache){const sn=Ae.ts.get(It),ln=sn.withLastLimboFreeSnapshotVersion(sn.snapshotVersion);Ae.ts=Ae.ts.insert(It,ln)}}}),function R(H,te){return S.apply(this,arguments)})(s.localStore,d))}),pv.apply(this,arguments)}function BE(i,e){return xp.apply(this,arguments)}function xp(){return xp=(0,he.Z)(function*(i,e){const r=hn(i);if(!r.currentUser.isEqual(e)){Ut("SyncEngine","User change. New user:",e.toKey());const s=yield s0(r.localStore,e);r.currentUser=e,(d=r).ba.forEach(S=>{S.forEach(R=>{R.reject(new _t(Ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ba.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ru(r,s._s)}var d}),xp.apply(this,arguments)}function gv(i,e){const r=hn(i),s=r.ya.get(e);if(s&&s.Ra)return Tr().add(s.key);{let l=Tr();const d=r.fa.get(e);if(!d)return l;for(const g of d){const S=r.ma.get(g);l=l.unionWith(S.view.ua)}return l}}function $E(i,e){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,he.Z)(function*(i,e){const r=hn(i),s=yield Fh(r.localStore,e.query,!0),l=e.view.da(s);return r.isPrimaryClient&&bm(r,e.targetId,l.Ta),l}),Ir.apply(this,arguments)}function mv(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,he.Z)(function*(i,e){const r=hn(i);return u0(r.localStore,e).then(s=>ru(r,s))}),Op.apply(this,arguments)}function _d(i,e,r,s){return Np.apply(this,arguments)}function Np(){return Np=(0,he.Z)(function*(i,e,r,s){const l=hn(i),d=yield function(S,R){const H=hn(S),te=hn(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>te.Cn(Ae,R).next(tt=>tt?H.localDocuments.getDocuments(Ae,tt):v.resolve(null)))}(l.localStore,e);var R;null!==d?("pending"===r?yield Hh(l.remoteStore):"acknowledged"===r||"rejected"===r?(wm(l,e,s||null),Pp(l,e),R=e,hn(hn(l.localStore).mutationQueue).Fn(R)):Rn(),yield ru(l,d)):Ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),Np.apply(this,arguments)}function vd(){return vd=(0,he.Z)(function*(i,e){const r=hn(i);if(Qh(r),Rm(r),!0===e&&!0!==r.Ca){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield hc(r,s.toArray());r.Ca=!0,yield Su(r.remoteStore,!0);for(const d of l)eu(r.remoteStore,d)}else if(!1===e&&!1!==r.Ca){const s=[];let l=Promise.resolve();r.fa.forEach((d,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(md(r,g),_l(r.localStore,g,!0))),tu(r.remoteStore,g)}),yield l,yield hc(r,s),function(g){const S=hn(g);S.ya.forEach((R,H)=>{tu(S.remoteStore,H)}),S.wa.Vr(),S.ya=new Map,S.pa=new $r(fn.comparator)}(r),r.Ca=!1,yield Su(r.remoteStore,!1)}}),vd.apply(this,arguments)}function hc(i,e,r){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,he.Z)(function*(i,e,r){const s=hn(i),l=[],d=[];for(const g of e){let S;const R=s.fa.get(g);if(R&&0!==R.length){S=yield Ws(s.localStore,Co(R[0]));for(const H of R){const te=s.ma.get(H),Ae=yield $E(s,te);Ae.snapshot&&d.push(Ae.snapshot)}}else{const H=yield em(s.localStore,g);S=yield Ws(s.localStore,H),yield wp(s,yd(H),g,!1,S.resumeToken)}l.push(S)}return s.Va.a_(d),l}),Kh.apply(this,arguments)}function yd(i){return _u(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function _v(i){return r=hn(i).localStore,hn(hn(r).persistence).Bi();var r}function Am(i,e,r,s){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,he.Z)(function*(i,e,r,s){const l=hn(i);if(l.Ca)return void Ut("SyncEngine","Ignoring unexpected query state notification.");const d=l.fa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const g=yield u0(l.localStore,$f(d[0])),S=Zu.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,mo.EMPTY_BYTE_STRING);yield ru(l,g,S);break}case"rejected":yield _l(l.localStore,e,!0),md(l,e,s);break;default:Rn()}}),Zh.apply(this,arguments)}function Sm(i,e,r){return kp.apply(this,arguments)}function kp(){return kp=(0,he.Z)(function*(i,e,r){const s=Qh(i);if(s.Ca){for(const l of e){if(s.fa.has(l)){Ut("SyncEngine","Adding an already active target "+l);continue}const d=yield em(s.localStore,l),g=yield Ws(s.localStore,d);yield wp(s,yd(d),g.targetId,!1,g.resumeToken),eu(s.remoteStore,g)}for(const l of r)s.fa.has(l)&&(yield _l(s.localStore,l,!1).then(()=>{tu(s.remoteStore,l),md(s,l)}).catch(A))}}),kp.apply(this,arguments)}function Qh(i){const e=hn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=uv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A0.bind(null,e),e.Va.a_=I0.bind(null,e.eventManager),e.Va.Fa=E0.bind(null,e.eventManager),e}function Rm(i){const e=hn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ru.bind(null,e),e}class Xh{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,he.Z)(function*(){r.serializer=ad(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return o0(this.persistence,new r0,e.initialUser,this.serializer)}createPersistence(e){return new up(Oh.jr,this.serializer)}createSharedClientState(e){return new gp}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mm extends Xh{constructor(e,r,s){super(),this.xa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield r().call(s,e),yield s.xa.initialize(s,e),yield Rm(s.xa.syncEngine),yield Hh(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return o0(this.persistence,new r0,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Rh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Ni(r,this.persistence);return new dr(e.asyncQueue,s)}createPersistence(e){const r=oc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new Qg(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,X_(),_p(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gp}}class yv extends Mm{constructor(e,r){super(e,r,!1),this.xa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield r().call(s,e);const l=s.xa.syncEngine;s.sharedClientState instanceof im&&(s.sharedClientState.syncEngine={Ys:_d.bind(null,l),Zs:Am.bind(null,l),Xs:Sm.bind(null,l),Bi:_v.bind(null,l),Js:mv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var d=(0,he.Z)(function*(g){yield function S0(i,e){return vd.apply(this,arguments)}(s.xa.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=X_();if(!im.D(r))throw new _t(Ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=oc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new im(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Id{initialize(e,r){var s=this;return(0,he.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>cv(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=BE.bind(null,s.syncEngine),yield Su(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LE}createDatastore(e){const r=ad(e.databaseInfo.databaseId),s=new f0(e.databaseInfo);return new OE(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,d=e.asyncQueue,g=r=>cv(this.syncEngine,r,0),S=sc.D()?new sc:new h0,new am(s,l,d,g,S);var s,l,d,g,S}createSyncEngine(e,r){return function(l,d,g,S,R,H,te){const Ae=new sv(l,d,g,S,R,H);return te&&(Ae.Ca=!0),Ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,he.Z)(function*(s){const l=hn(s);Ut("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield Jl(l),l.F_.shutdown(),l.M_.set("Unknown")}),function r(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function Iv(i,e=10240){let r=0;return{read:()=>(0,he.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Jh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Ev{constructor(e,r){this.Ba=e,this.serializer=r,this.metadata=new to,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,he.Z)(function*(){const r=yield e.qa();if(null===r)return null;const s=e.La.decode(r),l=Number(s);isNaN(l)&&e.Qa(`length string (${s}) is not valid number`);const d=yield e.Ka(l);return new T0(JSON.parse(d),r.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,he.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const r=e.$a();r<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ka(e){var r=this;return(0,he.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ua())&&r.Qa("Reached the end of bundle when more is expected.");const s=r.La.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,he.Z)(function*(){const r=yield e.Ba.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class M0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,he.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new _t(Ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,he.Z)(function*(g,S){const R=hn(g),H=fl(R.serializer)+"/documents",te={documents:S.map(sn=>ql(R.serializer,sn))},Ae=yield R.Co("BatchGetDocuments",H,te,S.length),tt=new Map;Ae.forEach(sn=>{const gn=function AE(i,e){return"found"in e?function(s,l){xn(!!l.found);const d=Ms(s,l.found.name),g=Hi(l.found.updateTime),S=l.found.createTime?Hi(l.found.createTime):cn.min(),R=new ro({mapValue:{fields:l.found.fields}});return ki.newFoundDocument(d,g,S,R)}(i,e):"missing"in e?function(s,l){xn(!!l.missing),xn(!!l.readTime);const d=Ms(s,l.missing),g=Hi(l.readTime);return ki.newNoDocument(d,g)}(i,e):Rn()}(R.serializer,sn);tt.set(gn.key.toString(),gn)});const It=[];return S.forEach(sn=>{const gn=tt.get(sn.toString());xn(!!gn),It.push(gn)}),It}),function d(g,S){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ha(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=fn.fromPath(l);e.mutations.push(new Ea(d,e.precondition(d)))}),yield(s=(0,he.Z)(function*(d,g){const S=hn(d),R=fl(S.serializer)+"/documents",H={writes:g.map(te=>Ih(S.serializer,te))};yield S.wo("Commit",R,H)}),function l(d,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Rn();r=cn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new _t(Ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(cn.min())?Ai.exists(!1):Ai.updateTime(r):Ai.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(cn.min()))throw new _t(Ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ai.updateTime(r)}return Ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class P0{constructor(e,r,s,l,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=d,this.Wa=s.maxAttempts,this.zo=new J_(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,he.Z)(function*(){const r=new M0(e.datastore),s=e.za(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.ja(d)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const r=this.updateFunction(e);return!Qs(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Lo(r)}return!1}}class aa{constructor(e,r,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=Vr.UNAUTHENTICATED,this.clientId=Sc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,he.Z)(function*(S){Ut("FirestoreClient","Received user=",S.uid),yield d.authCredentialListener(S),d.user=S});return function(S){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Ut("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _t(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=fd(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Fp(i,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,he.Z)(function*(d){s.isEqual(d)||(yield s0(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Pm.apply(this,arguments)}function Tv(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Om(i);Ut("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(r,s),i.setCredentialChangeListener(l=>zh(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>zh(e.remoteStore,d)),i._onlineComponents=e}),ef.apply(this,arguments)}function xm(i){return"FirebaseError"===i.name?i.code===Ct.FAILED_PRECONDITION||i.code===Ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Om(i){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,he.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ut("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fp(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!xm(r))throw r;ns("Error using user provided cache. Falling back to memory cache: "+r),yield Fp(i,new Xh)}}else Ut("FirestoreClient","Using default OfflineComponentProvider"),yield Fp(i,new Xh);return i._offlineComponents}),Nm.apply(this,arguments)}function Lp(i){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,he.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ut("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tv(i,i._uninitializedComponentsProvider._online)):(Ut("FirestoreClient","Using default OnlineComponentProvider"),yield Tv(i,new Id))),i._onlineComponents}),Vp.apply(this,arguments)}function Dv(i){return Om(i).then(e=>e.persistence)}function Ed(i){return Om(i).then(e=>e.localStore)}function Bp(i){return Lp(i).then(e=>e.remoteStore)}function km(i){return Lp(i).then(e=>e.syncEngine)}function Td(i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,he.Z)(function*(i){const e=yield Lp(i),r=e.eventManager;return r.onListen=Dm.bind(null,e.syncEngine),r.onUnlisten=b0.bind(null,e.syncEngine),r}),Fm.apply(this,arguments)}function wv(i,e,r={}){const s=new to;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(d,g,S,R,H){const te=new Jh({next:tt=>{g.enqueueAndForget(()=>rv(d,Ae));const It=tt.docs.has(S);!It&&tt.fromCache?H.reject(new _t(Ct.UNAVAILABLE,"Failed to get document because the client is offline.")):It&&tt.fromCache&&R&&"server"===R.source?H.reject(new _t(Ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(tt)},error:tt=>H.reject(tt)}),Ae=new Cp($l(S.path),te,{includeMetadataChanges:!0,J_:!0});return vm(d,Ae)}(yield Td(i),i.asyncQueue,e,r,s)})),s.promise}function Av(i,e,r={}){const s=new to;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(d,g,S,R,H){const te=new Jh({next:tt=>{g.enqueueAndForget(()=>rv(d,Ae)),tt.fromCache&&"server"===R.source?H.reject(new _t(Ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(tt)},error:tt=>H.reject(tt)}),Ae=new Cp(S,te,{includeMetadataChanges:!0,J_:!0});return vm(d,Ae)}(yield Td(i),i.asyncQueue,e,r,s)})),s.promise}function Bm(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const $m=new Map;function Dd(i,e,r){if(!r)throw new _t(Ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Up(i,e,r,s){if(!0===e&&!0===s)throw new _t(Ct.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function yl(i){if(!fn.isDocumentKey(i))throw new _t(Ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pv(i){if(fn.isDocumentKey(i))throw new _t(Ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Cd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Rn()}function qr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _t(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Cd(i);throw new _t(Ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function O0(i,e){if(e<=0)throw new _t(Ct.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class xv{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new _t(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _t(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Up("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Bm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new _t(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new _t(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new _t(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _t(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _t(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new yg;switch(s.type){case"firstParty":return new ma(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=$m.get(r);s&&(Ut("ComponentProvider","Removing Datastore"),$m.delete(r),s.terminate())}(this),Promise.resolve()}}class us{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class qi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class Wa extends us{constructor(e,r,s){super(e,r,$l(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new fn(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function jp(i,e,...r){if(i=(0,re.m9)(i),Dd("collection","path",e),i instanceof tf){const s=Rr.fromString(e,...r);return Pv(s),new Wa(i,null,s)}{if(!(i instanceof qi||i instanceof Wa))throw new _t(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rr.fromString(e,...r));return Pv(s),new Wa(i.firestore,null,s)}}function Mu(i,e,...r){if(i=(0,re.m9)(i),1===arguments.length&&(e=Sc.newId()),Dd("doc","path",e),i instanceof tf){const s=Rr.fromString(e,...r);return yl(s),new qi(i,null,new fn(s))}{if(!(i instanceof qi||i instanceof Wa))throw new _t(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rr.fromString(e,...r));return yl(s),new qi(i.firestore,i instanceof Wa?i.converter:null,new fn(s))}}function wd(i,e){return i=(0,re.m9)(i),e=(0,re.m9)(e),(i instanceof qi||i instanceof Wa)&&(e instanceof qi||e instanceof Wa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Hp(i,e){return i=(0,re.m9)(i),e=(0,re.m9)(e),i instanceof us&&e instanceof us&&i.firestore===e.firestore&&Hu(i._query,e._query)&&i.converter===e.converter}class N0{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new J_(this,"async_queue_retry"),this.iu=()=>{const r=_p();r&&Ut("AsyncQueue","Visibility state changed to "+r.visibilityState),this.zo.Qo()};const e=_p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const r=_p();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const r=new to;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,he.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(r){if(!Lt(r))throw r;Ut("AsyncQueue","Operation failed with retryable error: "+r)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const r=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(g){let S=g.message||"";return g.stack&&(S=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),S}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=r,r}enqueueAfterDelay(e,r,s){this.su(),this.ru.indexOf(e)>-1&&(r=0);const l=_m.createAndSchedule(this,e,r,s,d=>this.au(d));return this.Xa.push(l),l}su(){this.eu&&Rn()}verifyOperationInProgress(){}uu(){var e=this;return(0,he.Z)(function*(){let r;do{r=e.Ja,yield r}while(r!==e.Ja)})()}cu(e){for(const r of this.Xa)if(r.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Xa)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const r=this.Xa.indexOf(e);this.Xa.splice(r,1)}}function jm(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(i)}class k0{constructor(){this._progressObserver={},this._taskCompletionResolver=new to,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yi extends tf{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new N0,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nv(this),this._firestoreClient.terminate()}}function vo(i){return i._firestoreClient||Nv(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Nv(i){var e,r,s;const l=i._freezeSettings(),d=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Bu(i._databaseId,R,i._persistenceKey,(te=l).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,Bm(te.experimentalLongPollingOptions),te.useFetchStreams));var R,te;i._firestoreClient=new aa(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function kv(i,e,r){const s=new to;return i.asyncQueue.enqueue((0,he.Z)(function*(){try{yield Fp(i,r),yield Tv(i,e),s.resolve()}catch(l){const d=l;if(!xm(d))throw d;ns("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function zp(i){if(i._initialized||i._terminated)throw new _t(Ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(mo.fromBase64String(e))}catch(r){throw new _t(Ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Il(mo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new _t(Ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pc{constructor(e){this._methodName=e}}class bd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _t(Ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _t(Ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}const z0=/^__.*__$/;class G0{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new dl(e,this.data,this.fieldMask,r,this.fieldTransforms):new cl(e,this.data,r,this.fieldTransforms)}}class Gp{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new dl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function zm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class nf{constructor(e,r,s,l,d,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Pu(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new nf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Tu({path:s,du:!1});return l.Au(e),l}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Tu({path:s,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Qp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(zm(this.Iu)&&z0.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class W0{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||ad(e)}pu(e,r,s,l=!1){return new nf({Iu:e,methodName:r,gu:s,path:ui.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gc(i){const e=i._freezeSettings(),r=ad(i._databaseId);return new W0(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Wp(i,e,r,s,l,d={}){const g=i.pu(d.merge||d.mergeFields?2:0,e,r,l);Sd("Data must be an object, but it was:",g,s);const S=Kp(s,g);let R,H;if(d.merge)R=new Wo(g.fieldMask),H=g.fieldTransforms;else if(d.mergeFields){const te=[];for(const Ae of d.mergeFields){const tt=Rd(e,Ae,r);if(!g.contains(tt))throw new _t(Ct.INVALID_ARGUMENT,`Field '${tt}' is specified in your field mask but missing from your input data.`);Md(te,tt)||te.push(tt)}R=new Wo(te),H=g.fieldTransforms.filter(Ae=>R.covers(Ae.field))}else R=null,H=g.fieldTransforms;return new G0(new ro(S),R,H)}class qa extends pc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qa}}function Gm(i,e,r){return new nf({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qp extends pc{_toFieldTransform(e){return new zl(e.path,new as)}isEqual(e){return e instanceof qp}}class q0 extends pc{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=Gm(this,e,!0),s=this.yu.map(d=>mc(d,r)),l=new ja(s);return new zl(e.path,l)}isEqual(e){return this===e}}class Lv extends pc{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=Gm(this,e,!0),s=this.yu.map(d=>mc(d,r)),l=new Hl(s);return new zl(e.path,l)}isEqual(e){return this===e}}class Vv extends pc{constructor(e,r){super(e),this.wu=r}_toFieldTransform(e){const r=new sa(e.serializer,vu(e.serializer,this.wu));return new zl(e.path,r)}isEqual(e){return this===e}}function Yp(i,e,r,s){const l=i.pu(1,e,r);Sd("Data must be an object, but it was:",l,s);const d=[],g=ro.empty();xa(s,(R,H)=>{const te=Zp(e,R,r);H=(0,re.m9)(H);const Ae=l.Ru(te);if(H instanceof qa)d.push(te);else{const tt=mc(H,Ae);null!=tt&&(d.push(te),g.set(te,tt))}});const S=new Wo(d);return new Gp(g,S,l.fieldTransforms)}function Ad(i,e,r,s,l,d){const g=i.pu(1,e,r),S=[Rd(e,s,r)],R=[l];if(d.length%2!=0)throw new _t(Ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let tt=0;tt<d.length;tt+=2)S.push(Rd(e,d[tt])),R.push(d[tt+1]);const H=[],te=ro.empty();for(let tt=S.length-1;tt>=0;--tt)if(!Md(H,S[tt])){const It=S[tt];let sn=R[tt];sn=(0,re.m9)(sn);const gn=g.Ru(It);if(sn instanceof qa)H.push(It);else{const ln=mc(sn,gn);null!=ln&&(H.push(It),te.set(It,ln))}}const Ae=new Wo(H);return new Gp(te,Ae,g.fieldTransforms)}function Bv(i,e,r,s=!1){return mc(r,i.pu(s?4:3,e))}function mc(i,e){if($v(i=(0,re.m9)(i)))return Sd("Unsupported field value:",e,i),Kp(i,e);if(i instanceof pc)return function(s,l){if(!zm(l.Iu))throw l.mu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,l){const d=[];let g=0;for(const S of s){let R=mc(S,l.Vu(g));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),g++}return{arrayValue:{values:d}}}(i,e)}return function(s,l){if(null===(s=(0,re.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return vu(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Ii.fromDate(s);return{timestampValue:Yo(l.serializer,d)}}if(s instanceof Ii){const d=new Ii(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yo(l.serializer,d)}}if(s instanceof bd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Il)return{bytesValue:Tu(l.serializer,s._byteString)};if(s instanceof qi){const d=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(d))throw l.mu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:gh(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.mu(`Unsupported field value: ${Cd(s)}`)}(i,e)}function Kp(i,e){const r={};return kc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(i,(s,l)=>{const d=mc(l,e.Eu(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function $v(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ii||i instanceof bd||i instanceof Il||i instanceof qi||i instanceof pc)}function Sd(i,e,r){if(!$v(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Cd(r);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var l}function Rd(i,e,r){if((e=(0,re.m9)(e))instanceof Pu)return e._internalPath;if("string"==typeof e)return Zp(i,e);throw Qp("Field path arguments must be of type string or ",i,!1,void 0,r)}const Uv=new RegExp("[~\\*/\\[\\]]");function Zp(i,e,r){if(e.search(Uv)>=0)throw Qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Pu(...e.split("."))._internalPath}catch{throw Qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Qp(i,e,r,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let S=`Function ${e}() called with invalid data`;r&&(S+=" (via `toFirestore()`)"),S+=". ";let R="";return(d||g)&&(R+=" (found",d&&(R+=` in field ${s}`),g&&(R+=` in document ${l}`),R+=")"),new _t(Ct.INVALID_ARGUMENT,S+i+R)}function Md(i,e){return i.some(r=>r.isEqual(e))}class rf{constructor(e,r,s,l,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Y0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Y0 extends rf{data(){return super.data()}}function Xp(i,e){return"string"==typeof e?Zp(i,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}function jv(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _t(Ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class sf extends Wm{}function xu(i,e,...r){let s=[];e instanceof Wm&&s.push(e),s=s.concat(r),function(d){const g=d.filter(R=>R instanceof Ou).length,S=d.filter(R=>R instanceof af).length;if(g>1||g>0&&S>0)throw new _t(Ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class af extends sf{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new af(e,r,s)}_apply(e){const r=this._parse(e);return Pd(e._query,r),new us(e.firestore,e.converter,Bf(e._query,r))}_parse(e){const r=gc(e.firestore);return function(d,g,S,R,H,te,Ae){let tt;if(H.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new _t(Ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){Ya(Ae,te);const It=[];for(const sn of Ae)It.push(Zm(R,d,sn));tt={arrayValue:{values:It}}}else tt=Zm(R,d,Ae)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||Ya(Ae,te),tt=Bv(S,"where",Ae,"in"===te||"not-in"===te);return Ur.create(H,te,tt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Ou extends Wm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ou(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:ti.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,d){let g=l;const S=d.getFlattenedFilters();for(const R of S)Pd(g,R),g=Bf(g,R)}(e._query,r),new us(e.firestore,e.converter,Bf(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ym extends sf{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ym(e,r)}_apply(e){const r=function(l,d,g){if(null!==l.startAt)throw new _t(Ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new _t(Ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(d,g)}(e._query,this._field,this._direction);return new us(e.firestore,e.converter,function(l,d){const g=l.explicitOrderBy.concat([d]);return new na(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class Jp extends sf{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Jp(e,r,s)}_apply(e){return new us(e.firestore,e.converter,Ul(e._query,this._limit,this._limitType))}}class eg extends sf{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new eg(e,r,s)}_apply(e){const r=Km(e,this.type,this._docOrFields,this._inclusive);return new us(e.firestore,e.converter,(d=r,new na((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}class lf extends sf{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new lf(e,r,s)}_apply(e){const r=Km(e,this.type,this._docOrFields,this._inclusive);return new us(e.firestore,e.converter,(d=r,new na((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function Km(i,e,r,s){if(r[0]=(0,re.m9)(r[0]),r[0]instanceof rf)return function(d,g,S,R,H){if(!R)throw new _t(Ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const te=[];for(const Ae of ra(d))if(Ae.field.isKeyField())te.push(Gs(g,R.key));else{const tt=R.data.field(Ae.field);if(Hs(tt))throw new _t(Ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===tt){const It=Ae.field.canonicalString();throw new _t(Ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${It}' (used as the orderBy) does not exist.`)}te.push(tt)}return new bi(te,H)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const l=gc(i.firestore);return function(g,S,R,H,te,Ae){const tt=g.explicitOrderBy;if(te.length>tt.length)throw new _t(Ct.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const It=[];for(let sn=0;sn<te.length;sn++){const gn=te[sn];if(tt[sn].field.isKeyField()){if("string"!=typeof gn)throw new _t(Ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof gn}`);if(!Ba(g)&&-1!==gn.indexOf("/"))throw new _t(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${gn}' contains a slash.`);const ln=g.path.child(Rr.fromString(gn));if(!fn.isDocumentKey(ln))throw new _t(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const Qn=new fn(ln);It.push(Gs(S,Qn))}else{const ln=Bv(R,H,gn);It.push(ln)}}return new bi(It,Ae)}(i._query,i.firestore._databaseId,l,e,r,s)}}function Zm(i,e,r){if("string"==typeof(r=(0,re.m9)(r))){if(""===r)throw new _t(Ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ba(e)&&-1!==r.indexOf("/"))throw new _t(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Rr.fromString(r));if(!fn.isDocumentKey(s))throw new _t(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Gs(i,new fn(s))}if(r instanceof qi)return Gs(i,r._key);throw new _t(Ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(r)}.`)}function Ya(i,e){if(!Array.isArray(i)||0===i.length)throw new _t(Ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pd(i,e){const r=function(l,d){for(const g of l)for(const S of g.getFlattenedFilters())if(d.indexOf(S.op)>=0)return S.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new _t(Ct.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class iu{convertValue(e,r="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return no(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Rn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return xa(e,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new bd(no(e.latitude),no(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Vc(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const r=ta(e);return new Ii(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Rr.fromString(e);xn(N_(s));const l=new os(s.get(1),s.get(3)),d=new fn(s.popFirst(5));return l.isEqual(r)||Bi(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function _c(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class Da extends iu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,r)}}class Ca{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends rf{constructor(e,r,s,l,d,g){super(e,r,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new El(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class El extends Ys{data(e={}){return super.data(e)}}class la{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Ca(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new El(this._firestore,this._userDataWriter,s.key,s,new Ca(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _t(Ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(S=>({type:"added",doc:new El(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Ca(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(S=>d||3!==S.type).map(S=>{const R=new El(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Ca(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter);let H=-1,te=-1;return 0!==S.type&&(H=g.indexOf(S.doc.key),g=g.delete(S.doc.key)),1!==S.type&&(g=g.add(S.doc),te=g.indexOf(S.doc.key)),{type:Od(S.type),doc:R,oldIndex:H,newIndex:te}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Od(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function Qm(i,e){return i instanceof Ys&&e instanceof Ys?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof la&&e instanceof la&&i._firestore===e._firestore&&Hp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class ou extends iu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,r)}}function Xm(i,e,r){i=qr(i,qi);const s=qr(i.firestore,Yi),l=_c(i.converter,e,r);return wa(s,[Wp(gc(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Ai.none())])}function hf(i,e,r,...s){i=qr(i,qi);const l=qr(i.firestore,Yi),d=gc(l);let g;return g="string"==typeof(e=(0,re.m9)(e))||e instanceof Pu?Ad(d,"updateDoc",i._key,e,r,s):Yp(d,"updateDoc",i._key,e),wa(l,[g.toMutation(i._key,Ai.exists(!0))])}function Xv(i,...e){var r,s,l;i=(0,re.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||jm(e[g])||(d=e[g],g++);const S={includeMetadataChanges:d.includeMetadataChanges};if(jm(e[g])){const Ae=e[g];e[g]=null===(r=Ae.next)||void 0===r?void 0:r.bind(Ae),e[g+1]=null===(s=Ae.error)||void 0===s?void 0:s.bind(Ae),e[g+2]=null===(l=Ae.complete)||void 0===l?void 0:l.bind(Ae)}let R,H,te;if(i instanceof qi)H=qr(i.firestore,Yi),te=$l(i._key.path),R={next:Ae=>{e[g]&&e[g](ff(H,i,Ae))},error:e[g+1],complete:e[g+2]};else{const Ae=qr(i,us);H=qr(Ae.firestore,Yi),te=Ae._query;const tt=new ou(H);R={next:It=>{e[g]&&e[g](new la(H,tt,Ae,It))},error:e[g+1],complete:e[g+2]},jv(i._query)}return function(tt,It,sn,gn){const ln=new Jh(gn),Qn=new Cp(It,ln,sn);return tt.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return vm(yield Td(tt),Qn)})),()=>{ln.Na(),tt.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return rv(yield Td(tt),Qn)}))}}(vo(H),te,S,R)}function wa(i,e){return function(s,l){const d=new to;return s.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function lv(i,e,r){return bp.apply(this,arguments)}(yield km(s),l,d)})),d.promise}(vo(i),e)}function ff(i,e,r){const s=r.docs.get(e._key),l=new ou(i);return new Ys(i,l,e._key,s,new Ca(r.hasPendingWrites,r.fromCache),e.converter)}const ey={maxAttempts:5};class t_{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=gc(e)}set(e,r,s){this._verifyNotCommitted();const l=ua(e,this._firestore),d=_c(l.converter,r,s),g=Wp(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,Ai.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const d=ua(e,this._firestore);let g;return g="string"==typeof(r=(0,re.m9)(r))||r instanceof Pu?Ad(this._dataReader,"WriteBatch.update",d._key,r,s,l):Yp(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(g.toMutation(d._key,Ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ua(e,this._firestore);return this._mutations=this._mutations.concat(new Ha(r._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(Ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ua(i,e){if((i=(0,re.m9)(i)).firestore!==e)throw new _t(Ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class aI extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=gc(r)}get(r){const s=ua(r,this._firestore),l=new Da(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return Rn();const g=d[0];if(g.isFoundDocument())return new rf(this._firestore,l,g.key,g,s.converter);if(g.isNoDocument())return new rf(this._firestore,l,s._key,null,s.converter);throw Rn()})}set(r,s,l){const d=ua(r,this._firestore),g=_c(d.converter,s,l),S=Wp(this._dataReader,"Transaction.set",d._key,g,null!==d.converter,l);return this._transaction.set(d._key,S),this}update(r,s,l,...d){const g=ua(r,this._firestore);let S;return S="string"==typeof(s=(0,re.m9)(s))||s instanceof Pu?Ad(this._dataReader,"Transaction.update",g._key,s,l,d):Yp(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,S),this}delete(r){const s=ua(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=ua(e,this._firestore),s=new ou(this._firestore);return super.get(e).then(l=>new Ys(this._firestore,s,r._key,l._document,new Ca(!1,!1),r.converter))}}function pf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _t("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Nd(){if(typeof Uint8Array>"u")throw new _t("unimplemented","Uint8Arrays are not available in this environment.")}function iy(){if(!function Lc(){return typeof atob<"u"}())throw new _t("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){wi=Be.SDK_VERSION,(0,Be._registerComponent)(new Fe.wA("firestore",(s,{instanceIdentifier:l,options:d})=>{const g=s.getProvider("app").getImmediate(),S=new Yi(new Wd(s.getProvider("auth-internal")),new Pl(s.getProvider("app-check-internal")),function(H,te){if(!Object.prototype.hasOwnProperty.apply(H.options,["projectId"]))throw new _t(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new os(H.options.projectId,te)}(g,l),g);return d=Object.assign({useFetchStreams:r},d),S._setSettings(d),S},"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(Ml,"4.4.0",e),(0,Be.registerVersion)(Ml,"4.4.0","esm2017")}();class kd{constructor(e){this._delegate=e}static fromBase64String(e){return iy(),new kd(Il.fromBase64String(e))}static fromUint8Array(e){return Nd(),new kd(Il.fromUint8Array(e))}toBase64(){return iy(),this._delegate.toBase64()}toUint8Array(){return Nd(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function o_(i){return function pI(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(i,["next","error","complete"])}class oy{enableIndexedDbPersistence(e,r){return function jE(i,e){zp(i=qr(i,Yi));const r=vo(i);if(r._uninitializedComponentsProvider)throw new _t(Ct.FAILED_PRECONDITION,"SDK cache is already specified.");ns("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new Id;return kv(r,l,new Mm(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function L0(i){zp(i=qr(i,Yi));const e=vo(i);if(e._uninitializedComponentsProvider)throw new _t(Ct.FAILED_PRECONDITION,"SDK cache is already specified.");ns("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),s=new Id;return kv(e,s,new yv(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function V0(i){if(i._initialized&&!i._terminated)throw new _t(Ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new to;return i._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(r=(0,he.Z)(function*(l){if(!Q.D())return Promise.resolve();const d=l+"main";yield Q.delete(d)}),function s(l){return r.apply(this,arguments)})(oc(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class s_{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof os||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&ns("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){!function Um(i,e,r,s={}){var l;const d=(i=qr(i,tf))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),s.mockUserToken){let S,R;if("string"==typeof s.mockUserToken)S=s.mockUserToken,R=Vr.MOCK_USER;else{S=(0,re.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const H=s.mockUserToken.sub||s.mockUserToken.user_id;if(!H)throw new _t(Ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Vr(H)}i._authCredentials=new Fu(new Cf(S,R))}}(this._delegate,e,r,s)}enableNetwork(){return function $0(i){return function x0(i){return i.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield Dv(i),r=yield Bp(i);return e.setNetworkEnabled(!0),function(l){const d=hn(l);return d.C_.delete(0),ac(d)}(r)}))}(vo(i=qr(i,Yi)))}(this._delegate)}disableNetwork(){return function U0(i){return function vl(i){return i.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield Dv(i),r=yield Bp(i);return e.setNetworkEnabled(!1),(s=(0,he.Z)(function*(d){const g=hn(d);g.C_.add(0),yield Jl(g),g.M_.set("Offline")}),function l(d){return s.apply(this,arguments)})(r);var s}))}(vo(i=qr(i,Yi)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Up("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function B0(i){return function(r){const s=new to;return r.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function Rp(i,e){return Mp.apply(this,arguments)}(yield km(r),s)})),s.promise}(vo(i=qr(i,Yi)))}(this._delegate)}onSnapshotsInSync(e){return function Jm(i,e){return function Sv(i,e){const r=new Jh(e);return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return l=yield Td(i),d=r,hn(l).q_.add(d),void d.next();var l,d})),()=>{r.Na(),i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return l=yield Td(i),d=r,void hn(l).q_.delete(d);var l,d}))}}(vo(i=qr(i,Yi)),jm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _t("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fd(this,jp(this._delegate,e))}catch(r){throw Ps(r,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,Mu(this._delegate,e))}catch(r){throw Ps(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function Ov(i,e){if(i=qr(i,tf),Dd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _t(Ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(i,null,(s=e,new na(Rr.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw Ps(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lI(i,e,r){i=qr(i,Yi);const s=Object.assign(Object.assign({},ey),r);return function(d){if(d.maxAttempts<1)throw new _t(Ct.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,g,S){const R=new to;return d.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const H=yield function Cv(i){return Lp(i).then(e=>e.datastore)}(d);new P0(d.asyncQueue,H,S,g,R).run()})),R.promise}(vo(i),l=>e(new aI(i,l)),s)}(this._delegate,r=>e(new a_(this,r)))}batch(){return vo(this._delegate),new sy(new t_(this._delegate,e=>wa(this._delegate,e)))}loadBundle(e){return function fc(i,e){const r=vo(i=qr(i,Yi)),s=new k0;return function Rv(i,e,r,s){const l=function(g,S){let R;return R="string"==typeof g?ed().encode(g):g,te=function(te,Ae){if(te instanceof Uint8Array)return Iv(te,void 0);if(te instanceof ArrayBuffer)return Iv(new Uint8Array(te),void 0);if(te instanceof ReadableStream)return te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Ev(te,S);var te}(r,ad(e));i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function R0(i,e,r){const s=hn(i);var l;(l=(0,he.Z)(function*(g,S,R){try{const H=yield S.getMetadata();if(yield function(sn,gn){const ln=hn(sn),Qn=Hi(gn.createTime);return ln.persistence.runTransaction("hasNewerBundle","readonly",sr=>ln.Kr.getBundleMetadata(sr,gn.id)).then(sr=>!!sr&&sr.createTime.compareTo(Qn)>=0)}(g.localStore,H))return yield S.close(),R._completeWith({taskState:"Success",documentsLoaded:(sn=H).totalDocuments,bytesLoaded:sn.totalBytes,totalDocuments:sn.totalDocuments,totalBytes:sn.totalBytes}),Promise.resolve(new Set);R._updateProgress(ov(H));const te=new D0(H,g.localStore,S.serializer);let Ae=yield S.Ma();for(;Ae;){const It=yield te.ea(Ae);It&&R._updateProgress(It),Ae=yield S.Ma()}const tt=yield te.complete();return yield ru(g,tt.ra,void 0),yield function(sn,gn){const ln=hn(sn);return ln.persistence.runTransaction("Save bundle","readwrite",Qn=>ln.Kr.saveBundleMetadata(Qn,gn))}(g.localStore,H),R._completeWith(tt.progress),Promise.resolve(tt.na)}catch(H){return ns("SyncEngine",`Loading bundle failed with ${H}`),R._failWith(H),Promise.resolve(new Set)}var sn}),function d(g,S,R){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield km(i),l,s)}))}(r,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function H0(i,e){return function $p(i,e){return i.asyncQueue.enqueue((0,he.Z)(function*(){return function(s,l){const d=hn(s);return d.persistence.runTransaction("Get named query","readonly",g=>d.Kr.getNamedQuery(g,l))}(yield Ed(i),e)}))}(vo(i=qr(i,Yi)),e).then(r=>r?new us(i,null,r.query):null)}(this._delegate,e).then(r=>r?new xs(this,r):null)}}class vc extends iu{constructor(e){super(),this.firestore=e}convertBytes(e){return new kd(new Il(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(r,this.firestore,null)}}class a_{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new vc(e)}get(e){const r=Ld(e);return this._delegate.get(r).then(s=>new gf(this._firestore,new Ys(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const l=Ld(e);return s?(pf("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=Ld(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=Ld(e);return this._delegate.delete(r),this}}class sy{constructor(e){this._delegate=e}set(e,r,s){const l=Ld(e);return s?(pf("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=Ld(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=Ld(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class yc{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new El(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mf(this._firestore,s),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=yc.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(r);return d||(d=new yc(e,new vc(e),r),l.set(r,d)),d}}yc.INSTANCES=new WeakMap;class Aa{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new vc(e)}static forPath(e,r,s){if(e.length%2!=0)throw new _t("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(r,new qi(r._delegate,s,new fn(e)))}static forKey(e,r,s){return new Aa(r,new qi(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Fd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fd(this.firestore,jp(this._delegate,e))}catch(r){throw Ps(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,re.m9)(e))instanceof qi&&wd(this._delegate,e)}set(e,r){r=pf("DocumentReference.set",r);try{return r?Xm(this._delegate,e,r):Xm(this._delegate,e)}catch(s){throw Ps(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?hf(this._delegate,e):hf(this._delegate,e,r,...s)}catch(l){throw Ps(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Nu(i){return wa(qr(i.firestore,Yi),[new Ha(i._key,Ai.none())])}(this._delegate)}onSnapshot(...e){const r=ay(e),s=ly(e,l=>new gf(this.firestore,new Ys(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Xv(this._delegate,r,s)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function qv(i){i=qr(i,qi);const e=qr(i.firestore,Yi),r=vo(e),s=new ou(e);return function Lm(i,e){const r=new to;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(d,g,S){try{const R=yield function(te,Ae){const tt=hn(te);return tt.persistence.runTransaction("read document","readonly",It=>tt.localDocuments.getDocument(It,Ae))}(d,g);R.isFoundDocument()?S.resolve(R):R.isNoDocument()?S.resolve(null):S.reject(new _t(Ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const H=fd(R,`Failed to get document '${g} from cache`);S.reject(H)}}),function l(d,g,S){return s.apply(this,arguments)})(yield Ed(i),e,r);var s})),r.promise}(r,i._key).then(l=>new Ys(e,s,i._key,l,new Ca(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Yv(i){i=qr(i,qi);const e=qr(i.firestore,Yi);return wv(vo(e),i._key,{source:"server"}).then(r=>ff(e,i,r))}(this._delegate):function Wv(i){i=qr(i,qi);const e=qr(i.firestore,Yi);return wv(vo(e),i._key).then(r=>ff(e,i,r))}(this._delegate),r.then(s=>new gf(this.firestore,new Ys(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}function Ps(i,e,r){return i.message=i.message.replace(e,r),i}function ay(i){for(const e of i)if("object"==typeof e&&!o_(e))return e;return{}}function ly(i,e){var r,s;let l;return l=o_(i[0])?i[0]:o_(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class gf{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return Qm(this._delegate,e._delegate)}}class mf extends gf{data(e){const r=this._delegate.data(e);return this._delegate._converter||function Ja(i,e){i||Rn()}(void 0!==r),r}}class xs{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new vc(e)}where(e,r,s){try{return new xs(this.firestore,xu(this._delegate,function Hv(i,e,r){const s=e,l=Xp("where",i);return af._create(l,s,r)}(e,r,s)))}catch(l){throw Ps(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new xs(this.firestore,xu(this._delegate,function K0(i,e="asc"){const r=e,s=Xp("orderBy",i);return Ym._create(s,r)}(e,r)))}catch(s){throw Ps(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,xu(this._delegate,function Z0(i){return O0("limit",i),Jp._create("limit",i,"F")}(e)))}catch(r){throw Ps(r,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,xu(this._delegate,function Q0(i){return O0("limitToLast",i),Jp._create("limitToLast",i,"L")}(e)))}catch(r){throw Ps(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,xu(this._delegate,function X0(...i){return eg._create("startAt",i,!0)}(...e)))}catch(r){throw Ps(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,xu(this._delegate,function zv(...i){return eg._create("startAfter",i,!1)}(...e)))}catch(r){throw Ps(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,xu(this._delegate,function J0(...i){return lf._create("endBefore",i,!1)}(...e)))}catch(r){throw Ps(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,xu(this._delegate,function zE(...i){return lf._create("endAt",i,!0)}(...e)))}catch(r){throw Ps(r,"endAt()","Query.endAt()")}}isEqual(e){return Hp(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Zv(i){i=qr(i,us);const e=qr(i.firestore,Yi),r=vo(e),s=new ou(e);return function bv(i,e){const r=new to;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(d,g,S){try{const R=yield Fh(d,g,!0),H=new Tm(g,R.ls),te=H.ca(R.documents),Ae=H.applyChanges(te,!1);S.resolve(Ae.snapshot)}catch(R){const H=fd(R,`Failed to execute query '${g} against cache`);S.reject(H)}}),function l(d,g,S){return s.apply(this,arguments)})(yield Ed(i),e,r);var s})),r.promise}(r,i._query).then(l=>new la(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function Qv(i){i=qr(i,us);const e=qr(i.firestore,Yi),r=vo(e),s=new ou(e);return Av(r,i._query,{source:"server"}).then(l=>new la(e,s,i,l))}(this._delegate):function Kv(i){i=qr(i,us);const e=qr(i.firestore,Yi),r=vo(e),s=new ou(e);return jv(i._query),Av(r,i._query).then(l=>new la(e,s,i,l))}(this._delegate),r.then(s=>new _f(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=ay(e),s=ly(e,l=>new _f(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Xv(this._delegate,r,s)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}class mI{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new mf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _f{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new mI(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new mf(this._firestore,s))})}isEqual(e){return Qm(this._delegate,e._delegate)}}class Fd extends xs{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?Mu(this._delegate):Mu(this._delegate,e))}catch(r){throw Ps(r,"doc()","CollectionReference.doc()")}}add(e){return function eI(i,e){const r=qr(i.firestore,Yi),s=Mu(i),l=_c(i.converter,e);return wa(r,[Wp(gc(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Ai.exists(!1))]).then(()=>s)}(this._delegate,e).then(r=>new Aa(this.firestore,r))}isEqual(e){return wd(this._delegate,e._delegate)}withConverter(e){return new Fd(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}function Ld(i){return qr(i,qi)}class uy{constructor(...e){this._delegate=new Pu(...e)}static documentId(){return new uy(ui.keyField().canonicalString())}isEqual(e){return(e=(0,re.m9)(e))instanceof Pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ic{constructor(e){this._delegate=e}static serverTimestamp(){const e=function uI(){return new qp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ic(e)}static delete(){const e=function ty(){return new qa("deleteField")}();return e._methodName="FieldValue.delete",new Ic(e)}static arrayUnion(...e){const r=function ny(...i){return new q0("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new Ic(r)}static arrayRemove(...e){const r=function ZE(...i){return new Lv("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new Ic(r)}static increment(e){const r=function n_(i){return new Vv("increment",i)}(e);return r._methodName="FieldValue.increment",new Ic(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _I={Firestore:s_,GeoPoint:bd,Timestamp:Ii,Blob:kd,Transaction:a_,WriteBatch:sy,DocumentReference:Aa,DocumentSnapshot:gf,Query:xs,QueryDocumentSnapshot:mf,QuerySnapshot:_f,CollectionReference:Fd,FieldPath:uy,FieldValue:Ic,setLogLevel:function gI(i){!function Gd(i){Vs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function vI(i){(function JE(i,e){i.INTERNAL.registerComponent(new Fe.wA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),l=r.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},_I)))})(i,(e,r)=>new s_(e,r,new oy)),i.registerVersion("@firebase/firestore-compat","0.3.23")}(gt.Z);var eT=O(7142);function cy(i,e){return function yI(i,e=Ie.z){return new qe.y(r=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,e)}function vf(i,e){return cy(i,e).pipe((0,ke.U)(r=>({payload:r,type:"query"})))}class Vd{constructor(e,r){(0,u.Z)(this,"ref",void 0),(0,u.Z)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const s=this.ref.collection(e),{ref:l,query:d}=my(s,r);return new $d(l,d,this.afs)}snapshotChanges(){return function II(i,e){return cy(i,e).pipe((0,fe.O)(void 0),Ve(),(0,ke.U)(r=>{const[s,l]=r;return l.exists?null!=s&&s.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ke.U)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,Ge.D)(this.ref.get(e)).pipe(ae.iC)}}function Bd(i,e){return vf(i,e).pipe((0,fe.O)(void 0),Ve(),(0,ke.U)(r=>{const[s,l]=r,d=l.payload.docChanges(),g=d.map(S=>({type:S.type,payload:S}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((S,R)=>{const H=d.find(Ae=>Ae.doc.ref.isEqual(S.ref)),te=null==s?void 0:s.payload.docs.find(Ae=>Ae.ref.isEqual(S.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(S.metadata)||!H&&te&&JSON.stringify(te.metadata)===JSON.stringify(S.metadata)||g.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:S}})}),g}))}function yf(i,e,r){return Bd(i,r).pipe((0,st.R)((s,l)=>function dy(i,e,r){return e.forEach(s=>{r.indexOf(s.type)>-1&&(i=function hy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ec(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return Ec(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ec(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),(0,Le.x)(),(0,ke.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Ec(i,e,r,...s){const l=i.slice();return l.splice(e,r,...s),l}function fy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class $d{constructor(e,r,s){(0,u.Z)(this,"ref",void 0),(0,u.Z)(this,"query",void 0),(0,u.Z)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=s}stateChanges(e){let r=Bd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,ke.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,fe.O)(void 0),Ve(),(0,je.h)(([s,l])=>l.length>0||!s),(0,ke.U)(([,s])=>s),ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,st.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=fy(e);return yf(this.query,r,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return vf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.U)(r=>r.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),ae.iC)}get(e){return(0,Ge.D)(this.query.get(e)).pipe(ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Vd(this.ref.doc(e),this.afs)}}class py{constructor(e,r){(0,u.Z)(this,"query",void 0),(0,u.Z)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Bd(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)),(0,je.h)(r=>r.length>0),ae.iC):Bd(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,st.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=fy(e);return yf(this.query,r,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return vf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),ae.iC)}get(e){return(0,Ge.D)(this.query.get(e)).pipe(ae.iC)}}const gy=new K.OlP("angularfire2.enableFirestorePersistence"),l_=new K.OlP("angularfire2.firestore.persistenceSettings"),rg=new K.OlP("angularfire2.firestore.settings"),EI=new K.OlP("angularfire2.firestore.use-emulator");function my(i,e=(r=>r)){return{query:e(i),ref:i}}let _y=(()=>{var i;class e{constructor(s,l,d,g,S,R,H,te,Ae,tt,It,sn,gn,ln,Qn,sr,nr){(0,u.Z)(this,"schedulers",void 0),(0,u.Z)(this,"firestore",void 0),(0,u.Z)(this,"persistenceEnabled$",void 0),this.schedulers=H;const Mr=(0,Oe.on)(s,R,l),ci=Ae;tt&&(0,de.nw)(Mr,R,It,gn,ln,Qn,sn,sr),[this.firestore,this.persistenceEnabled$]=(0,Oe.cc)(`${Mr.name}.firestore`,"AngularFirestore",Mr.name,()=>{const Jr=R.runOutsideAngular(()=>Mr.firestore());if(g&&Jr.settings(g),ci&&Jr.useEmulator(...ci),d&&!(0,U.PM)(S)){const yo=()=>{try{return(0,Ge.D)(Jr.enablePersistence(te||void 0).then(()=>!0,()=>!1))}catch(Xo){return typeof console<"u"&&console.warn(Xo),(0,Ce.of)(!1)}};return[Jr,R.runOutsideAngular(yo)]}return[Jr,(0,Ce.of)(!1)]},[g,ci,d])}collection(s,l){let d;d="string"==typeof s?this.firestore.collection(s):s;const{ref:g,query:S}=my(d,l),R=this.schedulers.ngZone.run(()=>g);return new $d(R,S,this)}collectionGroup(s,l){const d=l||(S=>S),g=this.firestore.collectionGroup(s);return new py(d(g),this)}doc(s){let l;l="string"==typeof s?this.firestore.doc(s):s;const d=this.schedulers.ngZone.run(()=>l);return new Vd(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,u.Z)(e,"\u0275fac",function(s){return new(s||i)(K.LFG(Oe.Dh),K.LFG(Oe.xv,8),K.LFG(gy,8),K.LFG(rg,8),K.LFG(K.Lbi),K.LFG(K.R0b),K.LFG(ae.HU),K.LFG(l_,8),K.LFG(EI,8),K.LFG(de.zQ,8),K.LFG(de.Qv,8),K.LFG(de.L6,8),K.LFG(de._Q,8),K.LFG(de.rT,8),K.LFG(de.lh,8),K.LFG(de.f7,8),K.LFG(ae.Rf,8))}),(0,u.Z)(e,"\u0275prov",K.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})(),TI=(()=>{var i;class e{constructor(){eT.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(s){return{ngModule:e,providers:[{provide:gy,useValue:!0},{provide:l_,useValue:s}]}}}return i=e,(0,u.Z)(e,"\u0275fac",function(s){return new(s||i)}),(0,u.Z)(e,"\u0275mod",K.oAB({type:i})),(0,u.Z)(e,"\u0275inj",K.cJS({providers:[_y]})),e})()},830:(Qt,it,O)=>{"use strict";O.d(it,{Q1:()=>Fr,TE:()=>Do});var u=O(1180),U=O(8326),K=O(5592),ae=O(2096),Oe=O(2459),de=O(6321),Ie=O(9360),qe=O(8251),Ce=O(7398),fe=O(4664),Ne=O(9212),$e=O(7217),Ve=O(3106),ke=O(5861),st=O(534),Le=O(9058),je=O(4537);const Ye="firebasestorage.googleapis.com",gt="storageBucket";class Ee extends Le.ZR{constructor(L,me,b=0){super(_e(L),`Firebase Storage: ${me} (${_e(L)})`),this.status_=b,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ee.prototype)}get status(){return this.status_}set status(L){this.status_=L}_codeEquals(L){return _e(L)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var re=function(z){return z.UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z}(re||{});function _e(z){return"storage/"+z}function q(){return new Ee(re.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xt(){return new Ee(re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pn(){return new Ee(re.CANCELED,"User canceled the upload/download.")}function be(){return new Ee(re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Tt(z){return new Ee(re.INVALID_ARGUMENT,z)}function At(){return new Ee(re.APP_DELETED,"The Firebase app was deleted.")}function Pt(z){return new Ee(re.INVALID_ROOT_OPERATION,"The operation '"+z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dt(z,L){return new Ee(re.INVALID_FORMAT,"String does not match format '"+z+"': "+L)}function Ht(z){throw new Ee(re.INTERNAL_ERROR,"Internal error: "+z)}class dn{constructor(L,me){this.bucket=L,this.path_=me}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const L=encodeURIComponent;return"/b/"+L(this.bucket)+"/o/"+L(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(L,me){let b;try{b=dn.makeFromUrl(L,me)}catch{return new dn(L,"")}if(""===b.path)return b;throw function Pe(z){return new Ee(re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+z+"'.")}(L)}static makeFromUrl(L,me){let b=null;const E="([A-Za-z0-9.\\-_]+)",ie=new RegExp("^gs://"+E+"(/(.*))?$","i");function Vt(Wr){Wr.path_=decodeURIComponent(Wr.path)}const ir=me.replace(/[.]/g,"\\."),Lr=[{regex:ie,indices:{bucket:1,path:3},postModify:function j(Wr){"/"===Wr.path.charAt(Wr.path.length-1)&&(Wr.path_=Wr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ir}/v[A-Za-z0-9_]+/b/${E}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Vt},{regex:new RegExp(`^https?://${me===Ye?"(?:storage.googleapis.com|storage.cloud.google.com)":me}/${E}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Vt}];for(let Wr=0;Wr<Lr.length;Wr++){const fo=Lr[Wr],Ji=fo.regex.exec(L);if(Ji){let Gi=Ji[fo.indices.path];Gi||(Gi=""),b=new dn(Ji[fo.indices.bucket],Gi),fo.postModify(b);break}}if(null==b)throw function ot(z){return new Ee(re.INVALID_URL,"Invalid URL '"+z+"'.")}(L);return b}}class vt{constructor(L){this.promise_=Promise.reject(L)}getPromise(){return this.promise_}cancel(L=!1){}}function _n(z){return"string"==typeof z||z instanceof String}function an(z){return Nn()&&z instanceof Blob}function Nn(){return typeof Blob<"u"}function Tn(z,L,me,b){if(b<L)throw Tt(`Invalid value for '${z}'. Expected ${L} or greater.`);if(b>me)throw Tt(`Invalid value for '${z}'. Expected ${me} or less.`)}function Zn(z,L,me){let b=L;return null==me&&(b=`https://${L}`),`${me}://${b}/v0${z}`}function Gt(z){const L=encodeURIComponent;let me="?";for(const b in z)z.hasOwnProperty(b)&&(me=me+(L(b)+"=")+L(z[b])+"&");return me=me.slice(0,-1),me}var Cn=function(z){return z[z.NO_ERROR=0]="NO_ERROR",z[z.NETWORK_ERROR=1]="NETWORK_ERROR",z[z.ABORT=2]="ABORT",z}(Cn||{});function wn(z,L){const me=z>=500&&z<600,E=-1!==[408,429].indexOf(z),j=-1!==L.indexOf(z);return me||E||j}class Yn{constructor(L,me,b,E,j,x,ie,at,Vt,An,ir,wr=!0){this.url_=L,this.method_=me,this.headers_=b,this.body_=E,this.successCodes_=j,this.additionalRetryCodes_=x,this.callback_=ie,this.errorCallback_=at,this.timeout_=Vt,this.progressCallback_=An,this.connectionFactory_=ir,this.retry=wr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ar,or)=>{this.resolve_=Ar,this.reject_=or,this.start_()})}start_(){const me=(b,E)=>{const j=this.resolve_,x=this.reject_,ie=E.connection;if(E.wasSuccessCode)try{const at=this.callback_(ie,ie.getResponse());!function bt(z){return void 0!==z}(at)?j():j(at)}catch(at){x(at)}else if(null!==ie){const at=q();at.serverResponse=ie.getErrorText(),x(this.errorCallback_?this.errorCallback_(ie,at):at)}else x(E.canceled?this.appDelete_?At():Pn():Xt())};this.canceled_?me(0,new rr(!1,null,!0)):this.backoffId_=function ht(z,L,me){let b=1,E=null,j=null,x=!1,ie=0;function at(){return 2===ie}let Vt=!1;function An(...Hr){Vt||(Vt=!0,L.apply(null,Hr))}function ir(Hr){E=setTimeout(()=>{E=null,z(Ar,at())},Hr)}function wr(){j&&clearTimeout(j)}function Ar(Hr,...Fn){if(Vt)return void wr();if(Hr)return wr(),void An.call(null,Hr,...Fn);if(at()||x)return wr(),void An.call(null,Hr,...Fn);let Lr;b<64&&(b*=2),1===ie?(ie=2,Lr=0):Lr=1e3*(b+Math.random()),ir(Lr)}let or=!1;function fi(Hr){or||(or=!0,wr(),!Vt&&(null!==E?(Hr||(ie=2),clearTimeout(E),ir(0)):Hr||(ie=1)))}return ir(0),j=setTimeout(()=>{x=!0,fi(!0)},me),fi}((b,E)=>{if(E)return void b(!1,new rr(!1,null,!0));const j=this.connectionFactory_();this.pendingConnection_=j;const x=ie=>{null!==this.progressCallback_&&this.progressCallback_(ie.loaded,ie.lengthComputable?ie.total:-1)};null!==this.progressCallback_&&j.addUploadProgressListener(x),j.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&j.removeUploadProgressListener(x),this.pendingConnection_=null;const ie=j.getErrorCode()===Cn.NO_ERROR,at=j.getStatus();if(!ie||wn(at,this.additionalRetryCodes_)&&this.retry){const An=j.getErrorCode()===Cn.ABORT;return void b(!1,new rr(!1,null,An))}const Vt=-1!==this.successCodes_.indexOf(at);b(!0,new rr(Vt,j))})},me,this.timeout_)}getPromise(){return this.promise_}cancel(L){this.canceled_=!0,this.appDelete_=L||!1,null!==this.backoffId_&&function lt(z){z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rr{constructor(L,me,b){this.wasSuccessCode=L,this.connection=me,this.canceled=!!b}}function Bn(...z){const L=function br(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==L){const me=new L;for(let b=0;b<z.length;b++)me.append(z[b]);return me.getBlob()}if(Nn())return new Blob(z);throw new Ee(re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hn{constructor(L,me){this.data=L,this.contentType=me||null}}function Kr(z,L){switch(z){case In.RAW:return new Hn(ei(L));case In.BASE64:case In.BASE64URL:return new Hn(li(z,L));case In.DATA_URL:return new Hn(function ri(z){const L=new zr(z);return L.base64?li(In.BASE64,L.rest):function Zr(z){let L;try{L=decodeURIComponent(z)}catch{throw dt(In.DATA_URL,"Malformed data URL.")}return ei(L)}(L.rest)}(L),function vr(z){return new zr(z).contentType}(L))}throw q()}function ei(z){const L=[];for(let me=0;me<z.length;me++){let b=z.charCodeAt(me);b<=127?L.push(b):b<=2047?L.push(192|b>>6,128|63&b):55296==(64512&b)?me<z.length-1&&56320==(64512&z.charCodeAt(me+1))?(b=65536|(1023&b)<<10|1023&z.charCodeAt(++me),L.push(240|b>>18,128|b>>12&63,128|b>>6&63,128|63&b)):L.push(239,191,189):56320==(64512&b)?L.push(239,191,189):L.push(224|b>>12,128|b>>6&63,128|63&b)}return new Uint8Array(L)}function li(z,L){switch(z){case In.BASE64:{const E=-1!==L.indexOf("-"),j=-1!==L.indexOf("_");if(E||j)throw dt(z,"Invalid character '"+(E?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const E=-1!==L.indexOf("+"),j=-1!==L.indexOf("/");if(E||j)throw dt(z,"Invalid character '"+(E?"+":"/")+"' found: is it base64 encoded?");L=L.replace(/-/g,"+").replace(/_/g,"/");break}}let me;try{me=function ni(z){if(typeof atob>"u")throw function Xe(z){return new Ee(re.UNSUPPORTED_ENVIRONMENT,`${z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(z)}(L)}catch(E){throw E.message.includes("polyfill")?E:dt(z,"Invalid character found")}const b=new Uint8Array(me.length);for(let E=0;E<me.length;E++)b[E]=me.charCodeAt(E);return b}class zr{constructor(L){this.base64=!1,this.contentType=null;const me=L.match(/^data:([^,]+)?,/);if(null===me)throw dt(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const b=me[1]||null;null!=b&&(this.base64=function gi(z,L){return z.length>=L.length&&z.substring(z.length-L.length)===L}(b,";base64"),this.contentType=this.base64?b.substring(0,b.length-7):b),this.rest=L.substring(L.indexOf(",")+1)}}class se{constructor(L,me){let b=0,E="";an(L)?(this.data_=L,b=L.size,E=L.type):L instanceof ArrayBuffer?(me?this.data_=new Uint8Array(L):(this.data_=new Uint8Array(L.byteLength),this.data_.set(new Uint8Array(L))),b=this.data_.length):L instanceof Uint8Array&&(me?this.data_=L:(this.data_=new Uint8Array(L.length),this.data_.set(L)),b=L.length),this.size_=b,this.type_=E}size(){return this.size_}type(){return this.type_}slice(L,me){if(an(this.data_)){const E=function hr(z,L,me){return z.webkitSlice?z.webkitSlice(L,me):z.mozSlice?z.mozSlice(L,me):z.slice?z.slice(L,me):null}(this.data_,L,me);return null===E?null:new se(E)}{const b=new Uint8Array(this.data_.buffer,L,me-L);return new se(b,!0)}}static getBlob(...L){if(Nn()){const me=L.map(b=>b instanceof se?b.data_:b);return new se(Bn.apply(null,me))}{const me=L.map(x=>_n(x)?Kr(In.RAW,x).data:x.data_);let b=0;me.forEach(x=>{b+=x.byteLength});const E=new Uint8Array(b);let j=0;return me.forEach(x=>{for(let ie=0;ie<x.length;ie++)E[j++]=x[ie]}),new se(E,!0)}}uploadData(){return this.data_}}function W(z){let L;try{L=JSON.parse(z)}catch{return null}return function En(z){return"object"==typeof z&&!Array.isArray(z)}(L)?L:null}function ge(z){const L=z.lastIndexOf("/",z.length-2);return-1===L?z:z.slice(L+1)}function ut(z,L){return L}class wt{constructor(L,me,b,E){this.server=L,this.local=me||L,this.writable=!!b,this.xform=E||ut}}let Yt=null;function $n(){if(Yt)return Yt;const z=[];z.push(new wt("bucket")),z.push(new wt("generation")),z.push(new wt("metageneration")),z.push(new wt("name","fullPath",!0));const me=new wt("name");me.xform=function L(j,x){return function kn(z){return!_n(z)||z.length<2?z:ge(z)}(x)},z.push(me);const E=new wt("size");return E.xform=function b(j,x){return void 0!==x?Number(x):x},z.push(E),z.push(new wt("timeCreated")),z.push(new wt("updated")),z.push(new wt("md5Hash",null,!0)),z.push(new wt("cacheControl",null,!0)),z.push(new wt("contentDisposition",null,!0)),z.push(new wt("contentEncoding",null,!0)),z.push(new wt("contentLanguage",null,!0)),z.push(new wt("contentType",null,!0)),z.push(new wt("metadata","customMetadata",!0)),Yt=z,Yt}function Zt(z,L,me){const b=W(L);return null===b?null:function nn(z,L,me){const b={type:"file"},E=me.length;for(let j=0;j<E;j++){const x=me[j];b[x.local]=x.xform(b,L[x.server])}return function fr(z,L){Object.defineProperty(z,"ref",{get:function me(){const j=new dn(z.bucket,z.fullPath);return L._makeStorageReference(j)}})}(b,z),b}(z,b,me)}function kr(z,L){const me={},b=L.length;for(let E=0;E<b;E++){const j=L[E];j.writable&&(me[j.server]=z[j.local])}return JSON.stringify(me)}const Fi="prefixes",Dt="items";class Jt{constructor(L,me,b,E){this.url=L,this.method=me,this.handler=b,this.timeout=E,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bn(z){if(!z)throw q()}function Sn(z,L){return function me(b,E){const j=Zt(z,E,L);return bn(null!==j),j}}function Xn(z){return function L(me,b){let E;return E=401===me.getStatus()?me.getErrorText().includes("Firebase App Check token is invalid")?function Je(){return new Ee(re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Me(){return new Ee(re.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===me.getStatus()?function ze(z){return new Ee(re.QUOTA_EXCEEDED,"Quota for bucket '"+z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(z.bucket):403===me.getStatus()?function St(z){return new Ee(re.UNAUTHORIZED,"User does not have permission to access '"+z+"'.")}(z.path):b,E.status=me.getStatus(),E.serverResponse=b.serverResponse,E}}function pr(z){const L=Xn(z);return function me(b,E){let j=L(b,E);return 404===b.getStatus()&&(j=function ee(z){return new Ee(re.OBJECT_NOT_FOUND,"Object '"+z+"' does not exist.")}(z.path)),j.serverResponse=E.serverResponse,j}}function di(z,L,me){const E=Zn(L.fullServerUrl(),z.host,z._protocol),x=z.maxOperationRetryTime,ie=new Jt(E,"GET",Sn(z,me),x);return ie.errorHandler=pr(L),ie}function Ri(z,L,me,b,E){const j={};j.prefix=L.isRoot?"":L.path+"/",me&&me.length>0&&(j.delimiter=me),b&&(j.pageToken=b),E&&(j.maxResults=E);const ie=Zn(L.bucketOnlyServerUrl(),z.host,z._protocol),Vt=z.maxOperationRetryTime,An=new Jt(ie,"GET",function Gn(z,L){return function me(b,E){const j=function kt(z,L,me){const b=W(me);return null===b?null:function nt(z,L,me){const b={prefixes:[],items:[],nextPageToken:me.nextPageToken};if(me[Fi])for(const E of me[Fi]){const j=E.replace(/\/$/,""),x=z._makeStorageReference(new dn(L,j));b.prefixes.push(x)}if(me[Dt])for(const E of me[Dt]){const j=z._makeStorageReference(new dn(L,E.name));b.items.push(j)}return b}(z,L,b)}(z,L,E);return bn(null!==j),j}}(z,L.bucket),Vt);return An.urlParams=j,An.errorHandler=Xn(L),An}function gr(z,L,me){const b=Object.assign({},me);return b.fullPath=z.path,b.size=L.size(),b.contentType||(b.contentType=function jn(z,L){return z&&z.contentType||L&&L.type()||"application/octet-stream"}(null,L)),b}class ye{constructor(L,me,b,E){this.current=L,this.total=me,this.finalized=!!b,this.metadata=E||null}}function Y(z,L){let me=null;try{me=z.getResponseHeader("X-Goog-Upload-Status")}catch{bn(!1)}return bn(!!me&&-1!==(L||["active"]).indexOf(me)),me}const on={STATE_CHANGED:"state_changed"},un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ln(z){switch(z){case"running":case"pausing":case"canceling":return un.RUNNING;case"paused":return un.PAUSED;case"success":return un.SUCCESS;case"canceled":return un.CANCELED;default:return un.ERROR}}class Br{constructor(L,me,b){if(function zt(z){return"function"==typeof z}(L)||null!=me||null!=b)this.next=L,this.error=null!=me?me:void 0,this.complete=null!=b?b:void 0;else{const j=L;this.next=j.next,this.error=j.error,this.complete=j.complete}}}function B(z){return(...L)=>{Promise.resolve().then(()=>z(...L))}}let Z=null;class xe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cn.NO_ERROR,this.sendPromise_=new Promise(L=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cn.ABORT,L()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cn.NETWORK_ERROR,L()}),this.xhr_.addEventListener("load",()=>{L()})})}send(L,me,b,E){if(this.sent_)throw Ht("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(me,L,!0),void 0!==E)for(const j in E)E.hasOwnProperty(j)&&this.xhr_.setRequestHeader(j,E[j].toString());return void 0!==b?this.xhr_.send(b):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ht("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ht("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ht("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ht("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(L){return this.xhr_.getResponseHeader(L)}addUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",L)}removeUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",L)}}class He extends xe{initXhr(){this.xhr_.responseType="text"}}function mt(){return Z?Z():new He}class Nt{constructor(L,me,b=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=L,this._blob=me,this._metadata=b,this._mappings=$n(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=E=>{if(this._request=void 0,this._chunkMultiplier=1,E._codeEquals(re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const j=this.isExponentialBackoffExpired();if(wn(E.status,[])){if(!j)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();E=Xt()}this._error=E,this._transition("error")}},this._metadataErrorHandler=E=>{this._request=void 0,E._codeEquals(re.CANCELED)?this.completeTransitions_():(this._error=E,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((E,j)=>{this._resolve=E,this._reject=j,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const L=this._transferred;return me=>this._updateProgress(L+me)}_shouldDoResumable(L){return L.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(L){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([me,b])=>{switch(this._state){case"running":L(me,b);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((L,me)=>{const b=function De(z,L,me,b,E){const j=L.bucketOnlyServerUrl(),x=gr(L,b,E),ie={name:x.fullPath},at=Zn(j,z.host,z._protocol),An={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${b.size()}`,"X-Goog-Upload-Header-Content-Type":x.contentType,"Content-Type":"application/json; charset=utf-8"},ir=kr(x,me),or=new Jt(at,"POST",function Ar(fi){let Hr;Y(fi);try{Hr=fi.getResponseHeader("X-Goog-Upload-URL")}catch{bn(!1)}return bn(_n(Hr)),Hr},z.maxUploadRetryTime);return or.urlParams=ie,or.headers=An,or.body=ir,or.errorHandler=Xn(L),or}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(b,mt,L,me);this._request=E,E.getPromise().then(j=>{this._request=void 0,this._uploadUrl=j,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const L=this._uploadUrl;this._resolveToken((me,b)=>{const E=function Ze(z,L,me,b){const at=new Jt(me,"POST",function j(Vt){const An=Y(Vt,["active","final"]);let ir=null;try{ir=Vt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{bn(!1)}ir||bn(!1);const wr=Number(ir);return bn(!isNaN(wr)),new ye(wr,b.size(),"final"===An)},z.maxUploadRetryTime);return at.headers={"X-Goog-Upload-Command":"query"},at.errorHandler=Xn(L),at}(this._ref.storage,this._ref._location,L,this._blob),j=this._ref.storage._makeRequest(E,mt,me,b);this._request=j,j.getPromise().then(x=>{this._request=void 0,this._updateProgress(x.current),this._needToFetchStatus=!1,x.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const L=262144*this._chunkMultiplier,me=new ye(this._transferred,this._blob.size()),b=this._uploadUrl;this._resolveToken((E,j)=>{let x;try{x=function tn(z,L,me,b,E,j,x,ie){const at=new ye(0,0);if(x?(at.current=x.current,at.total=x.total):(at.current=0,at.total=b.size()),b.size()!==at.total)throw function Te(){return new Ee(re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Vt=at.total-at.current;let An=Vt;E>0&&(An=Math.min(An,E));const ir=at.current;let Ar="";Ar=0===An?"finalize":Vt===An?"upload, finalize":"upload";const or={"X-Goog-Upload-Command":Ar,"X-Goog-Upload-Offset":`${at.current}`},fi=b.slice(ir,ir+An);if(null===fi)throw be();const Lr=new Jt(me,"POST",function Hr(Wr,fo){const Ji=Y(Wr,["active","final"]),ai=at.current+An,Gi=b.size();let Vi;return Vi="final"===Ji?Sn(L,j)(Wr,fo):null,new ye(ai,Gi,"final"===Ji,Vi)},L.maxUploadRetryTime);return Lr.headers=or,Lr.body=fi.uploadData(),Lr.progressCallback=ie||null,Lr.errorHandler=Xn(z),Lr}(this._ref._location,this._ref.storage,b,this._blob,L,this._mappings,me,this._makeProgressCallback())}catch(at){return this._error=at,void this._transition("error")}const ie=this._ref.storage._makeRequest(x,mt,E,j,!1);this._request=ie,ie.getPromise().then(at=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(at.current),at.finalized?(this._metadata=at.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((L,me)=>{const b=di(this._ref.storage,this._ref._location,this._mappings),E=this._ref.storage._makeRequest(b,mt,L,me);this._request=E,E.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((L,me)=>{const b=function we(z,L,me,b,E){const j=L.bucketOnlyServerUrl(),x={"X-Goog-Upload-Protocol":"multipart"},at=function ie(){let Lr="";for(let Wr=0;Wr<2;Wr++)Lr+=Math.random().toString().slice(2);return Lr}();x["Content-Type"]="multipart/related; boundary="+at;const Vt=gr(L,b,E),An=kr(Vt,me),Ar=se.getBlob("--"+at+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+An+"\r\n--"+at+"\r\nContent-Type: "+Vt.contentType+"\r\n\r\n",b,"\r\n--"+at+"--");if(null===Ar)throw be();const or={name:Vt.fullPath},fi=Zn(j,z.host,z._protocol),Fn=z.maxUploadRetryTime,Xi=new Jt(fi,"POST",Sn(z,me),Fn);return Xi.urlParams=or,Xi.headers=x,Xi.body=Ar.uploadData(),Xi.errorHandler=Xn(L),Xi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(b,mt,L,me);this._request=E,E.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(L){const me=this._transferred;this._transferred=L,this._transferred!==me&&this._notifyObservers()}_transition(L){if(this._state!==L)switch(L){case"canceling":case"pausing":this._state=L,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const me="paused"===this._state;this._state=L,me&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=L,this._notifyObservers();break;case"canceled":this._error=Pn(),this._state=L,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const L=Ln(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:L,metadata:this._metadata,task:this,ref:this._ref}}on(L,me,b,E){const j=new Br(me||void 0,b||void 0,E||void 0);return this._addObserver(j),()=>{this._removeObserver(j)}}then(L,me){return this._promise.then(L,me)}catch(L){return this.then(null,L)}_addObserver(L){this._observers.push(L),this._notifyObserver(L)}_removeObserver(L){const me=this._observers.indexOf(L);-1!==me&&this._observers.splice(me,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(me=>{this._notifyObserver(me)})}_finishPromise(){if(void 0!==this._resolve){let L=!0;switch(Ln(this._state)){case un.SUCCESS:B(this._resolve.bind(null,this.snapshot))();break;case un.CANCELED:case un.ERROR:B(this._reject.bind(null,this._error))();break;default:L=!1}L&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(L){switch(Ln(this._state)){case un.RUNNING:case un.PAUSED:L.next&&B(L.next.bind(L,this.snapshot))();break;case un.SUCCESS:L.complete&&B(L.complete.bind(L))();break;default:L.error&&B(L.error.bind(L,this._error))()}}resume(){const L="paused"===this._state||"pausing"===this._state;return L&&this._transition("running"),L}pause(){const L="running"===this._state;return L&&this._transition("pausing"),L}cancel(){const L="running"===this._state||"pausing"===this._state;return L&&this._transition("canceling"),L}}class Kt{constructor(L,me){this._service=L,this._location=me instanceof dn?me:dn.makeFromUrl(me,L.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(L,me){return new Kt(L,me)}get root(){const L=new dn(this._location.bucket,"");return this._newRef(this._service,L)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ge(this._location.path)}get storage(){return this._service}get parent(){const L=function ue(z){if(0===z.length)return null;const L=z.lastIndexOf("/");return-1===L?"":z.slice(0,L)}(this._location.path);if(null===L)return null;const me=new dn(this._location.bucket,L);return new Kt(this._service,me)}_throwIfRoot(L){if(""===this._location.path)throw Pt(L)}}function P(z,L,me){return oe.apply(this,arguments)}function oe(){return(oe=(0,ke.Z)(function*(z,L,me){const E=yield et(z,{pageToken:me});L.prefixes.push(...E.prefixes),L.items.push(...E.items),null!=E.nextPageToken&&(yield P(z,L,E.nextPageToken))})).apply(this,arguments)}function et(z,L){null!=L&&"number"==typeof L.maxResults&&Tn("options.maxResults",1,1e3,L.maxResults);const me=L||{},b=Ri(z.storage,z._location,"/",me.pageToken,me.maxResults);return z.storage.makeRequestWithTokens(b,mt)}function Qr(z){z._throwIfRoot("getDownloadURL");const L=function zn(z,L,me){const E=Zn(L.fullServerUrl(),z.host,z._protocol),x=z.maxOperationRetryTime,ie=new Jt(E,"GET",function xr(z,L){return function me(b,E){const j=Zt(z,E,L);return bn(null!==j),function mi(z,L,me,b){const E=W(L);if(null===E||!_n(E.downloadTokens))return null;const j=E.downloadTokens;if(0===j.length)return null;const x=encodeURIComponent;return j.split(",").map(Vt=>{const ir=z.fullPath;return Zn("/b/"+x(z.bucket)+"/o/"+x(ir),me,b)+Gt({alt:"media",token:Vt})})[0]}(j,E,z.host,z._protocol)}}(z,me),x);return ie.errorHandler=pr(L),ie}(z.storage,z._location,$n());return z.storage.makeRequestWithTokens(L,mt).then(me=>{if(null===me)throw function Ke(){return new Ee(re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return me})}function bo(z,L){const me=function pe(z,L){const me=L.split("/").filter(b=>b.length>0).join("/");return 0===z.length?me:z+"/"+me}(z._location.path,L),b=new dn(z._location.bucket,me);return new Kt(z.storage,b)}function oo(z,L){if(z instanceof lo){const me=z;if(null==me._bucket)throw function le(){return new Ee(re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gt+"' property when initializing the app?")}();const b=new Kt(me,me._bucket);return null!=L?oo(b,L):b}return void 0!==L?bo(z,L):z}function Mi(z,L){if(L&&function Eo(z){return/^[A-Za-z]+:\/\//.test(z)}(L)){if(z instanceof lo)return function io(z,L){return new Kt(z,L)}(z,L);throw Tt("To use ref(service, url), the first argument must be a Storage instance.")}return oo(z,L)}function lr(z,L){const me=null==L?void 0:L[gt];return null==me?null:dn.makeFromBucketSpec(me,z)}class lo{constructor(L,me,b,E,j){this.app=L,this._authProvider=me,this._appCheckProvider=b,this._url=E,this._firebaseVersion=j,this._bucket=null,this._host=Ye,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=E?dn.makeFromBucketSpec(E,this._host):lr(this._host,this.app.options)}get host(){return this._host}set host(L){this._host=L,this._bucket=null!=this._url?dn.makeFromBucketSpec(this._url,L):lr(L,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(L){Tn("time",0,Number.POSITIVE_INFINITY,L),this._maxUploadRetryTime=L}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(L){Tn("time",0,Number.POSITIVE_INFINITY,L),this._maxOperationRetryTime=L}_getAuthToken(){var L=this;return(0,ke.Z)(function*(){if(L._overrideAuthToken)return L._overrideAuthToken;const me=L._authProvider.getImmediate({optional:!0});if(me){const b=yield me.getToken();if(null!==b)return b.accessToken}return null})()}_getAppCheckToken(){var L=this;return(0,ke.Z)(function*(){const me=L._appCheckProvider.getImmediate({optional:!0});return me?(yield me.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(L=>L.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(L){return new Kt(this,L)}_makeRequest(L,me,b,E,j=!0){if(this._deleted)return new vt(At());{const x=function ar(z,L,me,b,E,j,x=!0){const ie=Gt(z.urlParams),at=z.url+ie,Vt=Object.assign({},z.headers);return function Mn(z,L){L&&(z["X-Firebase-GMPID"]=L)}(Vt,L),function Wt(z,L){null!==L&&L.length>0&&(z.Authorization="Firebase "+L)}(Vt,me),function Er(z,L){z["X-Firebase-Storage-Version"]="webjs/"+(null!=L?L:"AppManager")}(Vt,j),function Yr(z,L){null!==L&&(z["X-Firebase-AppCheck"]=L)}(Vt,b),new Yn(at,z.method,Vt,z.body,z.successCodes,z.additionalRetryCodes,z.handler,z.errorHandler,z.timeout,z.progressCallback,E,x)}(L,this._appId,b,E,me,this._firebaseVersion,j);return this._requests.add(x),x.getPromise().then(()=>this._requests.delete(x),()=>this._requests.delete(x)),x}}makeRequestWithTokens(L,me){var b=this;return(0,ke.Z)(function*(){const[E,j]=yield Promise.all([b._getAuthToken(),b._getAppCheckToken()]);return b._makeRequest(L,me,E,j).getPromise()})()}}const Es="@firebase/storage";function jo(z,L){return Mi(z=(0,Le.m9)(z),L)}function wl(z,{instanceIdentifier:L}){const me=z.getProvider("app").getImmediate(),b=z.getProvider("auth-internal"),E=z.getProvider("app-check-internal");return new lo(me,b,E,L,st.SDK_VERSION)}!function co(){(0,st._registerComponent)(new je.wA("storage",wl,"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(Es,"0.12.0",""),(0,st.registerVersion)(Es,"0.12.0","esm2017")}();class So{constructor(L,me,b){this._delegate=L,this.task=me,this.ref=b}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ts{constructor(L,me){this._delegate=L,this._ref=me,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new So(this._delegate.snapshot,this,this._ref)}then(L,me){return this._delegate.then(b=>{if(L)return L(new So(b,this,this._ref))},me)}on(L,me,b,E){let j;return me&&(j="function"==typeof me?x=>me(new So(x,this,this._ref)):{next:me.next?x=>me.next(new So(x,this,this._ref)):void 0,complete:me.complete||void 0,error:me.error||void 0}),this._delegate.on(L,j,b||void 0,E||void 0)}}class jr{constructor(L,me){this._delegate=L,this._service=me}get prefixes(){return this._delegate.prefixes.map(L=>new Pi(L,this._service))}get items(){return this._delegate.items.map(L=>new Pi(L,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pi{constructor(L,me){this._delegate=L,this.storage=me}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(L){const me=function Ra(z,L){return bo(z,L)}(this._delegate,L);return new Pi(me,this.storage)}get root(){return new Pi(this._delegate.root,this.storage)}get parent(){const L=this._delegate.parent;return null==L?null:new Pi(L,this.storage)}put(L,me){return this._throwIfRoot("put"),new ts(function uo(z,L,me){return function Cr(z,L,me){return z._throwIfRoot("uploadBytesResumable"),new Nt(z,new se(L),me)}(z=(0,Le.m9)(z),L,me)}(this._delegate,L,me),this)}putString(L,me=In.RAW,b){this._throwIfRoot("putString");const E=Kr(me,L),j=Object.assign({},b);return null==j.contentType&&null!=E.contentType&&(j.contentType=E.contentType),new ts(new Nt(this._delegate,new se(E.data,!0),j),this)}listAll(){return function oi(z){return function ne(z){const L={prefixes:[],items:[]};return P(z,L).then(()=>L)}(z=(0,Le.m9)(z))}(this._delegate).then(L=>new jr(L,this.storage))}list(L){return function zi(z,L){return et(z=(0,Le.m9)(z),L)}(this._delegate,L||void 0).then(me=>new jr(me,this.storage))}getMetadata(){return function Zi(z){return function Wn(z){z._throwIfRoot("getMetadata");const L=di(z.storage,z._location,$n());return z.storage.makeRequestWithTokens(L,mt)}(z=(0,Le.m9)(z))}(this._delegate)}updateMetadata(L){return function Ds(z,L){return function ii(z,L){z._throwIfRoot("updateMetadata");const me=function _i(z,L,me,b){const j=Zn(L.fullServerUrl(),z.host,z._protocol),ie=kr(me,b),Vt=z.maxOperationRetryTime,An=new Jt(j,"PATCH",Sn(z,b),Vt);return An.headers={"Content-Type":"application/json; charset=utf-8"},An.body=ie,An.errorHandler=pr(L),An}(z.storage,z._location,L,$n());return z.storage.makeRequestWithTokens(me,mt)}(z=(0,Le.m9)(z),L)}(this._delegate,L)}getDownloadURL(){return function ds(z){return Qr(z=(0,Le.m9)(z))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Uo(z){return function Io(z){z._throwIfRoot("deleteObject");const L=function Or(z,L){const b=Zn(L.fullServerUrl(),z.host,z._protocol),ie=new Jt(b,"DELETE",function x(at,Vt){},z.maxOperationRetryTime);return ie.successCodes=[200,204],ie.errorHandler=pr(L),ie}(z.storage,z._location);return z.storage.makeRequestWithTokens(L,mt)}(z=(0,Le.m9)(z))}(this._delegate)}_throwIfRoot(L){if(""===this._delegate._location.path)throw Pt(L)}}class Li{constructor(L,me){this.app=L,this._delegate=me}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(L){if(ks(L))throw Tt("ref() expected a child path but got a URL, use refFromURL instead.");return new Pi(jo(this._delegate,L),this)}refFromURL(L){if(!ks(L))throw Tt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dn.makeFromUrl(L,this._delegate.host)}catch{throw Tt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pi(jo(this._delegate,L),this)}setMaxUploadRetryTime(L){this._delegate.maxUploadRetryTime=L}setMaxOperationRetryTime(L){this._delegate.maxOperationRetryTime=L}useEmulator(L,me,b={}){!function Ao(z,L,me,b={}){!function so(z,L,me,b={}){z.host=`${L}:${me}`,z._protocol="http";const{mockUserToken:E}=b;E&&(z._overrideAuthToken="string"==typeof E?E:(0,Le.Sg)(E,z.app.options.projectId))}(z,L,me,b)}(this._delegate,L,me,b)}}function ks(z){return/^[A-Za-z]+:\/\//.test(z)}function Ei(z,{instanceIdentifier:L}){const me=z.getProvider("app-compat").getImmediate(),b=z.getProvider("storage").getImmediate({identifier:L});return new Li(me,b)}!function Oi(z){const L={TaskState:un,TaskEvent:on,StringFormat:In,Storage:Li,Reference:Pi};z.INTERNAL.registerComponent(new je.wA("storage-compat",Ei,"PUBLIC").setServiceProps(L).setMultipleInstances(!0)),z.registerVersion("@firebase/storage-compat","0.3.3")}(Ve.Z);var Ho=O(7142);function ko(z){const L=function zo(z){return new K.y(L=>{const me=x=>L.next(x);me(z.snapshot);const j=z.on("state_changed",me);return z.then(x=>{me(x),L.complete()},x=>{me(z.snapshot),(x=>{L.error(x)})(x)}),function(){j()}}).pipe(function Ge(z,L=de.z){return(0,Ie.e)((me,b)=>{let E=null,j=null,x=null;const ie=()=>{if(E){E.unsubscribe(),E=null;const Vt=j;j=null,b.next(Vt)}};function at(){const Vt=x+z,An=L.now();if(An<Vt)return E=this.schedule(void 0,Vt-An),void b.add(E);ie()}me.subscribe((0,qe.x)(b,Vt=>{j=Vt,x=L.now(),E||(E=L.schedule(at,z),b.add(E))},()=>{ie(),b.complete()},void 0,()=>{j=E=null}))})}(0))}(z);return{task:z,then:z.then.bind(z),catch:z.catch.bind(z),pause:z.pause.bind(z),cancel:z.cancel.bind(z),resume:z.resume.bind(z),snapshotChanges:()=>L,percentageChanges:()=>L.pipe((0,Ce.U)(me=>me.bytesTransferred/me.totalBytes*100))}}function hs(z){return{getDownloadURL:()=>(0,ae.of)(void 0).pipe(U.fc,(0,fe.w)(()=>z.getDownloadURL()),U.iC),getMetadata:()=>(0,ae.of)(void 0).pipe(U.fc,(0,fe.w)(()=>z.getMetadata()),U.iC),delete:()=>(0,Oe.D)(z.delete()),child:L=>hs(z.child(L)),updateMetadata:L=>(0,Oe.D)(z.updateMetadata(L)),put:(L,me)=>ko(z.put(L,me)),putString:(L,me,b)=>ko(z.putString(L,me,b)),list:L=>(0,Oe.D)(z.list(L)),listAll:()=>(0,Oe.D)(z.listAll())}}const ho=new Ne.OlP("angularfire2.storageBucket"),Gr=new Ne.OlP("angularfire2.storage.maxUploadRetryTime"),en=new Ne.OlP("angularfire2.storage.maxOperationRetryTime"),Un=new Ne.OlP("angularfire2.storage.use-emulator");let Fr=(()=>{var z;class L{constructor(b,E,j,x,ie,at,Vt,An,ir,wr){(0,u.Z)(this,"storage",void 0);const Ar=(0,$e.on)(b,ie,E);this.storage=(0,$e.cc)(`${Ar.name}.storage.${j}`,"AngularFireStorage",Ar.name,()=>{const or=ie.runOutsideAngular(()=>Ar.storage(j||void 0)),fi=ir;return fi&&or.useEmulator(...fi),Vt&&or.setMaxUploadRetryTime(Vt),An&&or.setMaxOperationRetryTime(An),or},[Vt,An])}ref(b){return hs(this.storage.ref(b))}refFromURL(b){return hs(this.storage.refFromURL(b))}upload(b,E,j){return hs(this.storage.ref(b)).put(E,j)}}return z=L,(0,u.Z)(L,"\u0275fac",function(b){return new(b||z)(Ne.LFG($e.Dh),Ne.LFG($e.xv,8),Ne.LFG(ho,8),Ne.LFG(Ne.Lbi),Ne.LFG(Ne.R0b),Ne.LFG(U.HU),Ne.LFG(Gr,8),Ne.LFG(en,8),Ne.LFG(Un,8),Ne.LFG(U.Rf,8))}),(0,u.Z)(L,"\u0275prov",Ne.Yz7({token:z,factory:z.\u0275fac,providedIn:"any"})),L})(),yi=(()=>{var z;class L{}return z=L,(0,u.Z)(L,"\u0275fac",function(b){return new(b||z)}),(0,u.Z)(L,"\u0275mod",Ne.oAB({type:z})),(0,u.Z)(L,"\u0275inj",Ne.cJS({})),L})(),Do=(()=>{var z;class L{constructor(){Ho.Z.registerVersion("angularfire",U.q4.full,"gcs-compat")}}return z=L,(0,u.Z)(L,"\u0275fac",function(b){return new(b||z)}),(0,u.Z)(L,"\u0275mod",Ne.oAB({type:z})),(0,u.Z)(L,"\u0275inj",Ne.cJS({providers:[Fr],imports:[yi]})),L})()},7217:(Qt,it,O)=>{"use strict";O.d(it,{Dh:()=>Ge,GT:()=>Ie,cc:()=>ke,hO:()=>Ve,on:()=>fe,pX:()=>de,xv:()=>Ce});var u=O(1180),U=O(9212),K=O(8326),ae=O(7142);const Oe=["ngOnDestroy"],de=(Ye,gt,he,Be={})=>new Proxy(Ye,{get:(Fe,Ee)=>he.runOutsideAngular(()=>{var re;if(Ye[Ee])return null!=Be&&null!==(re=Be.spy)&&void 0!==re&&re.get&&Be.spy.get(Ee,Ye[Ee]),Ye[Ee];if(Oe.indexOf(Ee)>-1)return()=>{};const _e=gt.toPromise().then(q=>{const ee=null==q?void 0:q[Ee];return"function"==typeof ee?ee.bind(q):null!=ee&&ee.then?ee.then(ze=>he.run(()=>ze)):he.run(()=>ee)});return new Proxy(()=>{},{get:(q,ee)=>_e[ee],apply:(q,ee,ze)=>_e.then(Me=>{var Je;const St=null==Me?void 0:Me(...ze);return null!=Be&&null!==(Je=Be.spy)&&void 0!==Je&&Je.apply&&Be.spy.apply(Ee,ze,St),St})})})}),Ie=(Ye,gt)=>{gt.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(Be=>{Object.defineProperty(Ye.prototype,Be,Object.getOwnPropertyDescriptor(he.prototype||he,Be))})})};class qe{constructor(gt){return gt}}const Ge=new U.OlP("angularfire2.app.options"),Ce=new U.OlP("angularfire2.app.name");function fe(Ye,gt,he){const Fe="object"==typeof he&&he||{};Fe.name=Fe.name||"string"==typeof he&&he||"[DEFAULT]";const re=ae.Z.apps.filter(_e=>_e&&_e.name===Fe.name)[0]||gt.runOutsideAngular(()=>ae.Z.initializeApp(Ye,Fe));try{if(JSON.stringify(Ye)!==JSON.stringify(re.options)){const _e=!!module.hot;Ne("error",`${re.name} Firebase App already initialized with different options${_e?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new qe(re)}const Ne=(Ye,...gt)=>{(0,U.X6Q)()&&typeof console<"u"&&console[Ye](...gt)},$e={provide:qe,useFactory:fe,deps:[Ge,U.R0b,[new U.FiY,Ce]]};let Ve=(()=>{var Ye;class gt{static initializeApp(Be,Fe){return{ngModule:gt,providers:[{provide:Ge,useValue:Be},{provide:Ce,useValue:Fe}]}}constructor(Be){ae.Z.registerVersion("angularfire",K.q4.full,"core"),ae.Z.registerVersion("angularfire",K.q4.full,"app-compat"),ae.Z.registerVersion("angular",U.q4F.full,Be.toString())}}return Ye=gt,(0,u.Z)(gt,"\u0275fac",function(Be){return new(Be||Ye)(U.LFG(U.Lbi))}),(0,u.Z)(gt,"\u0275mod",U.oAB({type:Ye})),(0,u.Z)(gt,"\u0275inj",U.cJS({providers:[$e]})),gt})();function ke(Ye,gt,he,Be,Fe){const[,Ee,re]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===Ye)||[];if(Ee)return function st(Ye,gt){try{return Ye.toString()===gt.toString()}catch{return Ye===gt}}(Fe,re)||(je("error",`${gt} was already initialized on the ${he} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),je("warn",{is:Fe,was:re})),Ee;{const _e=Be();return globalThis.\u0275AngularfireInstanceCache.push([Ye,_e,Fe]),_e}}const Le=typeof module<"u"&&!!module.hot,je=(Ye,...gt)=>{(0,U.X6Q)()&&typeof console<"u"&&console[Ye](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8326:(Qt,it,O)=>{"use strict";O.d(it,{q4:()=>st,iC:()=>Je,fc:()=>ze,HU:()=>re,Rf:()=>gt});var u=O(1180),U=O(9212),K=O(534);(0,K.registerVersion)("firebase","10.7.1","app");var de=O(1954),qe=O(2631);const Ce=new class Ge extends qe.v{}(class Ie extends de.o{constructor(Pe,le){super(Pe,le),this.scheduler=Pe,this.work=le}schedule(Pe,le=0){return le>0?super.schedule(Pe,le):(this.delay=le,this.state=Pe,this.scheduler.flush(this),this)}execute(Pe,le){return le>0||this.closed?super.execute(Pe,le):this._execute(Pe,le)}requestAsyncId(Pe,le,be=0){return null!=be&&be>0||null==be&&this.delay>0?super.requestAsyncId(Pe,le,be):(Pe.flush(this),0)}});var Ne=O(6321),$e=O(9397),Ve=O(3093),ke=O(5137);const st=new U.GfV("ANGULARFIRE2_VERSION");class gt{constructor(){return((ot,Pe)=>{const le=(0,K.getApps)(),be=[];return le.forEach(Te=>{Te.container.getProvider(ot).instances.forEach(Xe=>{be.includes(Xe)||be.push(Xe)})}),be})(he)}}const he="app-check";function Be(){}class Fe{constructor(Pe,le=Ce){(0,u.Z)(this,"zone",void 0),(0,u.Z)(this,"delegate",void 0),this.zone=Pe,this.delegate=le}now(){return this.delegate.now()}schedule(Pe,le,be){const Te=this.zone;return this.delegate.schedule(function(Xe){Te.runGuarded(()=>{Pe.apply(this,[Xe])})},le,be)}}class Ee{constructor(Pe){(0,u.Z)(this,"zone",void 0),(0,u.Z)(this,"task",null),this.zone=Pe}call(Pe,le){const be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Be,{},Be,Be)),le.pipe((0,$e.b)({next:be,complete:be,error:be})).subscribe(Pe).add(be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let re=(()=>{var ot;class Pe{constructor(be){(0,u.Z)(this,"ngZone",void 0),(0,u.Z)(this,"outsideAngular",void 0),(0,u.Z)(this,"insideAngular",void 0),this.ngZone=be,this.outsideAngular=be.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=be.run(()=>new Fe(Zone.current,Ne.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ot=Pe,(0,u.Z)(Pe,"\u0275fac",function(be){return new(be||ot)(U.LFG(U.R0b))}),(0,u.Z)(Pe,"\u0275prov",U.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})),Pe})();function _e(){const ot=globalThis.\u0275AngularFireScheduler;if(!ot)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ot}function ze(ot){return ot.pipe((0,Ve.Q)(_e().outsideAngular))}function Je(ot){return function St(ot){return function(le){return(le=le.lift(new Ee(ot.ngZone))).pipe((0,ke.R)(ot.outsideAngular),(0,Ve.Q)(ot.insideAngular))}}(_e())(ot)}},95:(Qt,it,O)=>{"use strict";O.d(it,{Fj:()=>he,u5:()=>L,Fd:()=>Ns,qQ:()=>co,Cf:()=>Ee,JU:()=>ke,a5:()=>Nn,JJ:()=>Cn,JL:()=>wn,F:()=>un,On:()=>mn,Q7:()=>jr,_Y:()=>Jn});var u=O(9212),U=O(6814),K=O(2459),ae=O(5592),Oe=O(7453),de=O(4829),Ie=O(4564),qe=O(8251),Ge=O(7400),Ce=O(2714),Ne=O(7398);let $e=(()=>{var b;class E{constructor(x,ie){this._renderer=x,this._elementRef=ie,this.onChange=at=>{},this.onTouched=()=>{}}setProperty(x,ie){this._renderer.setProperty(this._elementRef.nativeElement,x,ie)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return(b=E).\u0275fac=function(x){return new(x||b)(u.Y36(u.Qsj),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b}),E})(),Ve=(()=>{var b;class E extends $e{}return(b=E).\u0275fac=(()=>{let j;return function(ie){return(j||(j=u.n5z(b)))(ie||b)}})(),b.\u0275dir=u.lG2({type:b,features:[u.qOj]}),E})();const ke=new u.OlP("NgValueAccessor"),je={provide:ke,useExisting:(0,u.Gpc)(()=>he),multi:!0},gt=new u.OlP("CompositionEventMode");let he=(()=>{var b;class E extends $e{constructor(x,ie,at){super(x,ie),this._compositionMode=at,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ye(){const b=(0,U.q)()?(0,U.q)().getUserAgent():"";return/android (\d+)/.test(b.toLowerCase())}())}writeValue(x){this.setProperty("value",null==x?"":x)}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return(b=E).\u0275fac=function(x){return new(x||b)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(gt,8))},b.\u0275dir=u.lG2({type:b,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,ie){1&x&&u.NdJ("input",function(Vt){return ie._handleInput(Vt.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(Vt){return ie._compositionEnd(Vt.target.value)})},features:[u._Bn([je]),u.qOj]}),E})();function Be(b){return null==b||("string"==typeof b||Array.isArray(b))&&0===b.length}const Ee=new u.OlP("NgValidators"),re=new u.OlP("NgAsyncValidators");function Me(b){return Be(b.value)?{required:!0}:null}function Pe(b){return null}function le(b){return null!=b}function be(b){return(0,u.QGY)(b)?(0,K.D)(b):b}function Te(b){let E={};return b.forEach(j=>{E=null!=j?{...E,...j}:E}),0===Object.keys(E).length?null:E}function Ke(b,E){return E.map(j=>j(b))}function Tt(b){return b.map(E=>function Xe(b){return!b.validate}(E)?E:j=>E.validate(j))}function Pt(b){return null!=b?function At(b){if(!b)return null;const E=b.filter(le);return 0==E.length?null:function(j){return Te(Ke(j,E))}}(Tt(b)):null}function Ht(b){return null!=b?function dt(b){if(!b)return null;const E=b.filter(le);return 0==E.length?null:function(j){return function fe(...b){const E=(0,Ie.jO)(b),{args:j,keys:x}=(0,Oe.D)(b),ie=new ae.y(at=>{const{length:Vt}=j;if(!Vt)return void at.complete();const An=new Array(Vt);let ir=Vt,wr=Vt;for(let Ar=0;Ar<Vt;Ar++){let or=!1;(0,de.Xf)(j[Ar]).subscribe((0,qe.x)(at,fi=>{or||(or=!0,wr--),An[Ar]=fi},()=>ir--,void 0,()=>{(!ir||!or)&&(wr||at.next(x?(0,Ce.n)(x,An):An),at.complete())}))}});return E?ie.pipe((0,Ge.Z)(E)):ie}(Ke(j,E).map(be)).pipe((0,Ne.U)(Te))}}(Tt(b)):null}function dn(b,E){return null===b?[E]:Array.isArray(b)?[...b,E]:[b,E]}function lt(b){return b?Array.isArray(b)?b:[b]:[]}function bt(b,E){return Array.isArray(b)?b.includes(E):b===E}function zt(b,E){const j=lt(E);return lt(b).forEach(ie=>{bt(j,ie)||j.push(ie)}),j}function En(b,E){return lt(E).filter(j=>!bt(b,j))}class _n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(E){this._rawValidators=E||[],this._composedValidatorFn=Pt(this._rawValidators)}_setAsyncValidators(E){this._rawAsyncValidators=E||[],this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(E){this._onDestroyCallbacks.push(E)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(E=>E()),this._onDestroyCallbacks=[]}reset(E=void 0){this.control&&this.control.reset(E)}hasError(E,j){return!!this.control&&this.control.hasError(E,j)}getError(E,j){return this.control?this.control.getError(E,j):null}}class an extends _n{get formDirective(){return null}get path(){return null}}class Nn extends _n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tn{constructor(E){this._cd=E}get isTouched(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.touched)}get isUntouched(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.untouched)}get isPristine(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.pristine)}get isDirty(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.dirty)}get isValid(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.valid)}get isInvalid(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.invalid)}get isPending(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.pending)}get isSubmitted(){var E;return!(null===(E=this._cd)||void 0===E||!E.submitted)}}let Cn=(()=>{var b;class E extends Tn{constructor(x){super(x)}}return(b=E).\u0275fac=function(x){return new(x||b)(u.Y36(Nn,2))},b.\u0275dir=u.lG2({type:b,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,ie){2&x&&u.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[u.qOj]}),E})(),wn=(()=>{var b;class E extends Tn{constructor(x){super(x)}}return(b=E).\u0275fac=function(x){return new(x||b)(u.Y36(an,10))},b.\u0275dir=u.lG2({type:b,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,ie){2&x&&u.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[u.qOj]}),E})();const zr="VALID",ri="INVALID",vr="PENDING",gi="DISABLED";function se(b){return(ge(b)?b.validators:b)||null}function ue(b,E){return(ge(E)?E.asyncValidators:b)||null}function ge(b){return null!=b&&!Array.isArray(b)&&"object"==typeof b}class Yt{constructor(E,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(E),this._assignAsyncValidators(j)}get validator(){return this._composedValidatorFn}set validator(E){this._rawValidators=this._composedValidatorFn=E}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(E){this._rawAsyncValidators=this._composedAsyncValidatorFn=E}get parent(){return this._parent}get valid(){return this.status===zr}get invalid(){return this.status===ri}get pending(){return this.status==vr}get disabled(){return this.status===gi}get enabled(){return this.status!==gi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(E){this._assignValidators(E)}setAsyncValidators(E){this._assignAsyncValidators(E)}addValidators(E){this.setValidators(zt(E,this._rawValidators))}addAsyncValidators(E){this.setAsyncValidators(zt(E,this._rawAsyncValidators))}removeValidators(E){this.setValidators(En(E,this._rawValidators))}removeAsyncValidators(E){this.setAsyncValidators(En(E,this._rawAsyncValidators))}hasValidator(E){return bt(this._rawValidators,E)}hasAsyncValidator(E){return bt(this._rawAsyncValidators,E)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(E={}){this.touched=!0,this._parent&&!E.onlySelf&&this._parent.markAsTouched(E)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(E=>E.markAllAsTouched())}markAsUntouched(E={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}markAsDirty(E={}){this.pristine=!1,this._parent&&!E.onlySelf&&this._parent.markAsDirty(E)}markAsPristine(E={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}markAsPending(E={}){this.status=vr,!1!==E.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!E.onlySelf&&this._parent.markAsPending(E)}disable(E={}){const j=this._parentMarkedDirty(E.onlySelf);this.status=gi,this.errors=null,this._forEachChild(x=>{x.disable({...E,onlySelf:!0})}),this._updateValue(),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...E,skipPristineCheck:j}),this._onDisabledChange.forEach(x=>x(!0))}enable(E={}){const j=this._parentMarkedDirty(E.onlySelf);this.status=zr,this._forEachChild(x=>{x.enable({...E,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent}),this._updateAncestors({...E,skipPristineCheck:j}),this._onDisabledChange.forEach(x=>x(!1))}_updateAncestors(E){this._parent&&!E.onlySelf&&(this._parent.updateValueAndValidity(E),E.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(E){this._parent=E}getRawValue(){return this.value}updateValueAndValidity(E={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zr||this.status===vr)&&this._runAsyncValidator(E.emitEvent)),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!E.onlySelf&&this._parent.updateValueAndValidity(E)}_updateTreeValidity(E={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(E)),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gi:zr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(E){if(this.asyncValidator){this.status=vr,this._hasOwnPendingAsyncValidator=!0;const j=be(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(x=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(x,{emitEvent:E})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(E,j={}){this.errors=E,this._updateControlsErrors(!1!==j.emitEvent)}get(E){let j=E;return null==j||(Array.isArray(j)||(j=j.split(".")),0===j.length)?null:j.reduce((x,ie)=>x&&x._find(ie),this)}getError(E,j){const x=j?this.get(j):this;return x&&x.errors?x.errors[E]:null}hasError(E,j){return!!this.getError(E,j)}get root(){let E=this;for(;E._parent;)E=E._parent;return E}_updateControlsErrors(E){this.status=this._calculateStatus(),E&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(E)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?gi:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vr)?vr:this._anyControlsHaveStatus(ri)?ri:zr}_anyControlsHaveStatus(E){return this._anyControls(j=>j.status===E)}_anyControlsDirty(){return this._anyControls(E=>E.dirty)}_anyControlsTouched(){return this._anyControls(E=>E.touched)}_updatePristine(E={}){this.pristine=!this._anyControlsDirty(),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}_updateTouched(E={}){this.touched=this._anyControlsTouched(),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}_registerOnCollectionChange(E){this._onCollectionChange=E}_setUpdateStrategy(E){ge(E)&&null!=E.updateOn&&(this._updateOn=E.updateOn)}_parentMarkedDirty(E){return!E&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(E){return null}_assignValidators(E){this._rawValidators=Array.isArray(E)?E.slice():E,this._composedValidatorFn=function W(b){return Array.isArray(b)?Pt(b):b||null}(this._rawValidators)}_assignAsyncValidators(E){this._rawAsyncValidators=Array.isArray(E)?E.slice():E,this._composedAsyncValidatorFn=function pe(b){return Array.isArray(b)?Ht(b):b||null}(this._rawAsyncValidators)}}class kn extends Yt{constructor(E,j,x){super(se(j),ue(x,j)),this.controls=E,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(E,j){return this.controls[E]?this.controls[E]:(this.controls[E]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(E,j,x={}){this.registerControl(E,j),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}removeControl(E,j={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(E,j,x={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],j&&this.registerControl(E,j),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}contains(E){return this.controls.hasOwnProperty(E)&&this.controls[E].enabled}setValue(E,j={}){(function wt(b,E,j){b._forEachChild((x,ie)=>{if(void 0===j[ie])throw new u.vHH(1002,"")})})(this,0,E),Object.keys(E).forEach(x=>{(function ut(b,E,j){const x=b.controls;if(!(E?Object.keys(x):x).length)throw new u.vHH(1e3,"");if(!x[j])throw new u.vHH(1001,"")})(this,!0,x),this.controls[x].setValue(E[x],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(E,j={}){null!=E&&(Object.keys(E).forEach(x=>{const ie=this.controls[x];ie&&ie.patchValue(E[x],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(E={},j={}){this._forEachChild((x,ie)=>{x.reset(E?E[ie]:null,{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(E,j,x)=>(E[x]=j.getRawValue(),E))}_syncPendingControls(){let E=this._reduceChildren(!1,(j,x)=>!!x._syncPendingControls()||j);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_forEachChild(E){Object.keys(this.controls).forEach(j=>{const x=this.controls[j];x&&E(x,j)})}_setUpControls(){this._forEachChild(E=>{E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(E){for(const[j,x]of Object.entries(this.controls))if(this.contains(j)&&E(x))return!0;return!1}_reduceValue(){return this._reduceChildren({},(j,x,ie)=>((x.enabled||this.disabled)&&(j[ie]=x.value),j))}_reduceChildren(E,j){let x=E;return this._forEachChild((ie,at)=>{x=j(x,ie,at)}),x}_allControlsDisabled(){for(const E of Object.keys(this.controls))if(this.controls[E].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(E){return this.controls.hasOwnProperty(E)?this.controls[E]:null}}const kr=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Fi}),Fi="always";function nt(b,E,j=Fi){var x,ie;Sn(b,E),E.valueAccessor.writeValue(b.value),(b.disabled||"always"===j)&&(null===(x=(ie=E.valueAccessor).setDisabledState)||void 0===x||x.call(ie,b.disabled)),function xr(b,E){E.valueAccessor.registerOnChange(j=>{b._pendingValue=j,b._pendingChange=!0,b._pendingDirty=!0,"change"===b.updateOn&&pr(b,E)})}(b,E),function di(b,E){const j=(x,ie)=>{E.valueAccessor.writeValue(x),ie&&E.viewToModelUpdate(x)};b.registerOnChange(j),E._registerOnDestroy(()=>{b._unregisterOnChange(j)})}(b,E),function Xn(b,E){E.valueAccessor.registerOnTouched(()=>{b._pendingTouched=!0,"blur"===b.updateOn&&b._pendingChange&&pr(b,E),"submit"!==b.updateOn&&b.markAsTouched()})}(b,E),function bn(b,E){if(E.valueAccessor.setDisabledState){const j=x=>{E.valueAccessor.setDisabledState(x)};b.registerOnDisabledChange(j),E._registerOnDestroy(()=>{b._unregisterOnDisabledChange(j)})}}(b,E)}function Jt(b,E){b.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(E)})}function Sn(b,E){const j=function vt(b){return b._rawValidators}(b);null!==E.validator?b.setValidators(dn(j,E.validator)):"function"==typeof j&&b.setValidators([j]);const x=function ht(b){return b._rawAsyncValidators}(b);null!==E.asyncValidator?b.setAsyncValidators(dn(x,E.asyncValidator)):"function"==typeof x&&b.setAsyncValidators([x]);const ie=()=>b.updateValueAndValidity();Jt(E._rawValidators,ie),Jt(E._rawAsyncValidators,ie)}function pr(b,E){b._pendingDirty&&b.markAsDirty(),b.setValue(b._pendingValue,{emitModelToViewChange:!1}),E.viewToModelUpdate(b._pendingValue),b._pendingChange=!1}const tn={provide:an,useExisting:(0,u.Gpc)(()=>un)},on=(()=>Promise.resolve())();let un=(()=>{var b;class E extends an{constructor(x,ie,at){super(),this.callSetDisabledState=at,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new kn({},Pt(x),Ht(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){on.then(()=>{const ie=this._findContainer(x.path);x.control=ie.registerControl(x.name,x.control),nt(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){on.then(()=>{const ie=this._findContainer(x.path);ie&&ie.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){on.then(()=>{const ie=this._findContainer(x.path),at=new kn({});(function Ri(b,E){Sn(b,E)})(at,x),ie.registerControl(x.name,at),at.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){on.then(()=>{const ie=this._findContainer(x.path);ie&&ie.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,ie){on.then(()=>{this.form.get(x.path).setValue(ie)})}setValue(x){this.control.setValue(x)}onSubmit(x){var ie;return this.submitted=!0,function Y(b,E){b._syncPendingControls(),E.forEach(j=>{const x=j.control;"submit"===x.updateOn&&x._pendingChange&&(j.viewToModelUpdate(x._pendingValue),x._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===(null==x||null===(ie=x.target)||void 0===ie?void 0:ie.method)}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}}return(b=E).\u0275fac=function(x){return new(x||b)(u.Y36(Ee,10),u.Y36(re,10),u.Y36(kr,8))},b.\u0275dir=u.lG2({type:b,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(x,ie){1&x&&u.NdJ("submit",function(Vt){return ie.onSubmit(Vt)})("reset",function(){return ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([tn]),u.qOj]}),E})();function Ln(b,E){const j=b.indexOf(E);j>-1&&b.splice(j,1)}function Br(b){return"object"==typeof b&&null!==b&&2===Object.keys(b).length&&"value"in b&&"disabled"in b}const B=class extends Yt{constructor(E=null,j,x){super(se(j),ue(x,j)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(E),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ge(j)&&(j.nonNullable||j.initialValueIsDefault)&&(this.defaultValue=Br(E)?E.value:E)}setValue(E,j={}){this.value=this._pendingValue=E,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(x=>x(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(E,j={}){this.setValue(E,j)}reset(E=this.defaultValue,j={}){this._applyFormState(E),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(E){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(E){this._onChange.push(E)}_unregisterOnChange(E){Ln(this._onChange,E)}registerOnDisabledChange(E){this._onDisabledChange.push(E)}_unregisterOnDisabledChange(E){Ln(this._onDisabledChange,E)}_forEachChild(E){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(E){Br(E)?(this.value=this._pendingValue=E.value,E.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=E}},Kt={provide:Nn,useExisting:(0,u.Gpc)(()=>mn)},vn=(()=>Promise.resolve())();let mn=(()=>{var b;class E extends Nn{constructor(x,ie,at,Vt,An,ir){super(),this._changeDetectorRef=An,this.callSetDisabledState=ir,this.control=new B,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=x,this._setValidators(ie),this._setAsyncValidators(at),this.valueAccessor=function De(b,E){if(!E)return null;let j,x,ie;return Array.isArray(E),E.forEach(at=>{at.constructor===he?j=at:function ye(b){return Object.getPrototypeOf(b.constructor)===Ve}(at)?x=at:ie=at}),ie||x||j||null}(0,Vt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const ie=x.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function we(b,E){if(!b.hasOwnProperty("model"))return!1;const j=b.model;return!!j.isFirstChange()||!Object.is(E,j.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){vn.then(()=>{var ie;this.control.setValue(x,{emitViewToModelChange:!1}),null===(ie=this._changeDetectorRef)||void 0===ie||ie.markForCheck()})}_updateDisabled(x){const ie=x.isDisabled.currentValue,at=0!==ie&&(0,u.VuI)(ie);vn.then(()=>{var Vt;at&&!this.control.disabled?this.control.disable():!at&&this.control.disabled&&this.control.enable(),null===(Vt=this._changeDetectorRef)||void 0===Vt||Vt.markForCheck()})}_getPath(x){return this._parent?function Dt(b,E){return[...E.path,b]}(x,this._parent):[x]}}return(b=E).\u0275fac=function(x){return new(x||b)(u.Y36(an,9),u.Y36(Ee,10),u.Y36(re,10),u.Y36(ke,10),u.Y36(u.sBO,8),u.Y36(kr,8))},b.\u0275dir=u.lG2({type:b,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Kt]),u.qOj,u.TTD]}),E})(),Jn=(()=>{var b;class E{}return(b=E).\u0275fac=function(x){return new(x||b)},b.\u0275dir=u.lG2({type:b,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})(),oe=(()=>{var b;class E{}return(b=E).\u0275fac=function(x){return new(x||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({}),E})();function Ka(b){return"number"==typeof b?b:parseFloat(b)}let Ao=(()=>{var b;class E{constructor(){this._validator=Pe}ngOnChanges(x){if(this.inputName in x){const ie=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Pe,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}}return(b=E).\u0275fac=function(x){return new(x||b)},b.\u0275dir=u.lG2({type:b,features:[u.TTD]}),E})();const Os={provide:Ee,useExisting:(0,u.Gpc)(()=>Ns),multi:!0};let Ns=(()=>{var b;class E extends Ao{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=x=>Ka(x),this.createValidator=x=>function ze(b){return E=>{if(Be(E.value)||Be(b))return null;const j=parseFloat(E.value);return!isNaN(j)&&j>b?{max:{max:b,actual:E.value}}:null}}(x)}}return(b=E).\u0275fac=(()=>{let j;return function(ie){return(j||(j=u.n5z(b)))(ie||b)}})(),b.\u0275dir=u.lG2({type:b,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,ie){2&x&&u.uIk("max",ie._enabled?ie.max:null)},inputs:{max:"max"},features:[u._Bn([Os]),u.qOj]}),E})();const wl={provide:Ee,useExisting:(0,u.Gpc)(()=>co),multi:!0};let co=(()=>{var b;class E extends Ao{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=x=>Ka(x),this.createValidator=x=>function ee(b){return E=>{if(Be(E.value)||Be(b))return null;const j=parseFloat(E.value);return!isNaN(j)&&j<b?{min:{min:b,actual:E.value}}:null}}(x)}}return(b=E).\u0275fac=(()=>{let j;return function(ie){return(j||(j=u.n5z(b)))(ie||b)}})(),b.\u0275dir=u.lG2({type:b,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,ie){2&x&&u.uIk("min",ie._enabled?ie.min:null)},inputs:{min:"min"},features:[u._Bn([wl]),u.qOj]}),E})();const So={provide:Ee,useExisting:(0,u.Gpc)(()=>jr),multi:!0};let jr=(()=>{var b;class E extends Ao{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.VuI,this.createValidator=x=>Me}enabled(x){return x}}return(b=E).\u0275fac=(()=>{let j;return function(ie){return(j||(j=u.n5z(b)))(ie||b)}})(),b.\u0275dir=u.lG2({type:b,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(x,ie){2&x&&u.uIk("required",ie._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([So]),u.qOj]}),E})(),ho=(()=>{var b;class E{}return(b=E).\u0275fac=function(x){return new(x||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[oe]}),E})(),L=(()=>{var b;class E{static withConfig(x){var ie;return{ngModule:E,providers:[{provide:kr,useValue:null!==(ie=x.callSetDisabledState)&&void 0!==ie?ie:Fi}]}}}return(b=E).\u0275fac=function(x){return new(x||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[ho]}),E})()},6593:(Qt,it,O)=>{"use strict";O.d(it,{Dx:()=>an,b2:()=>lt,q6:()=>Ht});var u=O(9212),U=O(6814);class K extends U.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends K{static makeCurrent(){(0,U.HT)(new ae)}onAndCancel(W,ue,pe){return W.addEventListener(ue,pe),()=>{W.removeEventListener(ue,pe)}}dispatchEvent(W,ue){W.dispatchEvent(ue)}remove(W){W.parentNode&&W.parentNode.removeChild(W)}createElement(W,ue){return(ue=ue||this.getDefaultDocument()).createElement(W)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(W){return W.nodeType===Node.ELEMENT_NODE}isShadowRoot(W){return W instanceof DocumentFragment}getGlobalEventTarget(W,ue){return"window"===ue?window:"document"===ue?W:"body"===ue?W.body:null}getBaseHref(W){const ue=function de(){return Oe=Oe||document.querySelector("base"),Oe?Oe.getAttribute("href"):null}();return null==ue?null:function Ie(se){return new URL(se,document.baseURI).pathname}(ue)}resetBaseElement(){Oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(W){return(0,U.Mx)(document.cookie,W)}}let Oe=null,Ge=(()=>{var se;class W{build(){return new XMLHttpRequest}}return(se=W).\u0275fac=function(pe){return new(pe||se)},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac}),W})();const Ce=new u.OlP("EventManagerPlugins");let fe=(()=>{var se;class W{constructor(pe,ge){this._zone=ge,this._eventNameToPlugin=new Map,pe.forEach(ut=>{ut.manager=this}),this._plugins=pe.slice().reverse()}addEventListener(pe,ge,ut){return this._findPluginFor(ge).addEventListener(pe,ge,ut)}getZone(){return this._zone}_findPluginFor(pe){let ge=this._eventNameToPlugin.get(pe);if(ge)return ge;if(ge=this._plugins.find(wt=>wt.supports(pe)),!ge)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(pe,ge),ge}}return(se=W).\u0275fac=function(pe){return new(pe||se)(u.LFG(Ce),u.LFG(u.R0b))},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac}),W})();class Ne{constructor(W){this._doc=W}}const $e="ng-app-id";let Ve=(()=>{var se;class W{constructor(pe,ge,ut,wt={}){this.doc=pe,this.appId=ge,this.nonce=ut,this.platformId=wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,U.PM)(wt),this.resetHostNodes()}addStyles(pe){for(const ge of pe)1===this.changeUsageCount(ge,1)&&this.onStyleAdded(ge)}removeStyles(pe){for(const ge of pe)this.changeUsageCount(ge,-1)<=0&&this.onStyleRemoved(ge)}ngOnDestroy(){const pe=this.styleNodesInDOM;pe&&(pe.forEach(ge=>ge.remove()),pe.clear());for(const ge of this.getAllStyles())this.onStyleRemoved(ge);this.resetHostNodes()}addHost(pe){this.hostNodes.add(pe);for(const ge of this.getAllStyles())this.addStyleToHost(pe,ge)}removeHost(pe){this.hostNodes.delete(pe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(pe){for(const ge of this.hostNodes)this.addStyleToHost(ge,pe)}onStyleRemoved(pe){var ge;const ut=this.styleRef;null===(ge=ut.get(pe))||void 0===ge||null===(ge=ge.elements)||void 0===ge||ge.forEach(wt=>wt.remove()),ut.delete(pe)}collectServerRenderedStyles(){var pe;const ge=null===(pe=this.doc.head)||void 0===pe?void 0:pe.querySelectorAll(`style[${$e}="${this.appId}"]`);if(null!=ge&&ge.length){const ut=new Map;return ge.forEach(wt=>{null!=wt.textContent&&ut.set(wt.textContent,wt)}),ut}return null}changeUsageCount(pe,ge){const ut=this.styleRef;if(ut.has(pe)){const wt=ut.get(pe);return wt.usage+=ge,wt.usage}return ut.set(pe,{usage:ge,elements:[]}),ge}getStyleElement(pe,ge){const ut=this.styleNodesInDOM,wt=null==ut?void 0:ut.get(ge);if((null==wt?void 0:wt.parentNode)===pe)return ut.delete(ge),wt.removeAttribute($e),wt;{const Yt=this.doc.createElement("style");return this.nonce&&Yt.setAttribute("nonce",this.nonce),Yt.textContent=ge,this.platformIsServer&&Yt.setAttribute($e,this.appId),pe.appendChild(Yt),Yt}}addStyleToHost(pe,ge){var ut;const wt=this.getStyleElement(pe,ge),Yt=this.styleRef,kn=null===(ut=Yt.get(ge))||void 0===ut?void 0:ut.elements;kn?kn.push(wt):Yt.set(ge,{elements:[wt],usage:1})}resetHostNodes(){const pe=this.hostNodes;pe.clear(),pe.add(this.doc.head)}}return(se=W).\u0275fac=function(pe){return new(pe||se)(u.LFG(U.K0),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac}),W})();const ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},st=/%COMP%/g,he=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Ee(se,W){return W.map(ue=>ue.replace(st,se))}let re=(()=>{var se;class W{constructor(pe,ge,ut,wt,Yt,kn,$n,fr=null){this.eventManager=pe,this.sharedStylesHost=ge,this.appId=ut,this.removeStylesOnCompDestroy=wt,this.doc=Yt,this.platformId=kn,this.ngZone=$n,this.nonce=fr,this.rendererByCompId=new Map,this.platformIsServer=(0,U.PM)(kn),this.defaultRenderer=new _e(pe,Yt,$n,this.platformIsServer)}createRenderer(pe,ge){if(!pe||!ge)return this.defaultRenderer;this.platformIsServer&&ge.encapsulation===u.ifc.ShadowDom&&(ge={...ge,encapsulation:u.ifc.Emulated});const ut=this.getOrCreateRenderer(pe,ge);return ut instanceof St?ut.applyToHost(pe):ut instanceof Je&&ut.applyStyles(),ut}getOrCreateRenderer(pe,ge){const ut=this.rendererByCompId;let wt=ut.get(ge.id);if(!wt){const Yt=this.doc,kn=this.ngZone,$n=this.eventManager,fr=this.sharedStylesHost,nn=this.removeStylesOnCompDestroy,Zt=this.platformIsServer;switch(ge.encapsulation){case u.ifc.Emulated:wt=new St($n,fr,ge,this.appId,nn,Yt,kn,Zt);break;case u.ifc.ShadowDom:return new Me($n,fr,pe,ge,Yt,kn,this.nonce,Zt);default:wt=new Je($n,fr,ge,nn,Yt,kn,Zt)}ut.set(ge.id,wt)}return wt}ngOnDestroy(){this.rendererByCompId.clear()}}return(se=W).\u0275fac=function(pe){return new(pe||se)(u.LFG(fe),u.LFG(Ve),u.LFG(u.AFp),u.LFG(he),u.LFG(U.K0),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac}),W})();class _e{constructor(W,ue,pe,ge){this.eventManager=W,this.doc=ue,this.ngZone=pe,this.platformIsServer=ge,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(W,ue){return ue?this.doc.createElementNS(ke[ue]||ue,W):this.doc.createElement(W)}createComment(W){return this.doc.createComment(W)}createText(W){return this.doc.createTextNode(W)}appendChild(W,ue){(ze(W)?W.content:W).appendChild(ue)}insertBefore(W,ue,pe){W&&(ze(W)?W.content:W).insertBefore(ue,pe)}removeChild(W,ue){W&&W.removeChild(ue)}selectRootElement(W,ue){let pe="string"==typeof W?this.doc.querySelector(W):W;if(!pe)throw new u.vHH(-5104,!1);return ue||(pe.textContent=""),pe}parentNode(W){return W.parentNode}nextSibling(W){return W.nextSibling}setAttribute(W,ue,pe,ge){if(ge){ue=ge+":"+ue;const ut=ke[ge];ut?W.setAttributeNS(ut,ue,pe):W.setAttribute(ue,pe)}else W.setAttribute(ue,pe)}removeAttribute(W,ue,pe){if(pe){const ge=ke[pe];ge?W.removeAttributeNS(ge,ue):W.removeAttribute(`${pe}:${ue}`)}else W.removeAttribute(ue)}addClass(W,ue){W.classList.add(ue)}removeClass(W,ue){W.classList.remove(ue)}setStyle(W,ue,pe,ge){ge&(u.JOm.DashCase|u.JOm.Important)?W.style.setProperty(ue,pe,ge&u.JOm.Important?"important":""):W.style[ue]=pe}removeStyle(W,ue,pe){pe&u.JOm.DashCase?W.style.removeProperty(ue):W.style[ue]=""}setProperty(W,ue,pe){null!=W&&(W[ue]=pe)}setValue(W,ue){W.nodeValue=ue}listen(W,ue,pe){if("string"==typeof W&&!(W=(0,U.q)().getGlobalEventTarget(this.doc,W)))throw new Error(`Unsupported event target ${W} for event ${ue}`);return this.eventManager.addEventListener(W,ue,this.decoratePreventDefault(pe))}decoratePreventDefault(W){return ue=>{if("__ngUnwrap__"===ue)return W;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>W(ue)):W(ue))&&ue.preventDefault()}}}function ze(se){return"TEMPLATE"===se.tagName&&void 0!==se.content}class Me extends _e{constructor(W,ue,pe,ge,ut,wt,Yt,kn){super(W,ut,wt,kn),this.sharedStylesHost=ue,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $n=Ee(ge.id,ge.styles);for(const fr of $n){const nn=document.createElement("style");Yt&&nn.setAttribute("nonce",Yt),nn.textContent=fr,this.shadowRoot.appendChild(nn)}}nodeOrShadowRoot(W){return W===this.hostEl?this.shadowRoot:W}appendChild(W,ue){return super.appendChild(this.nodeOrShadowRoot(W),ue)}insertBefore(W,ue,pe){return super.insertBefore(this.nodeOrShadowRoot(W),ue,pe)}removeChild(W,ue){return super.removeChild(this.nodeOrShadowRoot(W),ue)}parentNode(W){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(W)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Je extends _e{constructor(W,ue,pe,ge,ut,wt,Yt,kn){super(W,ut,wt,Yt),this.sharedStylesHost=ue,this.removeStylesOnCompDestroy=ge,this.styles=kn?Ee(kn,pe.styles):pe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class St extends Je{constructor(W,ue,pe,ge,ut,wt,Yt,kn){const $n=ge+"-"+pe.id;super(W,ue,pe,ut,wt,Yt,kn,$n),this.contentAttr=function Be(se){return"_ngcontent-%COMP%".replace(st,se)}($n),this.hostAttr=function Fe(se){return"_nghost-%COMP%".replace(st,se)}($n)}applyToHost(W){this.applyStyles(),this.setAttribute(W,this.hostAttr,"")}createElement(W,ue){const pe=super.createElement(W,ue);return super.setAttribute(pe,this.contentAttr,""),pe}}let Xt=(()=>{var se;class W extends Ne{constructor(pe){super(pe)}supports(pe){return!0}addEventListener(pe,ge,ut){return pe.addEventListener(ge,ut,!1),()=>this.removeEventListener(pe,ge,ut)}removeEventListener(pe,ge,ut){return pe.removeEventListener(ge,ut)}}return(se=W).\u0275fac=function(pe){return new(pe||se)(u.LFG(U.K0))},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac}),W})();const Pn=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pe={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let le=(()=>{var se;class W extends Ne{constructor(pe){super(pe)}supports(pe){return null!=W.parseEventName(pe)}addEventListener(pe,ge,ut){const wt=W.parseEventName(ge),Yt=W.eventCallback(wt.fullKey,ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,U.q)().onAndCancel(pe,wt.domEventName,Yt))}static parseEventName(pe){const ge=pe.toLowerCase().split("."),ut=ge.shift();if(0===ge.length||"keydown"!==ut&&"keyup"!==ut)return null;const wt=W._normalizeKey(ge.pop());let Yt="",kn=ge.indexOf("code");if(kn>-1&&(ge.splice(kn,1),Yt="code."),Pn.forEach(fr=>{const nn=ge.indexOf(fr);nn>-1&&(ge.splice(nn,1),Yt+=fr+".")}),Yt+=wt,0!=ge.length||0===wt.length)return null;const $n={};return $n.domEventName=ut,$n.fullKey=Yt,$n}static matchEventFullKeyCode(pe,ge){let ut=ot[pe.key]||pe.key,wt="";return ge.indexOf("code.")>-1&&(ut=pe.code,wt="code."),!(null==ut||!ut)&&(ut=ut.toLowerCase()," "===ut?ut="space":"."===ut&&(ut="dot"),Pn.forEach(Yt=>{Yt!==ut&&(0,Pe[Yt])(pe)&&(wt+=Yt+".")}),wt+=ut,wt===ge)}static eventCallback(pe,ge,ut){return wt=>{W.matchEventFullKeyCode(wt,pe)&&ut.runGuarded(()=>ge(wt))}}static _normalizeKey(pe){return"esc"===pe?"escape":pe}}return(se=W).\u0275fac=function(pe){return new(pe||se)(u.LFG(U.K0))},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac}),W})();const Ht=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:U.bD},{provide:u.g9A,useValue:function Tt(){ae.makeCurrent()},multi:!0},{provide:U.K0,useFactory:function Pt(){return(0,u.RDi)(document),document},deps:[]}]),dn=new u.OlP(""),vt=[{provide:u.rWj,useClass:class qe{addToWindow(W){u.dqk.getAngularTestability=(pe,ge=!0)=>{const ut=W.findTestabilityInTree(pe,ge);if(null==ut)throw new u.vHH(5103,!1);return ut},u.dqk.getAllAngularTestabilities=()=>W.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>W.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(pe=>{const ge=u.dqk.getAllAngularTestabilities();let ut=ge.length,wt=!1;const Yt=function(kn){wt=wt||kn,ut--,0==ut&&pe(wt)};ge.forEach(kn=>{kn.whenStable(Yt)})})}findTestabilityInTree(W,ue,pe){if(null==ue)return null;const ge=W.getTestability(ue);return null!=ge?ge:pe?(0,U.q)().isShadowRoot(ue)?this.findTestabilityInTree(W,ue.host,!0):this.findTestabilityInTree(W,ue.parentElement,!0):null}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ht=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function At(){return new u.qLn},deps:[]},{provide:Ce,useClass:Xt,multi:!0,deps:[U.K0,u.R0b,u.Lbi]},{provide:Ce,useClass:le,multi:!0,deps:[U.K0]},re,Ve,fe,{provide:u.FYo,useExisting:re},{provide:U.JF,useClass:Ge,deps:[]},[]];let lt=(()=>{var se;class W{constructor(pe){}static withServerTransition(pe){return{ngModule:W,providers:[{provide:u.AFp,useValue:pe.appId}]}}}return(se=W).\u0275fac=function(pe){return new(pe||se)(u.LFG(dn,12))},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({providers:[...ht,...vt],imports:[U.ez,u.hGG]}),W})(),an=(()=>{var se;class W{constructor(pe){this._doc=pe}getTitle(){return this._doc.title}setTitle(pe){this._doc.title=pe||""}}return(se=W).\u0275fac=function(pe){return new(pe||se)(u.LFG(U.K0))},se.\u0275prov=u.Yz7({token:se,factory:function(pe){let ge=null;return ge=pe?new pe:function _n(){return new an((0,u.LFG)(U.K0))}(),ge},providedIn:"root"}),W})();typeof window<"u"&&window},4934:(Qt,it,O)=>{"use strict";O.d(it,{gz:()=>Qr,y6:()=>Jn,OD:()=>De,eC:()=>dt,wN:()=>bs,F0:()=>Vr,rH:()=>As,Bz:()=>ui,Hx:()=>hr});var u=O(9212),U=O(5592),K=O(4674),Oe=O(2459),de=O(2096),Ie=O(5619),qe=O(2572),Ge=O(6973),Ce=O(5211),fe=O(4829);function Ne(T){return new U.y(A=>{(0,fe.Xf)(T()).subscribe(A)})}var $e=O(8407);function Ve(T,A){const M=(0,K.m)(T)?T:()=>T,v=N=>N.error(M());return new U.y(A?N=>A.schedule(v,0,N):v)}var ke=O(6232),st=O(7394),Le=O(9360),je=O(8251);function Ye(){return(0,Le.e)((T,A)=>{let M=null;T._refCount++;const v=(0,je.x)(A,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(M=null);const N=T._connection,Q=M;M=null,N&&(!Q||N===Q)&&N.unsubscribe(),A.unsubscribe()});T.subscribe(v),v.closed||(M=T.connect())})}class gt extends U.y{constructor(A,M){super(),this.source=A,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,Le.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new st.w0;const M=this.getSubject();A.add(this.source.subscribe((0,je.x)(M,void 0,()=>{this._teardown(),M.complete()},v=>{this._teardown(),M.error(v)},()=>this._teardown()))),A.closed&&(this._connection=null,A=st.w0.EMPTY)}return A}refCount(){return Ye()(this)}}var he=O(8645),Be=O(6814),Fe=O(7398),Ee=O(4664),re=O(8180),_e=O(7921),q=O(2181),ee=O(1631),ze=O(1374);function Me(T,A){return(0,K.m)(A)?(0,ee.z)(T,A,1):(0,ee.z)(T,1)}var Je=O(9397);function St(T){return(0,Le.e)((A,M)=>{let Q,v=null,N=!1;v=A.subscribe((0,je.x)(M,void 0,void 0,ve=>{Q=(0,fe.Xf)(T(ve,St(T)(A))),v?(v.unsubscribe(),v=null,Q.subscribe(M)):N=!0})),N&&(v.unsubscribe(),v=null,Q.subscribe(M))})}var Xt=O(6699),Pn=O(3572);function ot(T){return T<=0?()=>ke.E:(0,Le.e)((A,M)=>{let v=[];A.subscribe((0,je.x)(M,N=>{v.push(N),T<v.length&&v.shift()},()=>{for(const N of v)M.next(N);M.complete()},void 0,()=>{v=null}))})}var Pe=O(3026),le=O(2737);function Ke(T){return(0,Le.e)((A,M)=>{try{A.subscribe(M)}finally{M.add(T)}})}var Xe=O(2420),At=O(7537),Pt=O(6593);const dt="primary",Ht=Symbol("RouteTitle");class dn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const M=this.params[A];return Array.isArray(M)?M[0]:M}return null}getAll(A){if(this.has(A)){const M=this.params[A];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function vt(T){return new dn(T)}function ht(T,A,M){const v=M.path.split("/");if(v.length>T.length||"full"===M.pathMatch&&(A.hasChildren()||v.length<T.length))return null;const N={};for(let Q=0;Q<v.length;Q++){const ve=v[Q],ct=T[Q];if(ve.startsWith(":"))N[ve.substring(1)]=ct;else if(ve!==ct.path)return null}return{consumed:T.slice(0,v.length),posParams:N}}function bt(T,A){const M=T?zt(T):void 0,v=A?zt(A):void 0;if(!M||!v||M.length!=v.length)return!1;let N;for(let Q=0;Q<M.length;Q++)if(N=M[Q],!En(T[N],A[N]))return!1;return!0}function zt(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function En(T,A){if(Array.isArray(T)&&Array.isArray(A)){if(T.length!==A.length)return!1;const M=[...T].sort(),v=[...A].sort();return M.every((N,Q)=>v[Q]===N)}return T===A}function _n(T){return T.length>0?T[T.length-1]:null}function an(T){return function ae(T){return!!T&&(T instanceof U.y||(0,K.m)(T.lift)&&(0,K.m)(T.subscribe))}(T)?T:(0,u.QGY)(T)?(0,Oe.D)(Promise.resolve(T)):(0,de.of)(T)}const Nn={exact:function Cn(T,A,M){if(!br(T.segments,A.segments)||!Wt(T.segments,A.segments,M)||T.numberOfChildren!==A.numberOfChildren)return!1;for(const v in A.children)if(!T.children[v]||!Cn(T.children[v],A.children[v],M))return!1;return!0},subset:Yn},Tn={exact:function Gt(T,A){return bt(T,A)},subset:function wn(T,A){return Object.keys(A).length<=Object.keys(T).length&&Object.keys(A).every(M=>En(T[M],A[M]))},ignored:()=>!0};function Zn(T,A,M){return Nn[M.paths](T.root,A.root,M.matrixParams)&&Tn[M.queryParams](T.queryParams,A.queryParams)&&!("exact"===M.fragment&&T.fragment!==A.fragment)}function Yn(T,A,M){return rr(T,A,A.segments,M)}function rr(T,A,M,v){if(T.segments.length>M.length){const N=T.segments.slice(0,M.length);return!(!br(N,M)||A.hasChildren()||!Wt(N,M,v))}if(T.segments.length===M.length){if(!br(T.segments,M)||!Wt(T.segments,M,v))return!1;for(const N in A.children)if(!T.children[N]||!Yn(T.children[N],A.children[N],v))return!1;return!0}{const N=M.slice(0,T.segments.length),Q=M.slice(T.segments.length);return!!(br(T.segments,N)&&Wt(T.segments,N,v)&&T.children[dt])&&rr(T.children[dt],A,Q,v)}}function Wt(T,A,M){return A.every((v,N)=>Tn[M](T[N].parameters,v.parameters))}class Er{constructor(A=new Mn([],{}),M={},v=null){this.root=A,this.queryParams=M,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vt(this.queryParams)),this._queryParamMap}toString(){return In.serialize(this)}}class Mn{constructor(A,M){this.segments=A,this.children=M,this.parent=null,Object.values(M).forEach(v=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hn(this)}}class Yr{constructor(A,M){this.path=A,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=vt(this.parameters)),this._parameterMap}toString(){return gi(this)}}function br(T,A){return T.length===A.length&&T.every((M,v)=>M.path===A[v].path)}let hr=(()=>{var T;class A{}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>new ni,providedIn:"root"}),A})();class ni{parse(A){const M=new fr(A);return new Er(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(A){const M=`/${Kr(A.root,!0)}`,v=function W(T){const A=Object.keys(T).map(M=>{const v=T[M];return Array.isArray(v)?v.map(N=>`${Zr(M)}=${Zr(N)}`).join("&"):`${Zr(M)}=${Zr(v)}`}).filter(M=>!!M);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${M}${v}${"string"==typeof A.fragment?`#${function li(T){return encodeURI(T)}(A.fragment)}`:""}`}}const In=new ni;function Hn(T){return T.segments.map(A=>gi(A)).join("/")}function Kr(T,A){if(!T.hasChildren())return Hn(T);if(A){const M=T.children[dt]?Kr(T.children[dt],!1):"",v=[];return Object.entries(T.children).forEach(([N,Q])=>{N!==dt&&v.push(`${N}:${Kr(Q,!1)}`)}),v.length>0?`${M}(${v.join("//")})`:M}{const M=function Bn(T,A){let M=[];return Object.entries(T.children).forEach(([v,N])=>{v===dt&&(M=M.concat(A(N,v)))}),Object.entries(T.children).forEach(([v,N])=>{v!==dt&&(M=M.concat(A(N,v)))}),M}(T,(v,N)=>N===dt?[Kr(T.children[dt],!1)]:[`${N}:${Kr(v,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[dt]?`${Hn(T)}/${M[0]}`:`${Hn(T)}/(${M.join("//")})`}}function ei(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zr(T){return ei(T).replace(/%3B/gi,";")}function zr(T){return ei(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ri(T){return decodeURIComponent(T)}function vr(T){return ri(T.replace(/\+/g,"%20"))}function gi(T){return`${zr(T.path)}${function se(T){return Object.keys(T).map(A=>`;${zr(A)}=${zr(T[A])}`).join("")}(T.parameters)}`}const ue=/^[^\/()?;#]+/;function pe(T){const A=T.match(ue);return A?A[0]:""}const ge=/^[^\/()?;=#]+/,wt=/^[^=?&#]+/,kn=/^[^&#]+/;class fr{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(A.length>0||Object.keys(M).length>0)&&(v[dt]=new Mn(A,M)),v}parseSegment(){const A=pe(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(A),new Yr(ri(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const M=function ut(T){const A=T.match(ge);return A?A[0]:""}(this.remaining);if(!M)return;this.capture(M);let v="";if(this.consumeOptional("=")){const N=pe(this.remaining);N&&(v=N,this.capture(v))}A[ri(M)]=ri(v)}parseQueryParam(A){const M=function Yt(T){const A=T.match(wt);return A?A[0]:""}(this.remaining);if(!M)return;this.capture(M);let v="";if(this.consumeOptional("=")){const ve=function $n(T){const A=T.match(kn);return A?A[0]:""}(this.remaining);ve&&(v=ve,this.capture(v))}const N=vr(M),Q=vr(v);if(A.hasOwnProperty(N)){let ve=A[N];Array.isArray(ve)||(ve=[ve],A[N]=ve),ve.push(Q)}else A[N]=Q}parseParens(A){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=pe(this.remaining),N=this.remaining[v.length];if("/"!==N&&")"!==N&&";"!==N)throw new u.vHH(4010,!1);let Q;v.indexOf(":")>-1?(Q=v.slice(0,v.indexOf(":")),this.capture(Q),this.capture(":")):A&&(Q=dt);const ve=this.parseChildren();M[Q]=1===Object.keys(ve).length?ve[dt]:new Mn([],ve),this.consumeOptional("//")}return M}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new u.vHH(4011,!1)}}function nn(T){return T.segments.length>0?new Mn([],{[dt]:T}):T}function Zt(T){const A={};for(const v of Object.keys(T.children)){const Q=Zt(T.children[v]);if(v===dt&&0===Q.segments.length&&Q.hasChildren())for(const[ve,ct]of Object.entries(Q.children))A[ve]=ct;else(Q.segments.length>0||Q.hasChildren())&&(A[v]=Q)}return function mi(T){if(1===T.numberOfChildren&&T.children[dt]){const A=T.children[dt];return new Mn(T.segments.concat(A.segments),A.children)}return T}(new Mn(T.segments,A))}function kr(T){return T instanceof Er}function Dt(T){var A;let M;const Q=nn(function v(ve){const ct={};for(const yt of ve.children){const pn=v(yt);ct[yt.outlet]=pn}const Lt=new Mn(ve.url,ct);return ve===T&&(M=Lt),Lt}(T.root));return null!==(A=M)&&void 0!==A?A:Q}function nt(T,A,M,v){let N=T;for(;N.parent;)N=N.parent;if(0===A.length)return bn(N,N,N,M,v);const Q=function xr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Gn(!0,0,T);let A=0,M=!1;const v=T.reduce((N,Q,ve)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const ct={};return Object.entries(Q.outlets).forEach(([Lt,yt])=>{ct[Lt]="string"==typeof yt?yt.split("/"):yt}),[...N,{outlets:ct}]}if(Q.segmentPath)return[...N,Q.segmentPath]}return"string"!=typeof Q?[...N,Q]:0===ve?(Q.split("/").forEach((ct,Lt)=>{0==Lt&&"."===ct||(0==Lt&&""===ct?M=!0:".."===ct?A++:""!=ct&&N.push(ct))}),N):[...N,Q]},[]);return new Gn(M,A,v)}(A);if(Q.toRoot())return bn(N,N,new Mn([],{}),M,v);const ve=function pr(T,A,M){if(T.isAbsolute)return new Xn(A,!0,0);if(!M)return new Xn(A,!1,NaN);if(null===M.parent)return new Xn(M,!0,0);const v=kt(T.commands[0])?0:1;return function di(T,A,M){let v=T,N=A,Q=M;for(;Q>N;){if(Q-=N,v=v.parent,!v)throw new u.vHH(4005,!1);N=v.segments.length}return new Xn(v,!1,N-Q)}(M,M.segments.length-1+v,T.numberOfDoubleDots)}(Q,N,T),ct=ve.processChildren?zn(ve.segmentGroup,ve.index,Q.commands):Dr(ve.segmentGroup,ve.index,Q.commands);return bn(N,ve.segmentGroup,ct,M,v)}function kt(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Jt(T){return"object"==typeof T&&null!=T&&T.outlets}function bn(T,A,M,v,N){let ve,Q={};v&&Object.entries(v).forEach(([Lt,yt])=>{Q[Lt]=Array.isArray(yt)?yt.map(pn=>`${pn}`):`${yt}`}),ve=T===A?M:Sn(T,A,M);const ct=nn(Zt(ve));return new Er(ct,Q,N)}function Sn(T,A,M){const v={};return Object.entries(T.children).forEach(([N,Q])=>{v[N]=Q===A?M:Sn(Q,A,M)}),new Mn(T.segments,v)}class Gn{constructor(A,M,v){if(this.isAbsolute=A,this.numberOfDoubleDots=M,this.commands=v,A&&v.length>0&&kt(v[0]))throw new u.vHH(4003,!1);const N=v.find(Jt);if(N&&N!==_n(v))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xn{constructor(A,M,v){this.segmentGroup=A,this.processChildren=M,this.index=v}}function Dr(T,A,M){if(T||(T=new Mn([],{})),0===T.segments.length&&T.hasChildren())return zn(T,A,M);const v=function _i(T,A,M){let v=0,N=A;const Q={match:!1,pathIndex:0,commandIndex:0};for(;N<T.segments.length;){if(v>=M.length)return Q;const ve=T.segments[N],ct=M[v];if(Jt(ct))break;const Lt=`${ct}`,yt=v<M.length-1?M[v+1]:null;if(N>0&&void 0===Lt)break;if(Lt&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!we(Lt,yt,ve))return Q;v+=2}else{if(!we(Lt,{},ve))return Q;v++}N++}return{match:!0,pathIndex:N,commandIndex:v}}(T,A,M),N=M.slice(v.commandIndex);if(v.match&&v.pathIndex<T.segments.length){const Q=new Mn(T.segments.slice(0,v.pathIndex),{});return Q.children[dt]=new Mn(T.segments.slice(v.pathIndex),T.children),zn(Q,0,N)}return v.match&&0===N.length?new Mn(T.segments,{}):v.match&&!T.hasChildren()?Or(T,A,M):v.match?zn(T,0,N):Or(T,A,M)}function zn(T,A,M){if(0===M.length)return new Mn(T.segments,{});{const v=function Ri(T){return Jt(T[0])?T[0].outlets:{[dt]:T}}(M),N={};if(Object.keys(v).some(Q=>Q!==dt)&&T.children[dt]&&1===T.numberOfChildren&&0===T.children[dt].segments.length){const Q=zn(T.children[dt],A,M);return new Mn(T.segments,Q.children)}return Object.entries(v).forEach(([Q,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(N[Q]=Dr(T.children[Q],A,ve))}),Object.entries(T.children).forEach(([Q,ve])=>{void 0===v[Q]&&(N[Q]=ve)}),new Mn(T.segments,N)}}function Or(T,A,M){const v=T.segments.slice(0,A);let N=0;for(;N<M.length;){const Q=M[N];if(Jt(Q)){const Lt=jn(Q.outlets);return new Mn(v,Lt)}if(0===N&&kt(M[0])){v.push(new Yr(T.segments[A].path,gr(M[0]))),N++;continue}const ve=Jt(Q)?Q.outlets[dt]:`${Q}`,ct=N<M.length-1?M[N+1]:null;ve&&ct&&kt(ct)?(v.push(new Yr(ve,gr(ct))),N+=2):(v.push(new Yr(ve,{})),N++)}return new Mn(v,{})}function jn(T){const A={};return Object.entries(T).forEach(([M,v])=>{"string"==typeof v&&(v=[v]),null!==v&&(A[M]=Or(new Mn([],{}),0,v))}),A}function gr(T){const A={};return Object.entries(T).forEach(([M,v])=>A[M]=`${v}`),A}function we(T,A,M){return T==M.path&&bt(A,M.parameters)}const ye="imperative";class Y{constructor(A,M){this.id=A,this.url=M}}class De extends Y{constructor(A,M,v="imperative",N=null){super(A,M),this.type=0,this.navigationTrigger=v,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ze extends Y{constructor(A,M,v){super(A,M),this.urlAfterRedirects=v,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mt extends Y{constructor(A,M,v,N){super(A,M),this.reason=v,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tn extends Y{constructor(A,M,v,N){super(A,M),this.reason=v,this.code=N,this.type=16}}class on extends Y{constructor(A,M,v,N){super(A,M),this.error=v,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class un extends Y{constructor(A,M,v,N){super(A,M),this.urlAfterRedirects=v,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln extends Y{constructor(A,M,v,N){super(A,M),this.urlAfterRedirects=v,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Y{constructor(A,M,v,N,Q){super(A,M),this.urlAfterRedirects=v,this.state=N,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class B extends Y{constructor(A,M,v,N){super(A,M),this.urlAfterRedirects=v,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z extends Y{constructor(A,M,v,N){super(A,M),this.urlAfterRedirects=v,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class He{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mt{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ft{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(A,M,v){this.routerEvent=A,this.position=M,this.anchor=v,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nt{}class Kt{constructor(A){this.url=A}}class mn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jn,this.attachRef=null}}let Jn=(()=>{var T;class A{constructor(){this.contexts=new Map}onChildOutletCreated(v,N){const Q=this.getOrCreateContext(v);Q.outlet=N,this.contexts.set(v,Q)}onChildOutletDestroyed(v){const N=this.getContext(v);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let N=this.getContext(v);return N||(N=new mn,this.contexts.set(v,N)),N}getContext(v){return this.contexts.get(v)||null}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})();class Cr{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const M=this.pathFromRoot(A);return M.length>1?M[M.length-2]:null}children(A){const M=C(A,this._root);return M?M.children.map(v=>v.value):[]}firstChild(A){const M=C(A,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(A){const M=ne(A,this._root);return M.length<2?[]:M[M.length-2].children.map(N=>N.value).filter(N=>N!==A)}pathFromRoot(A){return ne(A,this._root).map(M=>M.value)}}function C(T,A){if(T===A.value)return A;for(const M of A.children){const v=C(T,M);if(v)return v}return null}function ne(T,A){if(T===A.value)return[A];for(const M of A.children){const v=ne(T,M);if(v.length)return v.unshift(A),v}return[]}class P{constructor(A,M){this.value=A,this.children=M}toString(){return`TreeNode(${this.value})`}}function oe(T){const A={};return T&&T.children.forEach(M=>A[M.value.outlet]=M),A}class et extends Cr{constructor(A,M){super(A),this.snapshot=M,io(this,A)}toString(){return this.snapshot.toString()}}function Wn(T,A){const M=function ii(T,A){const ve=new bo([],{},{},"",{},dt,A,null,{});return new Eo("",new P(ve,[]))}(0,A),v=new Ie.X([new Yr("",{})]),N=new Ie.X({}),Q=new Ie.X({}),ve=new Ie.X({}),ct=new Ie.X(""),Lt=new Qr(v,N,ve,ct,Q,dt,A,M.root);return Lt.snapshot=M.root,new et(new P(Lt,[]),M)}class Qr{constructor(A,M,v,N,Q,ve,ct,Lt){var yt,pn;this.urlSubject=A,this.paramsSubject=M,this.queryParamsSubject=v,this.fragmentSubject=N,this.dataSubject=Q,this.outlet=ve,this.component=ct,this._futureSnapshot=Lt,this.title=null!==(yt=null===(pn=this.dataSubject)||void 0===pn?void 0:pn.pipe((0,Fe.U)(tr=>tr[Ht])))&&void 0!==yt?yt:(0,de.of)(void 0),this.url=A,this.params=M,this.queryParams=v,this.fragment=N,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Fe.U)(A=>vt(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Fe.U)(A=>vt(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Io(T,A,M="emptyOnly"){var v;let N;const{routeConfig:Q}=T;var ve;return N=null===A||"always"!==M&&""!==(null==Q?void 0:Q.path)&&(A.component||null!==(v=A.routeConfig)&&void 0!==v&&v.loadComponent)?{params:{...T.params},data:{...T.data},resolve:{...T.data,...null!==(ve=T._resolvedData)&&void 0!==ve?ve:{}}}:{params:{...A.params,...T.params},data:{...A.data,...T.data},resolve:{...T.data,...A.data,...null==Q?void 0:Q.data,...T._resolvedData}},Q&&so(Q)&&(N.resolve[Ht]=Q.title),N}class bo{get title(){var A;return null===(A=this.data)||void 0===A?void 0:A[Ht]}constructor(A,M,v,N,Q,ve,ct,Lt,yt){this.url=A,this.params=M,this.queryParams=v,this.fragment=N,this.data=Q,this.outlet=ve,this.component=ct,this.routeConfig=Lt,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eo extends Cr{constructor(A,M){super(M),this.url=A,io(this,M)}toString(){return oo(this._root)}}function io(T,A){A.value._routerState=T,A.children.forEach(M=>io(T,M))}function oo(T){const A=T.children.length>0?` { ${T.children.map(oo).join(", ")} } `:"";return`${T.value}${A}`}function Mi(T){if(T.snapshot){const A=T.snapshot,M=T._futureSnapshot;T.snapshot=M,bt(A.queryParams,M.queryParams)||T.queryParamsSubject.next(M.queryParams),A.fragment!==M.fragment&&T.fragmentSubject.next(M.fragment),bt(A.params,M.params)||T.paramsSubject.next(M.params),function lt(T,A){if(T.length!==A.length)return!1;for(let M=0;M<T.length;++M)if(!bt(T[M],A[M]))return!1;return!0}(A.url,M.url)||T.urlSubject.next(M.url),bt(A.data,M.data)||T.dataSubject.next(M.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function lr(T,A){const M=bt(T.params,A.params)&&function ar(T,A){return br(T,A)&&T.every((M,v)=>bt(M.parameters,A[v].parameters))}(T.url,A.url);return M&&!(!T.parent!=!A.parent)&&(!T.parent||lr(T.parent,A.parent))}function so(T){return"string"==typeof T.title||null===T.title}let lo=(()=>{var T;class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Jn),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(Ts,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:N,previousValue:Q}=v.name;if(N)return;this.isTrackedInParentContexts(Q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Q)),this.initializeOutletWithName()}}ngOnDestroy(){var v;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(v=this.inputBinder)||void 0===v||v.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){var N;return(null===(N=this.parentContexts.getContext(v))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);null!=v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,N){var Q;this.activated=v,this._activatedRoute=N,this.location.insert(v.hostView),null===(Q=this.inputBinder)||void 0===Q||Q.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,N){var Q;if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=v;const ve=this.location,Lt=v.snapshot.component,yt=this.parentContexts.getOrCreateContext(this.name).children,pn=new Es(v,yt,ve.injector);this.activated=ve.createComponent(Lt,{index:ve.length,injector:pn,environmentInjector:null!=N?N:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Q=this.inputBinder)||void 0===Q||Q.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275dir=u.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),A})();class Es{constructor(A,M,v){this.route=A,this.childContexts=M,this.parent=v}get(A,M){return A===Qr?this.route:A===Jn?this.childContexts:this.parent.get(A,M)}}const Ts=new u.OlP("");let To=(()=>{var T;class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){var N;null===(N=this.outletDataSubscriptions.get(v))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:N}=v,Q=(0,qe.a)([N.queryParams,N.params,N.data]).pipe((0,Ee.w)(([ve,ct,Lt],yt)=>(Lt={...ve,...ct,...Lt},0===yt?(0,de.of)(Lt):Promise.resolve(Lt)))).subscribe(ve=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(v);const ct=(0,u.qFp)(N.component);if(ct)for(const{templateName:Lt}of ct.inputs)v.activatedComponentRef.setInput(Lt,ve[Lt]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,Q)}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac}),A})();function Ki(T,A,M){if(M&&T.shouldReuseRoute(A.value,M.value.snapshot)){const v=M.value;v._futureSnapshot=A.value;const N=function $o(T,A,M){return A.children.map(v=>{for(const N of M.children)if(T.shouldReuseRoute(v.value,N.value.snapshot))return Ki(T,v,N);return Ki(T,v)})}(T,A,M);return new P(v,N)}{if(T.shouldAttach(A.value)){const Q=T.retrieve(A.value);if(null!==Q){const ve=Q.route;return ve.value._futureSnapshot=A.value,ve.children=A.children.map(ct=>Ki(T,ct)),ve}}const v=function uo(T){return new Qr(new Ie.X(T.url),new Ie.X(T.params),new Ie.X(T.queryParams),new Ie.X(T.fragment),new Ie.X(T.data),T.outlet,T.component,T)}(A.value),N=A.children.map(Q=>Ki(T,Q));return new P(v,N)}}const Zi="ngNavigationCancelingError";function Ds(T,A){const{redirectTo:M,navigationBehaviorOptions:v}=kr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,N=zi(!1,0,A);return N.url=M,N.navigationBehaviorOptions=v,N}function zi(T,A,M){const v=new Error("NavigationCancelingError: "+(T||""));return v[Zi]=!0,v.cancellationCode=A,M&&(v.url=M),v}function ds(T){return T&&T[Zi]}let Uo=(()=>{var T;class A{}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275cmp=u.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(v,N){1&v&&u._UZ(0,"router-outlet")},dependencies:[lo],encapsulation:2}),A})();function ts(T){const A=T.children&&T.children.map(ts),M=A?{...T,children:A}:{...T};return!M.component&&!M.loadComponent&&(A||M.loadChildren)&&M.outlet&&M.outlet!==dt&&(M.component=Uo),M}function jr(T){return T.outlet||dt}function Li(T){var A;if(!T)return null;if(null!==(A=T.routeConfig)&&void 0!==A&&A._injector)return T.routeConfig._injector;for(let M=T.parent;M;M=M.parent){const v=M.routeConfig;if(null!=v&&v._loadedInjector)return v._loadedInjector;if(null!=v&&v._injector)return v._injector}return null}class hi{constructor(A,M,v,N,Q){this.routeReuseStrategy=A,this.futureState=M,this.currState=v,this.forwardEvent=N,this.inputBindingEnabled=Q}activate(A){const M=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,v,A),Mi(this.futureState.root),this.activateChildRoutes(M,v,A)}deactivateChildRoutes(A,M,v){const N=oe(M);A.children.forEach(Q=>{const ve=Q.value.outlet;this.deactivateRoutes(Q,N[ve],v),delete N[ve]}),Object.values(N).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,v)})}deactivateRoutes(A,M,v){const N=A.value,Q=M?M.value:null;if(N===Q)if(N.component){const ve=v.getContext(N.outlet);ve&&this.deactivateChildRoutes(A,M,ve.children)}else this.deactivateChildRoutes(A,M,v);else Q&&this.deactivateRouteAndItsChildren(M,v)}deactivateRouteAndItsChildren(A,M){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,M):this.deactivateRouteAndOutlet(A,M)}detachAndStoreRouteSubtree(A,M){const v=M.getContext(A.value.outlet),N=v&&A.value.component?v.children:M,Q=oe(A);for(const ve of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[ve],N);if(v&&v.outlet){const ve=v.outlet.detach(),ct=v.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:ve,route:A,contexts:ct})}}deactivateRouteAndOutlet(A,M){const v=M.getContext(A.value.outlet),N=v&&A.value.component?v.children:M,Q=oe(A);for(const ve of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[ve],N);v&&(v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated()),v.attachRef=null,v.route=null)}activateChildRoutes(A,M,v){const N=oe(M);A.children.forEach(Q=>{this.activateRoutes(Q,N[Q.value.outlet],v),this.forwardEvent(new Ft(Q.value.snapshot))}),A.children.length&&this.forwardEvent(new rt(A.value.snapshot))}activateRoutes(A,M,v){const N=A.value,Q=M?M.value:null;if(Mi(N),N===Q)if(N.component){const ve=v.getOrCreateContext(N.outlet);this.activateChildRoutes(A,M,ve.children)}else this.activateChildRoutes(A,M,v);else if(N.component){const ve=v.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const ct=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),ve.children.onOutletReAttached(ct.contexts),ve.attachRef=ct.componentRef,ve.route=ct.route.value,ve.outlet&&ve.outlet.attach(ct.componentRef,ct.route.value),Mi(ct.route.value),this.activateChildRoutes(A,null,ve.children)}else{const ct=Li(N.snapshot);ve.attachRef=null,ve.route=N,ve.injector=ct,ve.outlet&&ve.outlet.activateWith(N,ve.injector),this.activateChildRoutes(A,null,ve.children)}}else this.activateChildRoutes(A,null,v)}}class xi{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Ei{constructor(A,M){this.component=A,this.route=M}}function Oi(T,A,M){const v=T._root;return ko(v,A?A._root:null,M,[v.value])}function zo(T,A){const M=Symbol(),v=A.get(T,M);return v===M?"function"!=typeof T||(0,u.Z0I)(T)?A.get(T):T:v}function ko(T,A,M,v,N={canDeactivateChecks:[],canActivateChecks:[]}){const Q=oe(A);return T.children.forEach(ve=>{(function hs(T,A,M,v,N={canDeactivateChecks:[],canActivateChecks:[]}){const Q=T.value,ve=A?A.value:null,ct=M?M.getContext(T.value.outlet):null;if(ve&&Q.routeConfig===ve.routeConfig){const Lt=function ho(T,A,M){if("function"==typeof M)return M(T,A);switch(M){case"pathParamsChange":return!br(T.url,A.url);case"pathParamsOrQueryParamsChange":return!br(T.url,A.url)||!bt(T.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lr(T,A)||!bt(T.queryParams,A.queryParams);default:return!lr(T,A)}}(ve,Q,Q.routeConfig.runGuardsAndResolvers);Lt?N.canActivateChecks.push(new xi(v)):(Q.data=ve.data,Q._resolvedData=ve._resolvedData),ko(T,A,Q.component?ct?ct.children:null:M,v,N),Lt&&ct&&ct.outlet&&ct.outlet.isActivated&&N.canDeactivateChecks.push(new Ei(ct.outlet.component,ve))}else ve&&Gr(A,ct,N),N.canActivateChecks.push(new xi(v)),ko(T,null,Q.component?ct?ct.children:null:M,v,N)})(ve,Q[ve.value.outlet],M,v.concat([ve.value]),N),delete Q[ve.value.outlet]}),Object.entries(Q).forEach(([ve,ct])=>Gr(ct,M.getContext(ve),N)),N}function Gr(T,A,M){const v=oe(T),N=T.value;Object.entries(v).forEach(([Q,ve])=>{Gr(ve,N.component?A?A.children.getContext(Q):null:A,M)}),M.canDeactivateChecks.push(new Ei(N.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,N))}function en(T){return"function"==typeof T}function b(T){return T instanceof Ge.K||"EmptyError"===(null==T?void 0:T.name)}const E=Symbol("INITIAL_VALUE");function j(){return(0,Ee.w)(T=>(0,qe.a)(T.map(A=>A.pipe((0,re.q)(1),(0,_e.O)(E)))).pipe((0,Fe.U)(A=>{for(const M of A)if(!0!==M){if(M===E)return E;if(!1===M||M instanceof Er)return M}return!0}),(0,q.h)(A=>A!==E),(0,re.q)(1)))}function fi(T){return(0,$e.z)((0,Je.b)(A=>{if(kr(A))throw Ds(0,A)}),(0,Fe.U)(A=>!0===A))}class Fn{constructor(A){this.segmentGroup=A||null}}class Xi extends Error{constructor(A){super(),this.urlTree=A}}function Lr(T){return Ve(new Fn(T))}class ai{constructor(A,M){this.urlSerializer=A,this.urlTree=M}lineralizeSegments(A,M){let v=[],N=M.root;for(;;){if(v=v.concat(N.segments),0===N.numberOfChildren)return(0,de.of)(v);if(N.numberOfChildren>1||!N.children[dt])return Ve(new u.vHH(4e3,!1));N=N.children[dt]}}applyRedirectCommands(A,M,v){const N=this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),A,v);if(M.startsWith("/"))throw new Xi(N);return N}applyRedirectCreateUrlTree(A,M,v,N){const Q=this.createSegmentGroup(A,M.root,v,N);return new Er(Q,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(A,M){const v={};return Object.entries(A).forEach(([N,Q])=>{if("string"==typeof Q&&Q.startsWith(":")){const ct=Q.substring(1);v[N]=M[ct]}else v[N]=Q}),v}createSegmentGroup(A,M,v,N){const Q=this.createSegments(A,M.segments,v,N);let ve={};return Object.entries(M.children).forEach(([ct,Lt])=>{ve[ct]=this.createSegmentGroup(A,Lt,v,N)}),new Mn(Q,ve)}createSegments(A,M,v,N){return M.map(Q=>Q.path.startsWith(":")?this.findPosParam(A,Q,N):this.findOrReturn(Q,v))}findPosParam(A,M,v){const N=v[M.path.substring(1)];if(!N)throw new u.vHH(4001,!1);return N}findOrReturn(A,M){let v=0;for(const N of M){if(N.path===A.path)return M.splice(v),N;v++}return A}}const Gi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vi(T,A,M,v,N){const Q=Ti(T,A,M);return Q.matched?(v=function jo(T,A){var M;return T.providers&&!T._injector&&(T._injector=(0,u.MMx)(T.providers,A,`Route: ${T.path}`)),null!==(M=T._injector)&&void 0!==M?M:A}(A,v),function Hr(T,A,M,v){const N=A.canMatch;if(!N||0===N.length)return(0,de.of)(!0);const Q=N.map(ve=>{const ct=zo(ve,T);return an(function z(T){return T&&en(T.canMatch)}(ct)?ct.canMatch(A,M):(0,u.r_H)(T,()=>ct(A,M)))});return(0,de.of)(Q).pipe(j(),fi())}(v,A,M).pipe((0,Fe.U)(ve=>!0===ve?Q:{...Gi}))):(0,de.of)(Q)}function Ti(T,A,M){var v,N;if("**"===A.path)return function ha(T){return{matched:!0,parameters:T.length>0?_n(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}(M);if(""===A.path)return"full"===A.pathMatch&&(T.hasChildren()||M.length>0)?{...Gi}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const ve=(A.matcher||ht)(M,T,A);if(!ve)return{...Gi};const ct={};Object.entries(null!==(v=ve.posParams)&&void 0!==v?v:{}).forEach(([yt,pn])=>{ct[yt]=pn.path});const Lt=ve.consumed.length>0?{...ct,...ve.consumed[ve.consumed.length-1].parameters}:ct;return{matched:!0,consumedSegments:ve.consumed,remainingSegments:M.slice(ve.consumed.length),parameters:Lt,positionalParamSegments:null!==(N=ve.posParams)&&void 0!==N?N:{}}}function fs(T,A,M,v){return M.length>0&&function Ma(T,A,M){return M.some(v=>fa(T,A,v)&&jr(v)!==dt)}(T,M,v)?{segmentGroup:new Mn(A,Ro(v,new Mn(M,T.children))),slicedSegments:[]}:0===M.length&&function Qa(T,A,M){return M.some(v=>fa(T,A,v))}(T,M,v)?{segmentGroup:new Mn(T.segments,Za(T,0,M,v,T.children)),slicedSegments:M}:{segmentGroup:new Mn(T.segments,T.children),slicedSegments:M}}function Za(T,A,M,v,N){const Q={};for(const ve of v)if(fa(T,M,ve)&&!N[jr(ve)]){const ct=new Mn([],{});Q[jr(ve)]=ct}return{...N,...Q}}function Ro(T,A){const M={};M[dt]=A;for(const v of T)if(""===v.path&&jr(v)!==dt){const N=new Mn([],{});M[jr(v)]=N}return M}function fa(T,A,M){return(!(T.hasChildren()||A.length>0)||"full"!==M.pathMatch)&&""===M.path}class Fs{}class au{constructor(A,M,v,N,Q,ve,ct){this.injector=A,this.configLoader=M,this.rootComponentType=v,this.config=N,this.urlTree=Q,this.paramsInheritanceStrategy=ve,this.urlSerializer=ct,this.applyRedirects=new ai(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(A){return new u.vHH(4002,`'${A.segmentGroup}'`)}recognize(){const A=fs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(A).pipe((0,Fe.U)(M=>{const v=new bo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,{}),N=new P(v,M),Q=new Eo("",N),ve=function Fi(T,A,M=null,v=null){return nt(Dt(T),A,M,v)}(v,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(Q._root,null),{state:Q,tree:ve}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A,dt).pipe(St(v=>{if(v instanceof Xi)return this.urlTree=v.urlTree,this.match(v.urlTree.root);throw v instanceof Fn?this.noMatchError(v):v}))}inheritParamsAndData(A,M){const v=A.value,N=Io(v,M,this.paramsInheritanceStrategy);v.params=Object.freeze(N.params),v.data=Object.freeze(N.data),A.children.forEach(Q=>this.inheritParamsAndData(Q,v))}processSegmentGroup(A,M,v,N){return 0===v.segments.length&&v.hasChildren()?this.processChildren(A,M,v):this.processSegment(A,M,v,v.segments,N,!0).pipe((0,Fe.U)(Q=>Q instanceof P?[Q]:[]))}processChildren(A,M,v){const N=[];for(const Q of Object.keys(v.children))"primary"===Q?N.unshift(Q):N.push(Q);return(0,Oe.D)(N).pipe(Me(Q=>{const ve=v.children[Q],ct=function Pi(T,A){const M=T.filter(v=>jr(v)===A);return M.push(...T.filter(v=>jr(v)!==A)),M}(M,Q);return this.processSegmentGroup(A,ct,ve,Q)}),(0,Xt.R)((Q,ve)=>(Q.push(...ve),Q)),(0,Pn.d)(null),function be(T,A){const M=arguments.length>=2;return v=>v.pipe(T?(0,q.h)((N,Q)=>T(N,Q,v)):le.y,ot(1),M?(0,Pn.d)(A):(0,Pe.T)(()=>new Ge.K))}(),(0,ee.z)(Q=>{if(null===Q)return Lr(v);const ve=Mo(Q);return function wc(T){T.sort((A,M)=>A.value.outlet===dt?-1:M.value.outlet===dt?1:A.value.outlet.localeCompare(M.value.outlet))}(ve),(0,de.of)(ve)}))}processSegment(A,M,v,N,Q,ve){return(0,Oe.D)(M).pipe(Me(ct=>{var Lt;return this.processSegmentAgainstRoute(null!==(Lt=ct._injector)&&void 0!==Lt?Lt:A,M,ct,v,N,Q,ve).pipe(St(yt=>{if(yt instanceof Fn)return(0,de.of)(null);throw yt}))}),(0,ze.P)(ct=>!!ct),St(ct=>{if(b(ct))return function bl(T,A,M){return 0===A.length&&!T.children[M]}(v,N,Q)?(0,de.of)(new Fs):Lr(v);throw ct}))}processSegmentAgainstRoute(A,M,v,N,Q,ve,ct){return function pa(T,A,M,v){return!!(jr(T)===v||v!==dt&&fa(A,M,T))&&Ti(A,T,M).matched}(v,N,Q,ve)?void 0===v.redirectTo?this.matchSegmentAgainstRoute(A,N,v,Q,ve):this.allowRedirects&&ct?this.expandSegmentAgainstRouteUsingRedirect(A,N,M,v,Q,ve):Lr(N):Lr(N)}expandSegmentAgainstRouteUsingRedirect(A,M,v,N,Q,ve){const{matched:ct,consumedSegments:Lt,positionalParamSegments:yt,remainingSegments:pn}=Ti(M,N,Q);if(!ct)return Lr(M);N.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const tr=this.applyRedirects.applyRedirectCommands(Lt,N.redirectTo,yt);return this.applyRedirects.lineralizeSegments(N,tr).pipe((0,ee.z)(vi=>this.processSegment(A,v,M,vi.concat(pn),ve,!1)))}matchSegmentAgainstRoute(A,M,v,N,Q){const ve=Vi(M,v,N,A);return"**"===v.path&&(M.children={}),ve.pipe((0,Ee.w)(ct=>{var Lt;return ct.matched?(A=null!==(Lt=v._injector)&&void 0!==Lt?Lt:A,this.getChildConfig(A,v,N).pipe((0,Ee.w)(({routes:yt})=>{var pn,tr,vi;const dr=null!==(pn=v._loadedInjector)&&void 0!==pn?pn:A,{consumedSegments:Ni,remainingSegments:mr,parameters:Qs}=ct,Xs=new bo(Ni,Qs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function uu(T){return T.data||{}}(v),jr(v),null!==(tr=null!==(vi=v.component)&&void 0!==vi?vi:v._loadedComponent)&&void 0!==tr?tr:null,v,function Xa(T){return T.resolve||{}}(v)),{segmentGroup:nl,slicedSegments:$i}=fs(M,Ni,mr,yt);if(0===$i.length&&nl.hasChildren())return this.processChildren(dr,yt,nl).pipe((0,Fe.U)(Js=>null===Js?null:new P(Xs,Js)));if(0===yt.length&&0===$i.length)return(0,de.of)(new P(Xs,[]));const Pc=jr(v)===Q;return this.processSegment(dr,yt,nl,$i,Pc?dt:Q,!0).pipe((0,Fe.U)(Js=>new P(Xs,Js instanceof P?[Js]:[])))}))):Lr(M)}))}getChildConfig(A,M,v){return M.children?(0,de.of)({routes:M.children,injector:A}):M.loadChildren?void 0!==M._loadedRoutes?(0,de.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function or(T,A,M,v){const N=A.canLoad;if(void 0===N||0===N.length)return(0,de.of)(!0);const Q=N.map(ve=>{const ct=zo(ve,T);return an(function Fr(T){return T&&en(T.canLoad)}(ct)?ct.canLoad(A,M):(0,u.r_H)(T,()=>ct(A,M)))});return(0,de.of)(Q).pipe(j(),fi())}(A,M,v).pipe((0,ee.z)(N=>N?this.configLoader.loadChildren(A,M).pipe((0,Je.b)(Q=>{M._loadedRoutes=Q.routes,M._loadedInjector=Q.injector})):function Ji(T){return Ve(zi(!1,3))}())):(0,de.of)({routes:[],injector:A})}}function lu(T){const A=T.value.routeConfig;return A&&""===A.path}function Mo(T){const A=[],M=new Set;for(const v of T){if(!lu(v)){A.push(v);continue}const N=A.find(Q=>v.value.routeConfig===Q.value.routeConfig);void 0!==N?(N.children.push(...v.children),M.add(N)):A.push(v)}for(const v of M){const N=Mo(v.children);A.push(new P(v.value,N))}return A.filter(v=>!M.has(v))}function w(T){const A=T.children.map(M=>w(M)).flat();return[T,...A]}function ce(T){return(0,Ee.w)(A=>{const M=T(A);return M?(0,Oe.D)(M).pipe((0,Fe.U)(()=>A)):(0,de.of)(A)})}let Ue=(()=>{var T;class A{buildTitle(v){let N,Q=v.root;for(;void 0!==Q;){var ve;N=null!==(ve=this.getResolvedTitleForRoute(Q))&&void 0!==ve?ve:N,Q=Q.children.find(ct=>ct.outlet===dt)}return N}getResolvedTitleForRoute(v){return v.data[Ht]}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>(0,u.f3M)(Rt),providedIn:"root"}),A})(),Rt=(()=>{var T;class A extends Ue{constructor(v){super(),this.title=v}updateTitle(v){const N=this.buildTitle(v);void 0!==N&&this.title.setTitle(N)}}return(T=A).\u0275fac=function(v){return new(v||T)(u.LFG(Pt.Dx))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})();const qt=new u.OlP("",{providedIn:"root",factory:()=>({})}),Kn=new u.OlP("ROUTES");let yr=(()=>{var T;class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,de.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const N=an(v.loadComponent()).pipe((0,Fe.U)(er),(0,Je.b)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=ve}),Ke(()=>{this.componentLoaders.delete(v)})),Q=new gt(N,()=>new he.x).pipe(Ye());return this.componentLoaders.set(v,Q),Q}loadChildren(v,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,de.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ve=function cr(T,A,M,v){return an(T.loadChildren()).pipe((0,Fe.U)(er),(0,ee.z)(N=>N instanceof u.YKP||Array.isArray(N)?(0,de.of)(N):(0,Oe.D)(A.compileModuleAsync(N))),(0,Fe.U)(N=>{v&&v(T);let Q,ve,ct=!1;return Array.isArray(N)?(ve=N,!0):(Q=N.create(M).injector,ve=Q.get(Kn,[],{optional:!0,self:!0}).flat()),{routes:ve.map(ts),injector:Q}}))}(N,this.compiler,v,this.onLoadEndListener).pipe(Ke(()=>{this.childrenLoaders.delete(N)})),ct=new gt(ve,()=>new he.x).pipe(Ye());return this.childrenLoaders.set(N,ct),ct}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})();function er(T){return function qn(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Nr=(()=>{var T;class A{}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>(0,u.f3M)(Di),providedIn:"root"}),A})(),Di=(()=>{var T;class A{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,N){return v}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})();const Po=new u.OlP(""),xo=new u.OlP("");function ws(T,A,M){const v=T.get(xo),N=T.get(Be.K0);return T.get(u.R0b).runOutsideAngular(()=>{if(!N.startViewTransition||v.skipNextTransition)return v.skipNextTransition=!1,Promise.resolve();let Q;const ve=new Promise(yt=>{Q=yt}),ct=N.startViewTransition(()=>(Q(),function Fo(T){return new Promise(A=>{(0,u.T8G)(A,{injector:T})})}(T))),{onViewTransitionCreated:Lt}=v;return Lt&&(0,u.r_H)(T,()=>Lt({transition:ct,from:A,to:M})),ve})}let eo=(()=>{var T;class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he.x,this.transitionAbortSubject=new he.x,this.configLoader=(0,u.f3M)(yr),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(hr),this.rootContexts=(0,u.f3M)(Jn),this.location=(0,u.f3M)(Be.Ye),this.inputBindingEnabled=null!==(0,u.f3M)(Ts,{optional:!0}),this.titleStrategy=(0,u.f3M)(Ue),this.options=(0,u.f3M)(qt,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.f3M)(Nr),this.createViewTransition=(0,u.f3M)(Po,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Q=>this.events.next(new He(Q)),this.configLoader.onLoadStartListener=Q=>this.events.next(new xe(Q))}complete(){var v;null===(v=this.transitions)||void 0===v||v.complete()}handleNavigationRequest(v){var N;const Q=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...v,id:Q})}setupNavigations(v,N,Q){return this.transitions=new Ie.X({id:0,currentUrlTree:N,currentRawUrl:N,extractedUrl:this.urlHandlingStrategy.extract(N),urlAfterRedirects:this.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ye,restoredState:null,currentSnapshot:Q.snapshot,targetSnapshot:null,currentRouterState:Q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,q.h)(ve=>0!==ve.id),(0,Fe.U)(ve=>({...ve,extractedUrl:this.urlHandlingStrategy.extract(ve.rawUrl)})),(0,Ee.w)(ve=>{this.currentTransition=ve;let ct=!1,Lt=!1;return(0,de.of)(ve).pipe((0,Je.b)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ee.w)(yt=>{var pn;const tr=!v.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),vi=null!==(pn=yt.extras.onSameUrlNavigation)&&void 0!==pn?pn:v.onSameUrlNavigation;if(!tr&&"reload"!==vi){const dr="";return this.events.next(new tn(yt.id,this.urlSerializer.serialize(yt.rawUrl),dr,0)),yt.resolve(null),ke.E}if(this.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,de.of)(yt).pipe((0,Ee.w)(dr=>{var Ni,mr;const Qs=null===(Ni=this.transitions)||void 0===Ni?void 0:Ni.getValue();return this.events.next(new De(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),Qs!==(null===(mr=this.transitions)||void 0===mr?void 0:mr.getValue())?ke.E:Promise.resolve(dr)}),function Pa(T,A,M,v,N,Q){return(0,ee.z)(ve=>function Al(T,A,M,v,N,Q,ve="emptyOnly"){return new au(T,A,M,v,N,ve,Q).recognize()}(T,A,M,v,ve.extractedUrl,N,Q).pipe((0,Fe.U)(({state:ct,tree:Lt})=>({...ve,targetSnapshot:ct,urlAfterRedirects:Lt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Je.b)(dr=>{ve.targetSnapshot=dr.targetSnapshot,ve.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const Ni=new un(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(Ni)}));if(tr&&this.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:dr,extractedUrl:Ni,source:mr,restoredState:Qs,extras:Xs}=yt,nl=new De(dr,this.urlSerializer.serialize(Ni),mr,Qs);this.events.next(nl);const $i=Wn(0,this.rootComponentType).snapshot;return this.currentTransition=ve={...yt,targetSnapshot:$i,urlAfterRedirects:Ni,extras:{...Xs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ni,(0,de.of)(ve)}{const dr="";return this.events.next(new tn(yt.id,this.urlSerializer.serialize(yt.extractedUrl),dr,1)),yt.resolve(null),ke.E}}),(0,Je.b)(yt=>{const pn=new Ln(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(pn)}),(0,Fe.U)(yt=>(this.currentTransition=ve={...yt,guards:Oi(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},ve)),function x(T,A){return(0,ee.z)(M=>{const{targetSnapshot:v,currentSnapshot:N,guards:{canActivateChecks:Q,canDeactivateChecks:ve}}=M;return 0===ve.length&&0===Q.length?(0,de.of)({...M,guardsResult:!0}):function ie(T,A,M,v){return(0,Oe.D)(T).pipe((0,ee.z)(N=>function Ar(T,A,M,v,N){const Q=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,de.of)(!0);const ve=Q.map(ct=>{var Lt;const yt=null!==(Lt=Li(A))&&void 0!==Lt?Lt:N,pn=zo(ct,yt);return an(function Do(T){return T&&en(T.canDeactivate)}(pn)?pn.canDeactivate(T,A,M,v):(0,u.r_H)(yt,()=>pn(T,A,M,v))).pipe((0,ze.P)())});return(0,de.of)(ve).pipe(j())}(N.component,N.route,M,A,v)),(0,ze.P)(N=>!0!==N,!0))}(ve,v,N,T).pipe((0,ee.z)(ct=>ct&&function Un(T){return"boolean"==typeof T}(ct)?function at(T,A,M,v){return(0,Oe.D)(A).pipe(Me(N=>(0,Ce.z)(function An(T,A){return null!==T&&A&&A(new mt(T)),(0,de.of)(!0)}(N.route.parent,v),function Vt(T,A){return null!==T&&A&&A(new xt(T)),(0,de.of)(!0)}(N.route,v),function wr(T,A,M){const v=A[A.length-1],Q=A.slice(0,A.length-1).reverse().map(ve=>function Ho(T){const A=T.routeConfig?T.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:T,guards:A}:null}(ve)).filter(ve=>null!==ve).map(ve=>Ne(()=>{const ct=ve.guards.map(Lt=>{var yt;const pn=null!==(yt=Li(ve.node))&&void 0!==yt?yt:M,tr=zo(Lt,pn);return an(function yi(T){return T&&en(T.canActivateChild)}(tr)?tr.canActivateChild(v,T):(0,u.r_H)(pn,()=>tr(v,T))).pipe((0,ze.P)())});return(0,de.of)(ct).pipe(j())}));return(0,de.of)(Q).pipe(j())}(T,N.path,M),function ir(T,A,M){const v=A.routeConfig?A.routeConfig.canActivate:null;if(!v||0===v.length)return(0,de.of)(!0);const N=v.map(Q=>Ne(()=>{var ve;const ct=null!==(ve=Li(A))&&void 0!==ve?ve:M,Lt=zo(Q,ct);return an(function Qi(T){return T&&en(T.canActivate)}(Lt)?Lt.canActivate(A,T):(0,u.r_H)(ct,()=>Lt(A,T))).pipe((0,ze.P)())}));return(0,de.of)(N).pipe(j())}(T,N.route,M))),(0,ze.P)(N=>!0!==N,!0))}(v,Q,T,A):(0,de.of)(ct)),(0,Fe.U)(ct=>({...M,guardsResult:ct})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Je.b)(yt=>{if(ve.guardsResult=yt.guardsResult,kr(yt.guardsResult))throw Ds(0,yt.guardsResult);const pn=new Br(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(pn)}),(0,q.h)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),ce(yt=>{if(yt.guards.canActivateChecks.length)return(0,de.of)(yt).pipe((0,Je.b)(pn=>{const tr=new B(pn.id,this.urlSerializer.serialize(pn.extractedUrl),this.urlSerializer.serialize(pn.urlAfterRedirects),pn.targetSnapshot);this.events.next(tr)}),(0,Ee.w)(pn=>{let tr=!1;return(0,de.of)(pn).pipe(function Cs(T,A){return(0,ee.z)(M=>{const{targetSnapshot:v,guards:{canActivateChecks:N}}=M;if(!N.length)return(0,de.of)(M);const Q=new Set(N.map(Lt=>Lt.route)),ve=new Set;for(const Lt of Q)if(!ve.has(Lt))for(const yt of w(Lt))ve.add(yt);let ct=0;return(0,Oe.D)(ve).pipe(Me(Lt=>Q.has(Lt)?function V(T,A,M,v){const N=T.routeConfig,Q=T._resolve;return void 0!==(null==N?void 0:N.title)&&!so(N)&&(Q[Ht]=N.title),function Se(T,A,M,v){const N=zt(T);if(0===N.length)return(0,de.of)({});const Q={};return(0,Oe.D)(N).pipe((0,ee.z)(ve=>function F(T,A,M,v){var N;const Q=null!==(N=Li(A))&&void 0!==N?N:v,ve=zo(T,Q);return an(ve.resolve?ve.resolve(A,M):(0,u.r_H)(Q,()=>ve(A,M)))}(T[ve],A,M,v).pipe((0,ze.P)(),(0,Je.b)(ct=>{Q[ve]=ct}))),ot(1),function Te(T){return(0,Fe.U)(()=>T)}(Q),St(ve=>b(ve)?ke.E:Ve(ve)))}(Q,T,A,v).pipe((0,Fe.U)(ve=>(T._resolvedData=ve,T.data=Io(T,T.parent,M).resolve,null)))}(Lt,v,T,A):(Lt.data=Io(Lt,Lt.parent,T).resolve,(0,de.of)(void 0))),(0,Je.b)(()=>ct++),ot(1),(0,ee.z)(Lt=>ct===ve.size?(0,de.of)(M):ke.E))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Je.b)({next:()=>tr=!0,complete:()=>{tr||this.cancelNavigationTransition(pn,"",2)}}))}),(0,Je.b)(pn=>{const tr=new Z(pn.id,this.urlSerializer.serialize(pn.extractedUrl),this.urlSerializer.serialize(pn.urlAfterRedirects),pn.targetSnapshot);this.events.next(tr)}))}),ce(yt=>{const pn=tr=>{var vi;const dr=[];null!==(vi=tr.routeConfig)&&void 0!==vi&&vi.loadComponent&&!tr.routeConfig._loadedComponent&&dr.push(this.configLoader.loadComponent(tr.routeConfig).pipe((0,Je.b)(Ni=>{tr.component=Ni}),(0,Fe.U)(()=>{})));for(const Ni of tr.children)dr.push(...pn(Ni));return dr};return(0,qe.a)(pn(yt.targetSnapshot.root)).pipe((0,Pn.d)(null),(0,re.q)(1))}),ce(()=>this.afterPreactivation()),(0,Ee.w)(()=>{var yt;const{currentSnapshot:pn,targetSnapshot:tr}=ve,vi=null===(yt=this.createViewTransition)||void 0===yt?void 0:yt.call(this,this.environmentInjector,pn.root,tr.root);return vi?(0,Oe.D)(vi).pipe((0,Fe.U)(()=>ve)):(0,de.of)(ve)}),(0,Fe.U)(yt=>{const pn=function es(T,A,M){const v=Ki(T,A._root,M?M._root:void 0);return new et(v,A)}(v.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=ve={...yt,targetRouterState:pn},this.currentNavigation.targetRouterState=pn,ve}),(0,Je.b)(()=>{this.events.next(new Nt)}),((T,A,M,v)=>(0,Fe.U)(N=>(new hi(A,N.targetRouterState,N.currentRouterState,M,v).activate(T),N)))(this.rootContexts,v.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,re.q)(1),(0,Je.b)({next:yt=>{var pn;ct=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ze(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),null===(pn=this.titleStrategy)||void 0===pn||pn.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{ct=!0}}),function Tt(T){return(0,Le.e)((A,M)=>{(0,fe.Xf)(T).subscribe((0,je.x)(M,()=>M.complete(),Xe.Z)),!M.closed&&A.subscribe(M)})}(this.transitionAbortSubject.pipe((0,Je.b)(yt=>{throw yt}))),Ke(()=>{var yt;ct||Lt||this.cancelNavigationTransition(ve,"",1),(null===(yt=this.currentNavigation)||void 0===yt?void 0:yt.id)===ve.id&&(this.currentNavigation=null)}),St(yt=>{if(Lt=!0,ds(yt))this.events.next(new Mt(ve.id,this.urlSerializer.serialize(ve.extractedUrl),yt.message,yt.cancellationCode)),function oi(T){return ds(T)&&kr(T.url)}(yt)?this.events.next(new Kt(yt.url)):ve.resolve(!1);else{var pn;this.events.next(new on(ve.id,this.urlSerializer.serialize(ve.extractedUrl),yt,null!==(pn=ve.targetSnapshot)&&void 0!==pn?pn:void 0));try{ve.resolve(v.errorHandler(yt))}catch(tr){ve.reject(tr)}}return ke.E}))}))}cancelNavigationTransition(v,N,Q){const ve=new Mt(v.id,this.urlSerializer.serialize(v.extractedUrl),N,Q);this.events.next(ve),v.resolve(!1)}isUpdatingInternalState(){var v,N;return(null===(v=this.currentTransition)||void 0===v?void 0:v.extractedUrl.toString())!==(null===(N=this.currentTransition)||void 0===N?void 0:N.currentUrlTree.toString())}isUpdatedBrowserUrl(){var v,N;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(v=this.currentTransition)||void 0===v?void 0:v.extractedUrl.toString())&&!(null!==(N=this.currentTransition)&&void 0!==N&&N.extras.skipLocationChange)}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})();function Ls(T){return T!==ye}let bs=(()=>{var T;class A{}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>(0,u.f3M)(zd),providedIn:"root"}),A})();class ga{shouldDetach(A){return!1}store(A,M){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,M){return A.routeConfig===M.routeConfig}}let zd=(()=>{var T;class A extends ga{}return(T=A).\u0275fac=(()=>{let M;return function(N){return(M||(M=u.n5z(T)))(N||T)}})(),T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})(),bc=(()=>{var T;class A{}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>(0,u.f3M)(Ci),providedIn:"root"}),A})(),Ci=(()=>{var T;class A extends bc{constructor(){super(...arguments),this.location=(0,u.f3M)(Be.Ye),this.urlSerializer=(0,u.f3M)(hr),this.options=(0,u.f3M)(qt,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.f3M)(Nr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wn(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var v,N;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(v=null===(N=this.restoredState())||void 0===N?void 0:N.\u0275routerPageId)&&void 0!==v?v:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(v){return this.location.subscribe(N=>{"popstate"===N.type&&v(N.url,N.state)})}handleRouterEvent(v,N){if(v instanceof De)this.stateMemento=this.createStateMemento();else if(v instanceof tn)this.rawUrlTree=N.initialUrl;else if(v instanceof un){if("eager"===this.urlUpdateStrategy&&!N.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl);this.setBrowserUrl(Q,N)}}else v instanceof Nt?(this.currentUrlTree=N.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N))):v instanceof Mt&&(3===v.code||2===v.code)?this.restoreHistory(N):v instanceof on?this.restoreHistory(N,!0):v instanceof Ze&&(this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId)}setBrowserUrl(v,N){const Q=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(Q)||N.extras.replaceUrl){const ct={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(Q,"",ct)}else{const ve={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(Q,"",ve)}}restoreHistory(v,N=!1){if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-this.browserPageId;0!==ve?this.location.historyGo(ve):this.currentUrlTree===v.finalUrl&&0===ve&&(this.resetState(v),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){var N;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(N=v.finalUrl)&&void 0!==N?N:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,N){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:N}:{navigationId:v}}}return(T=A).\u0275fac=(()=>{let M;return function(N){return(M||(M=u.n5z(T)))(N||T)}})(),T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})();var Ks=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(Ks||{});function Sl(T,A){T.events.pipe((0,q.h)(M=>M instanceof Ze||M instanceof Mt||M instanceof on||M instanceof tn),(0,Fe.U)(M=>M instanceof Ze||M instanceof tn?Ks.COMPLETE:M instanceof Mt&&(0===M.code||1===M.code)?Ks.REDIRECTING:Ks.FAILED),(0,q.h)(M=>M!==Ks.REDIRECTING),(0,re.q)(1)).subscribe(()=>{A()})}function Go(T){throw T}const Rl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ml={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{var T;class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var v,N;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.f3M)(u.c2e),this.stateManager=(0,u.f3M)(bc),this.options=(0,u.f3M)(qt,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.f3M)(eo),this.urlSerializer=(0,u.f3M)(hr),this.location=(0,u.f3M)(Be.Ye),this.urlHandlingStrategy=(0,u.f3M)(Nr),this._events=new he.x,this.errorHandler=this.options.errorHandler||Go,this.navigated=!1,this.routeReuseStrategy=(0,u.f3M)(bs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(v=null===(N=(0,u.f3M)(Kn,{optional:!0}))||void 0===N?void 0:N.flat())&&void 0!==v?v:[],this.componentInputBindingEnabled=!!(0,u.f3M)(Ts,{optional:!0}),this.eventsSubscription=new st.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Q=>{this.console.warn(Q)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(N=>{try{const Q=this.navigationTransitions.currentTransition,ve=this.navigationTransitions.currentNavigation;if(null!==Q&&null!==ve)if(this.stateManager.handleRouterEvent(N,ve),N instanceof Mt&&0!==N.code&&1!==N.code)this.navigated=!0;else if(N instanceof Ze)this.navigated=!0;else if(N instanceof Kt){const ct=this.urlHandlingStrategy.merge(N.url,Q.currentRawUrl),Lt={skipLocationChange:Q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ls(Q.source)};this.scheduleNavigation(ct,ye,null,Lt,{resolve:Q.resolve,reject:Q.reject,promise:Q.promise})}(function Vs(T){return!(T instanceof Nt||T instanceof Kt)})(N)&&this._events.next(N)}catch(Q){this.navigationTransitions.transitionAbortSubject.next(Q)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ye,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((v,N)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(v,"popstate",N)},0)}))}navigateToSyncWithBrowser(v,N,Q){const ve={replaceUrl:!0},ct=null!=Q&&Q.navigationId?Q:null;if(Q){const yt={...Q};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(ve.state=yt)}const Lt=this.parseUrl(v);this.scheduleNavigation(Lt,N,ct,ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(ts),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,N={}){const{relativeTo:Q,queryParams:ve,fragment:ct,queryParamsHandling:Lt,preserveFragment:yt}=N,pn=yt?this.currentUrlTree.fragment:ct;let vi,tr=null;switch(Lt){case"merge":tr={...this.currentUrlTree.queryParams,...ve};break;case"preserve":tr=this.currentUrlTree.queryParams;break;default:tr=ve||null}null!==tr&&(tr=this.removeEmptyProps(tr));try{vi=Dt(Q?Q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),vi=this.currentUrlTree.root}return nt(vi,v,tr,null!=pn?pn:null)}navigateByUrl(v,N={skipLocationChange:!1}){const Q=kr(v)?v:this.parseUrl(v),ve=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(ve,ye,null,N)}navigate(v,N={skipLocationChange:!1}){return function wi(T){for(let A=0;A<T.length;A++)if(null==T[A])throw new u.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,N),N)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){try{return this.urlSerializer.parse(v)}catch{return this.urlSerializer.parse("/")}}isActive(v,N){let Q;if(Q=!0===N?{...Rl}:!1===N?{...Ml}:N,kr(v))return Zn(this.currentUrlTree,v,Q);const ve=this.parseUrl(v);return Zn(this.currentUrlTree,ve,Q)}removeEmptyProps(v){return Object.keys(v).reduce((N,Q)=>{const ve=v[Q];return null!=ve&&(N[Q]=ve),N},{})}scheduleNavigation(v,N,Q,ve,ct){if(this.disposed)return Promise.resolve(!1);let Lt,yt,pn;ct?(Lt=ct.resolve,yt=ct.reject,pn=ct.promise):pn=new Promise((vi,dr)=>{Lt=vi,yt=dr});const tr=this.pendingTasks.add();return Sl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:v,extras:ve,resolve:Lt,reject:yt,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(vi=>Promise.reject(vi))}}return(T=A).\u0275fac=function(v){return new(v||T)},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})(),As=(()=>{var T;class A{constructor(v,N,Q,ve,ct,Lt){var yt;this.router=v,this.route=N,this.tabIndexAttribute=Q,this.renderer=ve,this.el=ct,this.locationStrategy=Lt,this.href=null,this.commands=null,this.onChanges=new he.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pn=null===(yt=ct.nativeElement.tagName)||void 0===yt?void 0:yt.toLowerCase();this.isAnchorElement="a"===pn||"area"===pn,this.isAnchorElement?this.subscription=v.events.subscribe(tr=>{tr instanceof Ze&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,N,Q,ve,ct){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||N||Q||ve||ct||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var v;null===(v=this.subscription)||void 0===v||v.unsubscribe()}updateHref(){var v;this.href=null!==this.urlTree&&this.locationStrategy?null===(v=this.locationStrategy)||void 0===v?void 0:v.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const N=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",N)}applyAttributeValue(v,N){const Q=this.renderer,ve=this.el.nativeElement;null!==N?Q.setAttribute(ve,v,N):Q.removeAttribute(ve,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(T=A).\u0275fac=function(v){return new(v||T)(u.Y36(Vr),u.Y36(Qr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Be.S$))},T.\u0275dir=u.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(v,N){1&v&&u.NdJ("click",function(ve){return N.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&v&&u.uIk("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]}),A})();class Bi{}let Rn=(()=>{var T;class A{constructor(v,N,Q,ve,ct){this.router=v,this.injector=Q,this.preloadingStrategy=ve,this.loader=ct}setUpPreloading(){this.subscription=this.router.events.pipe((0,q.h)(v=>v instanceof Ze),Me(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,N){const Q=[];for(const yt of N){var ve,ct;yt.providers&&!yt._injector&&(yt._injector=(0,u.MMx)(yt.providers,v,`Route: ${yt.path}`));const pn=null!==(ve=yt._injector)&&void 0!==ve?ve:v,tr=null!==(ct=yt._loadedInjector)&&void 0!==ct?ct:pn;var Lt;(yt.loadChildren&&!yt._loadedRoutes&&void 0===yt.canLoad||yt.loadComponent&&!yt._loadedComponent)&&Q.push(this.preloadConfig(pn,yt)),(yt.children||yt._loadedRoutes)&&Q.push(this.processRoutes(tr,null!==(Lt=yt.children)&&void 0!==Lt?Lt:yt._loadedRoutes))}return(0,Oe.D)(Q).pipe((0,At.J)())}preloadConfig(v,N){return this.preloadingStrategy.preload(N,()=>{let Q;Q=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(v,N):(0,de.of)(null);const ve=Q.pipe((0,ee.z)(ct=>{var Lt;return null===ct?(0,de.of)(void 0):(N._loadedRoutes=ct.routes,N._loadedInjector=ct.injector,this.processRoutes(null!==(Lt=ct.injector)&&void 0!==Lt?Lt:v,ct.routes))}));if(N.loadComponent&&!N._loadedComponent){const ct=this.loader.loadComponent(N);return(0,Oe.D)([ve,ct]).pipe((0,At.J)())}return ve})}}return(T=A).\u0275fac=function(v){return new(v||T)(u.LFG(Vr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Bi),u.LFG(yr))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),A})();const xn=new u.OlP("");let Ja=(()=>{var T;class A{constructor(v,N,Q,ve,ct={}){this.urlSerializer=v,this.transitions=N,this.viewportScroller=Q,this.zone=ve,this.options=ct,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ct.scrollPositionRestoration=ct.scrollPositionRestoration||"disabled",ct.anchorScrolling=ct.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof De?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Ze?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof tn&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof $t&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $t(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){var v,N;null===(v=this.routerEventsSubscription)||void 0===v||v.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return(T=A).\u0275fac=function(v){u.$Z()},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac}),A})();function _t(T,A){return{\u0275kind:T,\u0275providers:A}}function Wd(){const T=(0,u.f3M)(u.zs3);return A=>{var M,v;const N=T.get(u.z2F);if(A!==N.components[0])return;const Q=T.get(Vr),ve=T.get(Bs);1===T.get(ma)&&Q.initialNavigation(),null===(M=T.get(Wi,null,u.XFs.Optional))||void 0===M||M.setUpPreloading(),null===(v=T.get(xn,null,u.XFs.Optional))||void 0===v||v.init(),Q.resetRootComponentType(N.componentTypes[0]),ve.closed||(ve.next(),ve.complete(),ve.unsubscribe())}}const Bs=new u.OlP("",{factory:()=>new he.x}),ma=new u.OlP("",{providedIn:"root",factory:()=>1}),Wi=new u.OlP("");function Sc(T){return _t(0,[{provide:Wi,useExisting:Rn},{provide:Bi,useExisting:T}])}function cn(T){return _t(9,[{provide:Po,useValue:ws},{provide:xo,useValue:{skipNextTransition:!(null==T||!T.skipInitialTransition),...T}}])}const Rr=new u.OlP("ROUTER_FORROOT_GUARD"),rs=[Be.Ye,{provide:hr,useClass:ni},Vr,Jn,{provide:Qr,useFactory:function Ct(T){return T.routerState.root},deps:[Vr]},yr,[]];let ui=(()=>{var T;class A{constructor(v){}static forRoot(v,N){return{ngModule:A,providers:[rs,[],{provide:Kn,multi:!0,useValue:v},{provide:Rr,useFactory:$s,deps:[[Vr,new u.FiY,new u.tp0]]},{provide:qt,useValue:N||{}},null!=N&&N.useHash?{provide:Be.S$,useClass:Be.Do}:{provide:Be.S$,useClass:Be.b0},{provide:xn,useFactory:()=>{const T=(0,u.f3M)(Be.EM),A=(0,u.f3M)(u.R0b),M=(0,u.f3M)(qt),v=(0,u.f3M)(eo),N=(0,u.f3M)(hr);return M.scrollOffset&&T.setOffset(M.scrollOffset),new Ja(N,v,T,A,M)}},null!=N&&N.preloadingStrategy?Sc(N.preloadingStrategy).\u0275providers:[],null!=N&&N.initialNavigation?Oo(N):[],null!=N&&N.bindToComponentInputs?_t(8,[To,{provide:Ts,useExisting:To}]).\u0275providers:[],null!=N&&N.enableViewTransitions?cn().\u0275providers:[],[{provide:po,useFactory:Wd},{provide:u.tb,multi:!0,useExisting:po}]]}}static forChild(v){return{ngModule:A,providers:[{provide:Kn,multi:!0,useValue:v}]}}}return(T=A).\u0275fac=function(v){return new(v||T)(u.LFG(Rr,8))},T.\u0275mod=u.oAB({type:T}),T.\u0275inj=u.cJS({}),A})();function $s(T){return"guarded"}function Oo(T){return["disabled"===T.initialNavigation?_t(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const A=(0,u.f3M)(Vr);return()=>{A.setUpLocationChangeListener()}}},{provide:ma,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?_t(2,[{provide:ma,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:A=>{const M=A.get(Be.V_,Promise.resolve());return()=>M.then(()=>new Promise(v=>{const N=A.get(Vr),Q=A.get(Bs);Sl(N,()=>{v(!0)}),A.get(eo).afterPreactivation=()=>(v(!0),Q.closed?(0,de.of)(void 0):Q),N.initialNavigation()}))}}]).\u0275providers:[]]}const po=new u.OlP("")},3106:(Qt,it,O)=>{"use strict";O.d(it,{Z:()=>ke});var u=O(9058),U=O(4537),K=O(534),ae=O(7879);class Oe{constructor(Le,je){this._delegate=Le,this.firebase=je,(0,K._addComponent)(Le,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Le,je=K._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(Le);return!gt.isInitialized()&&"EXPLICIT"===(null===(Ye=gt.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:je})}_removeServiceInstance(Le,je=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(je)}_addComponent(Le){(0,K._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,K._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function Ge(){const st=function qe(st){const Le={},je={__esModule:!0,initializeApp:function he(re,_e={}){const q=K.initializeApp(re,_e);if((0,u.r3)(Le,q.name))return Le[q.name];const ee=new st(q,je);return Le[q.name]=ee,ee},app:gt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function Fe(re){const _e=re.name,q=_e.replace("-compat","");if(K._registerComponent(re)&&"PUBLIC"===re.type){const ee=(ze=gt())=>{if("function"!=typeof ze[q])throw Ie.create("invalid-app-argument",{appName:_e});return ze[q]()};void 0!==re.serviceProps&&(0,u.ZB)(ee,re.serviceProps),je[q]=ee,st.prototype[q]=function(...ze){return this._getService.bind(this,_e).apply(this,re.multipleInstances?ze:[])}}return"PUBLIC"===re.type?je[q]:null},removeApp:function Ye(re){delete Le[re]},useAsService:function Ee(re,_e){return"serverAuth"===_e?null:_e},modularAPIs:K}};function gt(re){if(!(0,u.r3)(Le,re=re||K._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:re});return Le[re]}return je.default=je,Object.defineProperty(je,"apps",{get:function Be(){return Object.keys(Le).map(re=>Le[re])}}),gt.App=st,je}(Oe);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function Le(je){(0,u.ZB)(st,je)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),st}(),fe=new ae.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=Ce;!function Ve(st){(0,K.registerVersion)("@firebase/app-compat","0.2.25",st)}()},534:(Qt,it,O)=>{"use strict";O.r(it),O.d(it,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ni,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>rr,_addOrOverwriteComponent:()=>Wt,_apps:()=>wn,_clearComponents:()=>ar,_components:()=>Yn,_getProvider:()=>Mn,_registerComponent:()=>Er,_removeServiceInstance:()=>Yr,deleteApp:()=>ei,getApp:()=>Hn,getApps:()=>Kr,initializeApp:()=>In,onLog:()=>zr,registerVersion:()=>li,setLogLevel:()=>ri});var u=O(5861),U=O(4537),K=O(7879),ae=O(9058);const Oe=(Dt,nt)=>nt.some(kt=>Dt instanceof kt);let de,Ie;const Ce=new WeakMap,fe=new WeakMap,Ne=new WeakMap,$e=new WeakMap,Ve=new WeakMap;let Le={get(Dt,nt,kt){if(Dt instanceof IDBTransaction){if("done"===nt)return fe.get(Dt);if("objectStoreNames"===nt)return Dt.objectStoreNames||Ne.get(Dt);if("store"===nt)return kt.objectStoreNames[1]?void 0:kt.objectStore(kt.objectStoreNames[0])}return he(Dt[nt])},set:(Dt,nt,kt)=>(Dt[nt]=kt,!0),has:(Dt,nt)=>Dt instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Dt};function gt(Dt){return"function"==typeof Dt?function Ye(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...nt){return Dt.apply(Be(this),nt),he(Ce.get(this))}:function(...nt){return he(Dt.apply(Be(this),nt))}:function(nt,...kt){const Jt=Dt.call(Be(this),nt,...kt);return Ne.set(Jt,nt.sort?nt.sort():[nt]),he(Jt)}}(Dt):(Dt instanceof IDBTransaction&&function st(Dt){if(fe.has(Dt))return;const nt=new Promise((kt,Jt)=>{const bn=()=>{Dt.removeEventListener("complete",Sn),Dt.removeEventListener("error",Gn),Dt.removeEventListener("abort",Gn)},Sn=()=>{kt(),bn()},Gn=()=>{Jt(Dt.error||new DOMException("AbortError","AbortError")),bn()};Dt.addEventListener("complete",Sn),Dt.addEventListener("error",Gn),Dt.addEventListener("abort",Gn)});fe.set(Dt,nt)}(Dt),Oe(Dt,function qe(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,Le):Dt)}function he(Dt){if(Dt instanceof IDBRequest)return function ke(Dt){const nt=new Promise((kt,Jt)=>{const bn=()=>{Dt.removeEventListener("success",Sn),Dt.removeEventListener("error",Gn)},Sn=()=>{kt(he(Dt.result)),bn()},Gn=()=>{Jt(Dt.error),bn()};Dt.addEventListener("success",Sn),Dt.addEventListener("error",Gn)});return nt.then(kt=>{kt instanceof IDBCursor&&Ce.set(kt,Dt)}).catch(()=>{}),Ve.set(nt,Dt),nt}(Dt);if($e.has(Dt))return $e.get(Dt);const nt=gt(Dt);return nt!==Dt&&($e.set(Dt,nt),Ve.set(nt,Dt)),nt}const Be=Dt=>Ve.get(Dt),re=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],q=new Map;function ee(Dt,nt){if(!(Dt instanceof IDBDatabase)||nt in Dt||"string"!=typeof nt)return;if(q.get(nt))return q.get(nt);const kt=nt.replace(/FromIndex$/,""),Jt=nt!==kt,bn=_e.includes(kt);if(!(kt in(Jt?IDBIndex:IDBObjectStore).prototype)||!bn&&!re.includes(kt))return;const Sn=function(){var Gn=(0,u.Z)(function*(xr,...Xn){const pr=this.transaction(xr,bn?"readwrite":"readonly");let di=pr.store;return Jt&&(di=di.index(Xn.shift())),(yield Promise.all([di[kt](...Xn),bn&&pr.done]))[0]});return function(Xn){return Gn.apply(this,arguments)}}();return q.set(nt,Sn),Sn}!function je(Dt){Le=Dt(Le)}(Dt=>({...Dt,get:(nt,kt,Jt)=>ee(nt,kt)||Dt.get(nt,kt,Jt),has:(nt,kt)=>!!ee(nt,kt)||Dt.has(nt,kt)}));class ze{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function Me(Dt){const nt=Dt.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(kt)){const Jt=kt.getImmediate();return`${Jt.library}/${Jt.version}`}return null}).filter(kt=>kt).join(" ")}}const Je="@firebase/app",Xt=new K.Yd("@firebase/app"),Gt="[DEFAULT]",Cn={[Je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wn=new Map,Yn=new Map;function rr(Dt,nt){try{Dt.container.addComponent(nt)}catch(kt){Xt.debug(`Component ${nt.name} failed to register with FirebaseApp ${Dt.name}`,kt)}}function Wt(Dt,nt){Dt.container.addOrOverwriteComponent(nt)}function Er(Dt){const nt=Dt.name;if(Yn.has(nt))return Xt.debug(`There were multiple attempts to register component ${nt}.`),!1;Yn.set(nt,Dt);for(const kt of wn.values())rr(kt,Dt);return!0}function Mn(Dt,nt){const kt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),Dt.container.getProvider(nt)}function Yr(Dt,nt,kt=Gt){Mn(Dt,nt).clearInstance(kt)}function ar(){Yn.clear()}const Bn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hr{constructor(nt,kt,Jt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=Jt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const ni="10.7.1";function In(Dt,nt={}){let kt=Dt;"object"!=typeof nt&&(nt={name:nt});const Jt=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},nt),bn=Jt.name;if("string"!=typeof bn||!bn)throw Bn.create("bad-app-name",{appName:String(bn)});if(kt||(kt=(0,ae.aH)()),!kt)throw Bn.create("no-options");const Sn=wn.get(bn);if(Sn){if((0,ae.vZ)(kt,Sn.options)&&(0,ae.vZ)(Jt,Sn.config))return Sn;throw Bn.create("duplicate-app",{appName:bn})}const Gn=new U.H0(bn);for(const Xn of Yn.values())Gn.addComponent(Xn);const xr=new hr(kt,Jt,Gn);return wn.set(bn,xr),xr}function Hn(Dt=Gt){const nt=wn.get(Dt);if(!nt&&Dt===Gt&&(0,ae.aH)())return In();if(!nt)throw Bn.create("no-app",{appName:Dt});return nt}function Kr(){return Array.from(wn.values())}function ei(Dt){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(Dt){const nt=Dt.name;wn.has(nt)&&(wn.delete(nt),yield Promise.all(Dt.container.getProviders().map(kt=>kt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function li(Dt,nt,kt){var Jt;let bn=null!==(Jt=Cn[Dt])&&void 0!==Jt?Jt:Dt;kt&&(bn+=`-${kt}`);const Sn=bn.match(/\s|\//),Gn=nt.match(/\s|\//);if(Sn||Gn){const xr=[`Unable to register library "${bn}" with version "${nt}":`];return Sn&&xr.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Sn&&Gn&&xr.push("and"),Gn&&xr.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void Xt.warn(xr.join(" "))}Er(new U.wA(`${bn}-version`,()=>({library:bn,version:nt}),"VERSION"))}function zr(Dt,nt){if(null!==Dt&&"function"!=typeof Dt)throw Bn.create("invalid-log-argument");(0,K.Am)(Dt,nt)}function ri(Dt){(0,K.Ub)(Dt)}const vr="firebase-heartbeat-database",gi=1,se="firebase-heartbeat-store";let W=null;function ue(){return W||(W=function Fe(Dt,nt,{blocked:kt,upgrade:Jt,blocking:bn,terminated:Sn}={}){const Gn=indexedDB.open(Dt,nt),xr=he(Gn);return Jt&&Gn.addEventListener("upgradeneeded",Xn=>{Jt(he(Gn.result),Xn.oldVersion,Xn.newVersion,he(Gn.transaction),Xn)}),kt&&Gn.addEventListener("blocked",Xn=>kt(Xn.oldVersion,Xn.newVersion,Xn)),xr.then(Xn=>{Sn&&Xn.addEventListener("close",()=>Sn()),bn&&Xn.addEventListener("versionchange",pr=>bn(pr.oldVersion,pr.newVersion,pr))}).catch(()=>{}),xr}(vr,gi,{upgrade:(Dt,nt)=>{0===nt&&Dt.createObjectStore(se)}}).catch(Dt=>{throw Bn.create("idb-open",{originalErrorMessage:Dt.message})})),W}function ge(){return(ge=(0,u.Z)(function*(Dt){try{return yield(yield ue()).transaction(se).objectStore(se).get(Yt(Dt))}catch(nt){if(nt instanceof ae.ZR)Xt.warn(nt.message);else{const kt=Bn.create("idb-get",{originalErrorMessage:null==nt?void 0:nt.message});Xt.warn(kt.message)}}})).apply(this,arguments)}function ut(Dt,nt){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(Dt,nt){try{const Jt=(yield ue()).transaction(se,"readwrite");yield Jt.objectStore(se).put(nt,Yt(Dt)),yield Jt.done}catch(kt){if(kt instanceof ae.ZR)Xt.warn(kt.message);else{const Jt=Bn.create("idb-set",{originalErrorMessage:null==kt?void 0:kt.message});Xt.warn(Jt.message)}}})).apply(this,arguments)}function Yt(Dt){return`${Dt.name}!${Dt.options.appId}`}class fr{constructor(nt){this.container=nt,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new mi(kt),this._heartbeatsCachePromise=this._storage.read().then(Jt=>(this._heartbeatsCache=Jt,Jt))}triggerHeartbeat(){var nt=this;return(0,u.Z)(function*(){var kt,Jt;const Sn=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gn=nn();if((null!=(null===(kt=nt._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)||(nt._heartbeatsCache=yield nt._heartbeatsCachePromise,null!=(null===(Jt=nt._heartbeatsCache)||void 0===Jt?void 0:Jt.heartbeats)))&&nt._heartbeatsCache.lastSentHeartbeatDate!==Gn&&!nt._heartbeatsCache.heartbeats.some(xr=>xr.date===Gn))return nt._heartbeatsCache.heartbeats.push({date:Gn,agent:Sn}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter(xr=>{const Xn=new Date(xr.date).valueOf();return Date.now()-Xn<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache)})()}getHeartbeatsHeader(){var nt=this;return(0,u.Z)(function*(){var kt;if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null==(null===(kt=nt._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)||0===nt._heartbeatsCache.heartbeats.length)return"";const Jt=nn(),{heartbeatsToSend:bn,unsentEntries:Sn}=function Zt(Dt,nt=1024){const kt=[];let Jt=Dt.slice();for(const bn of Dt){const Sn=kt.find(Gn=>Gn.agent===bn.agent);if(Sn){if(Sn.dates.push(bn.date),kr(kt)>nt){Sn.dates.pop();break}}else if(kt.push({agent:bn.agent,dates:[bn.date]}),kr(kt)>nt){kt.pop();break}Jt=Jt.slice(1)}return{heartbeatsToSend:kt,unsentEntries:Jt}}(nt._heartbeatsCache.heartbeats),Gn=(0,ae.L)(JSON.stringify({version:2,heartbeats:bn}));return nt._heartbeatsCache.lastSentHeartbeatDate=Jt,Sn.length>0?(nt._heartbeatsCache.heartbeats=Sn,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),Gn})()}}function nn(){return(new Date).toISOString().substring(0,10)}class mi{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,u.Z)(function*(){if(yield nt._canUseIndexedDBPromise){const Jt=yield function pe(Dt){return ge.apply(this,arguments)}(nt.app);return null!=Jt&&Jt.heartbeats?Jt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(nt){var kt=this;return(0,u.Z)(function*(){var Jt;if(yield kt._canUseIndexedDBPromise){const Sn=yield kt.read();return ut(kt.app,{lastSentHeartbeatDate:null!==(Jt=nt.lastSentHeartbeatDate)&&void 0!==Jt?Jt:Sn.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var kt=this;return(0,u.Z)(function*(){var Jt;if(yield kt._canUseIndexedDBPromise){const Sn=yield kt.read();return ut(kt.app,{lastSentHeartbeatDate:null!==(Jt=nt.lastSentHeartbeatDate)&&void 0!==Jt?Jt:Sn.lastSentHeartbeatDate,heartbeats:[...Sn.heartbeats,...nt.heartbeats]})}})()}}function kr(Dt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Fi(Dt){Er(new U.wA("platform-logger",nt=>new ze(nt),"PRIVATE")),Er(new U.wA("heartbeat",nt=>new fr(nt),"PRIVATE")),li(Je,"0.9.25",Dt),li(Je,"0.9.25","esm2017"),li("fire-js","")}("")},4537:(Qt,it,O)=>{"use strict";O.d(it,{H0:()=>qe,wA:()=>K});var u=O(5861),U=O(9058);class K{constructor(Ce,fe,Ne){this.name=Ce,this.instanceFactory=fe,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const ae="[DEFAULT]";class Oe{constructor(Ce,fe){this.name=Ce,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const fe=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(fe)){const Ne=new U.BH;if(this.instancesDeferred.set(fe,Ne),this.isInitialized(fe)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:fe});$e&&Ne.resolve($e)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(Ce){var fe;const Ne=this.normalizeInstanceIdentifier(null==Ce?void 0:Ce.identifier),$e=null!==(fe=null==Ce?void 0:Ce.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Ve){if($e)return null;throw Ve}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function Ie(Ge){return"EAGER"===Ge.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[fe,Ne]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(fe);try{const Ve=this.getOrInitializeService({instanceIdentifier:$e});Ne.resolve(Ve)}catch{}}}}clearInstance(Ce=ae){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,u.Z)(function*(){const fe=Array.from(Ce.instances.values());yield Promise.all([...fe.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...fe.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=ae){return this.instances.has(Ce)}getOptions(Ce=ae){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:fe={}}=Ce,Ne=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:Ne,options:fe});for(const[Ve,ke]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Ve)&&ke.resolve($e);return $e}onInit(Ce,fe){var Ne;const $e=this.normalizeInstanceIdentifier(fe),Ve=null!==(Ne=this.onInitCallbacks.get($e))&&void 0!==Ne?Ne:new Set;Ve.add(Ce),this.onInitCallbacks.set($e,Ve);const ke=this.instances.get($e);return ke&&Ce(ke,$e),()=>{Ve.delete(Ce)}}invokeOnInitCallbacks(Ce,fe){const Ne=this.onInitCallbacks.get(fe);if(Ne)for(const $e of Ne)try{$e(Ce,fe)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:fe={}}){let Ne=this.instances.get(Ce);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=Ce,Ge===ae?void 0:Ge),options:fe}),this.instances.set(Ce,Ne),this.instancesOptions.set(Ce,fe),this.invokeOnInitCallbacks(Ne,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,Ne)}catch{}var Ge;return Ne||null}normalizeInstanceIdentifier(Ce=ae){return this.component?this.component.multipleInstances?Ce:ae:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qe{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const fe=this.getProvider(Ce.name);if(fe.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);fe.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const fe=new Oe(Ce,this);return this.providers.set(Ce,fe),fe}getProviders(){return Array.from(this.providers.values())}}},7879:(Qt,it,O)=>{"use strict";O.d(it,{Am:()=>Ge,Ub:()=>qe,Yd:()=>Ie,in:()=>U});const u=[];var U=function(Ce){return Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",Ce}(U||{});const K={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},ae=U.INFO,Oe={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},de=(Ce,fe,...Ne)=>{if(fe<Ce.logLevel)return;const $e=(new Date).toISOString(),Ve=Oe[fe];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Ve](`[${$e}]  ${Ce.name}:`,...Ne)};class Ie{constructor(fe){this.name=fe,this._logLevel=ae,this._logHandler=de,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in U))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?K[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...fe),this._logHandler(this,U.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...fe),this._logHandler(this,U.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,U.INFO,...fe),this._logHandler(this,U.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,U.WARN,...fe),this._logHandler(this,U.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...fe),this._logHandler(this,U.ERROR,...fe)}}function qe(Ce){u.forEach(fe=>{fe.setLogLevel(Ce)})}function Ge(Ce,fe){for(const Ne of u){let $e=null;fe&&fe.level&&($e=K[fe.level]),Ne.userLogHandler=null===Ce?null:(Ve,ke,...st)=>{const Le=st.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");ke>=(null!=$e?$e:Ve.logLevel)&&Ce({level:U[ke].toLowerCase(),message:Le,args:st,type:Ve.name})}}}},5472:(Qt,it,O)=>{"use strict";O.d(it,{y4:()=>Er,De:()=>wn,dy:()=>Yn,oU:()=>Jt,ki:()=>gi,O1:()=>Xn,d8:()=>zr,jP:()=>Zt,UN:()=>pr,r4:()=>jn,SH:()=>Tn,xs:()=>gr,j:()=>bn,H:()=>Sn,bk:()=>Ri,DN:()=>Dt,Wn:()=>di,vk:()=>Dr});var u=O(5861),U=O(9212),K=O(4934),ae=O(6814);class Oe{constructor(){this.m=new Map}reset(ye){this.m=new Map(Object.entries(ye))}get(ye,Y){const De=this.m.get(ye);return void 0!==De?De:Y}getBoolean(ye,Y=!1){const De=this.m.get(ye);return void 0===De?Y:"string"==typeof De?"true"===De:!!De}getNumber(ye,Y){const De=parseFloat(this.m.get(ye));return isNaN(De)?void 0!==Y?Y:NaN:De}set(ye,Y){this.m.set(ye,Y)}}const de=new Oe,$e=we=>ke(we),ke=(we=window)=>{if(typeof we>"u")return[];we.Ionic=we.Ionic||{};let ye=we.Ionic.platforms;return null==ye&&(ye=we.Ionic.platforms=st(we),ye.forEach(Y=>we.document.documentElement.classList.add(`plt-${Y}`))),ye},st=we=>{const ye=de.get("platform");return Object.keys(Pn).filter(Y=>{const De=null==ye?void 0:ye[Y];return"function"==typeof De?De(we):Pn[Y](we)})},je=we=>!!(St(we,/iPad/i)||St(we,/Macintosh/i)&&re(we)),he=we=>St(we,/android|sink/i),re=we=>Xt(we,"(any-pointer:coarse)"),q=we=>ee(we)||ze(we),ee=we=>!!(we.cordova||we.phonegap||we.PhoneGap),ze=we=>{const ye=we.Capacitor;return!(null==ye||!ye.isNative)},St=(we,ye)=>ye.test(we.navigator.userAgent),Xt=(we,ye)=>{var Y;return null===(Y=we.matchMedia)||void 0===Y?void 0:Y.call(we,ye).matches},Pn={ipad:je,iphone:we=>St(we,/iPhone/i),ios:we=>St(we,/iPhone|iPod/i)||je(we),android:he,phablet:we=>{const ye=we.innerWidth,Y=we.innerHeight,De=Math.min(ye,Y),Ze=Math.max(ye,Y);return De>390&&De<520&&Ze>620&&Ze<800},tablet:we=>{const ye=we.innerWidth,Y=we.innerHeight,De=Math.min(ye,Y),Ze=Math.max(ye,Y);return je(we)||(we=>he(we)&&!St(we,/mobile/i))(we)||De>460&&De<820&&Ze>780&&Ze<1400},cordova:ee,capacitor:ze,electron:we=>St(we,/electron/i),pwa:we=>{var ye;return!!(null!==(ye=we.matchMedia)&&void 0!==ye&&ye.call(we,"(display-mode: standalone)").matches||we.navigator.standalone)},mobile:re,mobileweb:we=>re(we)&&!q(we),desktop:we=>!re(we),hybrid:q};var be=O(191),Te=O(3630),Ke=O(8645),Xe=O(2438),Tt=O(5619),At=O(2572),Pt=O(2096),dt=O(7582),Ht=O(2181),dn=O(4664),vt=O(3997),ht=O(95);const lt=["tabsInner"];let _n=(()=>{class we{constructor(Y,De){this.doc=Y,this.backButton=new Ke.x,this.keyboardDidShow=new Ke.x,this.keyboardDidHide=new Ke.x,this.pause=new Ke.x,this.resume=new Ke.x,this.resize=new Ke.x,De.run(()=>{var Ze;let Mt;this.win=Y.defaultView,this.backButton.subscribeWithPriority=function(tn,on){return this.subscribe(un=>un.register(tn,Ln=>De.run(()=>on(Ln))))},Nn(this.pause,Y,"pause",De),Nn(this.resume,Y,"resume",De),Nn(this.backButton,Y,"ionBackButton",De),Nn(this.resize,this.win,"resize",De),Nn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",De),Nn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",De),this._readyPromise=new Promise(tn=>{Mt=tn}),null!==(Ze=this.win)&&void 0!==Ze&&Ze.cordova?Y.addEventListener("deviceready",()=>{Mt("cordova")},{once:!0}):Mt("dom")})}is(Y){return((we,ye)=>("string"==typeof we&&(ye=we,we=void 0),$e(we).includes(ye)))(this.win,Y)}platforms(){return $e(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Y){return an(this.win.location.href,Y)}isLandscape(){return!this.isPortrait()}isPortrait(){var Y,De;return null===(Y=(De=this.win).matchMedia)||void 0===Y?void 0:Y.call(De,"(orientation: portrait)").matches}testUserAgent(Y){const De=this.win.navigator;return!!(null!=De&&De.userAgent&&De.userAgent.indexOf(Y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return we.\u0275fac=function(Y){return new(Y||we)(U.LFG(ae.K0),U.LFG(U.R0b))},we.\u0275prov=U.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const an=(we,ye)=>{ye=ye.replace(/[[\]\\]/g,"\\$&");const De=new RegExp("[\\?&]"+ye+"=([^&#]*)").exec(we);return De?decodeURIComponent(De[1].replace(/\+/g," ")):null},Nn=(we,ye,Y,De)=>{ye&&ye.addEventListener(Y,Ze=>{De.run(()=>{we.next(null!=Ze?Ze.detail:void 0)})})};let Tn=(()=>{class we{constructor(Y,De,Ze,Mt){this.location=De,this.serializer=Ze,this.router=Mt,this.direction=Gt,this.animated=Cn,this.guessDirection="forward",this.lastNavId=-1,Mt&&Mt.events.subscribe(tn=>{if(tn instanceof K.OD){const on=tn.restoredState?tn.restoredState.navigationId:tn.id;this.guessDirection=on<this.lastNavId?"back":"forward",this.guessAnimation=tn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?tn.id:on}}),Y.backButton.subscribeWithPriority(0,tn=>{this.pop(),tn()})}navigateForward(Y,De={}){return this.setDirection("forward",De.animated,De.animationDirection,De.animation),this.navigate(Y,De)}navigateBack(Y,De={}){return this.setDirection("back",De.animated,De.animationDirection,De.animation),this.navigate(Y,De)}navigateRoot(Y,De={}){return this.setDirection("root",De.animated,De.animationDirection,De.animation),this.navigate(Y,De)}back(Y={animated:!0,animationDirection:"back"}){return this.setDirection("back",Y.animated,Y.animationDirection,Y.animation),this.location.back()}pop(){var Y=this;return(0,u.Z)(function*(){let De=Y.topOutlet;for(;De;){if(yield De.pop())return!0;De=De.parentOutlet}return!1})()}setDirection(Y,De,Ze,Mt){this.direction=Y,this.animated=Zn(Y,De,Ze),this.animationBuilder=Mt}setTopOutlet(Y){this.topOutlet=Y}consumeTransition(){let De,Y="root";const Ze=this.animationBuilder;return"auto"===this.direction?(Y=this.guessDirection,De=this.guessAnimation):(De=this.animated,Y=this.direction),this.direction=Gt,this.animated=Cn,this.animationBuilder=void 0,{direction:Y,animation:De,animationBuilder:Ze}}navigate(Y,De){if(Array.isArray(Y))return this.router.navigate(Y,De);{const Ze=this.serializer.parse(Y.toString());return void 0!==De.queryParams&&(Ze.queryParams={...De.queryParams}),void 0!==De.fragment&&(Ze.fragment=De.fragment),this.router.navigateByUrl(Ze,De)}}}return we.\u0275fac=function(Y){return new(Y||we)(U.LFG(_n),U.LFG(ae.Ye),U.LFG(K.Hx),U.LFG(K.F0,8))},we.\u0275prov=U.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const Zn=(we,ye,Y)=>{if(!1!==ye){if(void 0!==Y)return Y;if("forward"===we||"back"===we)return we;if("root"===we&&!0===ye)return"forward"}},Gt="auto",Cn=void 0;let wn=(()=>{class we{get(Y,De){const Ze=rr();return Ze?Ze.get(Y,De):null}getBoolean(Y,De){const Ze=rr();return!!Ze&&Ze.getBoolean(Y,De)}getNumber(Y,De){const Ze=rr();return Ze?Ze.getNumber(Y,De):0}}return we.\u0275fac=function(Y){return new(Y||we)},we.\u0275prov=U.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const Yn=new U.OlP("USERCONFIG"),rr=()=>{if(typeof window<"u"){const we=window.Ionic;if(null!=we&&we.config)return we.config}return null};class Wt{constructor(ye={}){this.data=ye}get(ye){return this.data[ye]}}let Er=(()=>{class we{constructor(){this.zone=(0,U.f3M)(U.R0b),this.applicationRef=(0,U.f3M)(U.z2F)}create(Y,De,Ze){return new Mn(Y,De,this.applicationRef,this.zone,Ze)}}return we.\u0275fac=function(Y){return new(Y||we)},we.\u0275prov=U.Yz7({token:we,factory:we.\u0275fac}),we})();class Mn{constructor(ye,Y,De,Ze,Mt){this.environmentInjector=ye,this.injector=Y,this.applicationRef=De,this.zone=Ze,this.elementReferenceKey=Mt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ye,Y,De,Ze){return this.zone.run(()=>new Promise(Mt=>{const tn={...De};void 0!==this.elementReferenceKey&&(tn[this.elementReferenceKey]=ye),Mt(Yr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ye,Y,tn,Ze,this.elementReferenceKey))}))}removeViewFromDom(ye,Y){return this.zone.run(()=>new Promise(De=>{const Ze=this.elRefMap.get(Y);if(Ze){Ze.destroy(),this.elRefMap.delete(Y);const Mt=this.elEventsMap.get(Y);Mt&&(Mt(),this.elEventsMap.delete(Y))}De()}))}}const Yr=(we,ye,Y,De,Ze,Mt,tn,on,un,Ln,Br)=>{const B=U.zs3.create({providers:hr(un),parent:Y}),Z=(0,U.LMc)(on,{environmentInjector:ye,elementInjector:B}),xe=Z.instance,He=Z.location.nativeElement;if(un&&(Br&&void 0!==xe[Br]&&console.error(`[Ionic Error]: ${Br} is a reserved property when using ${tn.tagName.toLowerCase()}. Rename or remove the "${Br}" property from ${on.name}.`),Object.assign(xe,un)),Ln)for(const rt of Ln)He.classList.add(rt);const mt=br(we,xe,He);return tn.appendChild(He),De.attachView(Z.hostView),Ze.set(He,Z),Mt.set(He,mt),He},ar=[be.L,be.a,be.b,be.c,be.d],br=(we,ye,Y)=>we.run(()=>{const De=ar.filter(Ze=>"function"==typeof ye[Ze]).map(Ze=>{const Mt=tn=>ye[Ze](tn.detail);return Y.addEventListener(Ze,Mt),()=>Y.removeEventListener(Ze,Mt)});return()=>De.forEach(Ze=>Ze())}),Bn=new U.OlP("NavParamsToken"),hr=we=>[{provide:Bn,useValue:we},{provide:Wt,useFactory:ni,deps:[Bn]}],ni=we=>new Wt(we),In=(we,ye)=>{const Y=we.prototype;ye.forEach(De=>{Object.defineProperty(Y,De,{get(){return this.el[De]},set(Ze){this.z.runOutsideAngular(()=>this.el[De]=Ze)}})})},Hn=(we,ye)=>{const Y=we.prototype;ye.forEach(De=>{Y[De]=function(){const Ze=arguments;return this.z.runOutsideAngular(()=>this.el[De].apply(this.el,Ze))}})},Kr=(we,ye,Y)=>{Y.forEach(De=>we[De]=(0,Xe.R)(ye,De))};function ei(we){return function(Y){const{defineCustomElementFn:De,inputs:Ze,methods:Mt}=we;return void 0!==De&&De(),Ze&&In(Y,Ze),Mt&&Hn(Y,Mt),Y}}const Zr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],li=["present","dismiss","onDidDismiss","onWillDismiss"];let zr=(()=>{let we=class{constructor(Y,De,Ze){this.z=Ze,this.isCmpOpen=!1,this.el=De.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Y.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Y.detectChanges()}),Kr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(U.sBO),U.Y36(U.SBq),U.Y36(U.R0b))},we.\u0275dir=U.lG2({type:we,selectors:[["ion-popover"]],contentQueries:function(Y,De,Ze){if(1&Y&&U.Suo(Ze,U.Rgc,5),2&Y){let Mt;U.iGM(Mt=U.CRH())&&(De.template=Mt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),we=(0,dt.gn)([ei({inputs:Zr,methods:li})],we),we})();const ri=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],vr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let gi=(()=>{let we=class{constructor(Y,De,Ze){this.z=Ze,this.isCmpOpen=!1,this.el=De.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Y.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Y.detectChanges()}),Kr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(U.sBO),U.Y36(U.SBq),U.Y36(U.R0b))},we.\u0275dir=U.lG2({type:we,selectors:[["ion-modal"]],contentQueries:function(Y,De,Ze){if(1&Y&&U.Suo(Ze,U.Rgc,5),2&Y){let Mt;U.iGM(Mt=U.CRH())&&(De.template=Mt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),we=(0,dt.gn)([ei({inputs:ri,methods:vr})],we),we})();const W=(we,ye)=>((we=we.filter(Y=>Y.stackId!==ye.stackId)).push(ye),we),ge=(we,ye)=>{const Y=we.createUrlTree(["."],{relativeTo:ye});return we.serializeUrl(Y)},ut=(we,ye)=>!ye||we.stackId!==ye.stackId,wt=(we,ye)=>{if(!we)return;const Y=Yt(ye);for(let De=0;De<Y.length;De++){if(De>=we.length)return Y[De];if(Y[De]!==we[De])return}},Yt=we=>we.split("/").map(ye=>ye.trim()).filter(ye=>""!==ye),kn=we=>{we&&(we.ref.destroy(),we.unlistenEvents())};class $n{constructor(ye,Y,De,Ze,Mt,tn){this.containerEl=Y,this.router=De,this.navCtrl=Ze,this.zone=Mt,this.location=tn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ye?Yt(ye):void 0}createView(ye,Y){var De;const Ze=ge(this.router,Y),Mt=null==ye||null===(De=ye.location)||void 0===De?void 0:De.nativeElement,tn=br(this.zone,ye.instance,Mt);return{id:this.nextId++,stackId:wt(this.tabsPrefix,Ze),unlistenEvents:tn,element:Mt,ref:ye,url:Ze}}getExistingView(ye){const Y=ge(this.router,ye),De=this.views.find(Ze=>Ze.url===Y);return De&&De.ref.changeDetectorRef.reattach(),De}setActive(ye){var Y,De;const Ze=this.navCtrl.consumeTransition();let{direction:Mt,animation:tn,animationBuilder:on}=Ze;const un=this.activeView,Ln=ut(ye,un);Ln&&(Mt="back",tn=void 0);const Br=this.views.slice();let B;const Z=this.router;Z.getCurrentNavigation?B=Z.getCurrentNavigation():null!==(Y=Z.navigations)&&void 0!==Y&&Y.value&&(B=Z.navigations.value),null!==(De=B)&&void 0!==De&&null!==(De=De.extras)&&void 0!==De&&De.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const xe=this.views.includes(ye),He=this.insertView(ye,Mt);xe||ye.ref.changeDetectorRef.detectChanges();const mt=ye.animationBuilder;return void 0===on&&"back"===Mt&&!Ln&&void 0!==mt&&(on=mt),un&&(un.animationBuilder=on),this.zone.runOutsideAngular(()=>this.wait(()=>(un&&un.ref.changeDetectorRef.detach(),ye.ref.changeDetectorRef.reattach(),this.transition(ye,un,tn,this.canGoBack(1),!1,on).then(()=>fr(ye,He,Br,this.location,this.zone)).then(()=>({enteringView:ye,direction:Mt,animation:tn,tabSwitch:Ln})))))}canGoBack(ye,Y=this.getActiveStackId()){return this.getStack(Y).length>ye}pop(ye,Y=this.getActiveStackId()){return this.zone.run(()=>{const De=this.getStack(Y);if(De.length<=ye)return Promise.resolve(!1);const Ze=De[De.length-ye-1];let Mt=Ze.url;const tn=Ze.savedData;if(tn){var on;const Ln=tn.get("primary");null!=Ln&&null!==(on=Ln.route)&&void 0!==on&&null!==(on=on._routerState)&&void 0!==on&&on.snapshot.url&&(Mt=Ln.route._routerState.snapshot.url)}const{animationBuilder:un}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Mt,{...Ze.savedExtras,animation:un}).then(()=>!0)})}startBackTransition(){const ye=this.activeView;if(ye){const Y=this.getStack(ye.stackId),De=Y[Y.length-2],Ze=De.animationBuilder;return this.wait(()=>this.transition(De,ye,"back",this.canGoBack(2),!0,Ze))}return Promise.resolve()}endBackTransition(ye){ye?(this.skipTransition=!0,this.pop(1)):this.activeView&&nn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ye){const Y=this.getStack(ye);return Y.length>0?Y[Y.length-1]:void 0}getRootUrl(ye){const Y=this.getStack(ye);return Y.length>0?Y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(kn),this.activeView=void 0,this.views=[]}getStack(ye){return this.views.filter(Y=>Y.stackId===ye)}insertView(ye,Y){return this.activeView=ye,this.views=((we,ye,Y)=>"root"===Y?W(we,ye):"forward"===Y?((we,ye)=>(we.indexOf(ye)>=0?we=we.filter(De=>De.stackId!==ye.stackId||De.id<=ye.id):we.push(ye),we))(we,ye):((we,ye)=>we.indexOf(ye)>=0?we.filter(De=>De.stackId!==ye.stackId||De.id<=ye.id):W(we,ye))(we,ye))(this.views,ye,Y),this.views.slice()}transition(ye,Y,De,Ze,Mt,tn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Y===ye)return Promise.resolve(!1);const on=ye?ye.element:void 0,un=Y?Y.element:void 0,Ln=this.containerEl;return on&&on!==un&&(on.classList.add("ion-page"),on.classList.add("ion-page-invisible"),on.parentElement!==Ln&&Ln.appendChild(on),Ln.commit)?Ln.commit(on,un,{duration:void 0===De?0:void 0,direction:De,showGoBack:Ze,progressAnimation:Mt,animationBuilder:tn}):Promise.resolve(!1)}wait(ye){var Y=this;return(0,u.Z)(function*(){void 0!==Y.runningTask&&(yield Y.runningTask,Y.runningTask=void 0);const De=Y.runningTask=ye();return De.finally(()=>Y.runningTask=void 0),De})()}}const fr=(we,ye,Y,De,Ze)=>"function"==typeof requestAnimationFrame?new Promise(Mt=>{requestAnimationFrame(()=>{nn(we,ye,Y,De,Ze),Mt()})}):Promise.resolve(),nn=(we,ye,Y,De,Ze)=>{Ze.run(()=>Y.filter(Mt=>!ye.includes(Mt)).forEach(kn)),ye.forEach(Mt=>{const on=De.path().split("?")[0].split("#")[0];if(Mt!==we&&Mt.url!==on){const un=Mt.element;un.setAttribute("aria-hidden","true"),un.classList.add("ion-page-hidden"),Mt.ref.changeDetectorRef.detach()}})};let Zt=(()=>{class we{constructor(Y,De,Ze,Mt,tn,on,un,Ln){this.parentOutlet=Ln,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Tt.X(null),this.activated=null,this._activatedRoute=null,this.name=K.eC,this.stackWillChange=new U.vpe,this.stackDidChange=new U.vpe,this.activateEvents=new U.vpe,this.deactivateEvents=new U.vpe,this.parentContexts=(0,U.f3M)(K.y6),this.location=(0,U.f3M)(U.s_b),this.environmentInjector=(0,U.f3M)(U.lqb),this.inputBinder=(0,U.f3M)(kr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,U.f3M)(wn),this.navCtrl=(0,U.f3M)(Tn),this.nativeEl=Mt.nativeElement,this.name=Y||K.eC,this.tabsPrefix="true"===De?ge(tn,un):void 0,this.stackCtrl=new $n(this.tabsPrefix,this.nativeEl,tn,this.navCtrl,on,Ze),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(Y){this.nativeEl.animation=Y}set animated(Y){this.nativeEl.animated=Y}set swipeGesture(Y){this._swipeGesture=Y,this.nativeEl.swipeHandler=Y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:De=>this.stackCtrl.endBackTransition(De)}:void 0}ngOnDestroy(){var Y;this.stackCtrl.destroy(),null===(Y=this.inputBinder)||void 0===Y||Y.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Y=this.getContext();null!=Y&&Y.route&&this.activateWith(Y.route,Y.injector)}new Promise(Y=>(0,Te.c)(this.nativeEl,Y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Y,De){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const De=this.getContext();this.activatedView.savedData=new Map(De.children.contexts);const Ze=this.activatedView.savedData.get("primary");if(Ze&&De.route&&(Ze.route={...De.route}),this.activatedView.savedExtras={},De.route){const Mt=De.route.snapshot;this.activatedView.savedExtras.queryParams=Mt.queryParams,this.activatedView.savedExtras.fragment=Mt.fragment}}const Y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Y)}}activateWith(Y,De){var Ze;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Y;let Mt,tn=this.stackCtrl.getExistingView(Y);if(tn){Mt=this.activated=tn.ref;const Ln=tn.savedData;Ln&&(this.getContext().children.contexts=Ln),this.updateActivatedRouteProxy(Mt.instance,Y)}else{var on;const Ln=Y._futureSnapshot,Br=this.parentContexts.getOrCreateContext(this.name).children,B=new Tt.X(null),Z=this.createActivatedRouteProxy(B,Y),xe=new mi(Z,Br,this.location.injector),He=null!==(on=Ln.routeConfig.component)&&void 0!==on?on:Ln.component;Mt=this.activated=this.location.createComponent(He,{index:this.location.length,injector:xe,environmentInjector:null!=De?De:this.environmentInjector}),B.next(Mt.instance),tn=this.stackCtrl.createView(this.activated,Y),this.proxyMap.set(Mt.instance,Z),this.currentActivatedRoute$.next({component:Mt.instance,activatedRoute:Y})}null===(Ze=this.inputBinder)||void 0===Ze||Ze.bindActivatedRouteToOutletComponent(this),this.activatedView=tn,this.navCtrl.setTopOutlet(this);const un=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:tn,tabSwitch:ut(tn,un)}),this.stackCtrl.setActive(tn).then(Ln=>{this.activateEvents.emit(Mt.instance),this.stackDidChange.emit(Ln)})}canGoBack(Y=1,De){return this.stackCtrl.canGoBack(Y,De)}pop(Y=1,De){return this.stackCtrl.pop(Y,De)}getLastUrl(Y){const De=this.stackCtrl.getLastUrl(Y);return De?De.url:void 0}getLastRouteView(Y){return this.stackCtrl.getLastUrl(Y)}getRootView(Y){return this.stackCtrl.getRootUrl(Y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Y,De){const Ze=new K.gz;return Ze._futureSnapshot=De._futureSnapshot,Ze._routerState=De._routerState,Ze.snapshot=De.snapshot,Ze.outlet=De.outlet,Ze.component=De.component,Ze._paramMap=this.proxyObservable(Y,"paramMap"),Ze._queryParamMap=this.proxyObservable(Y,"queryParamMap"),Ze.url=this.proxyObservable(Y,"url"),Ze.params=this.proxyObservable(Y,"params"),Ze.queryParams=this.proxyObservable(Y,"queryParams"),Ze.fragment=this.proxyObservable(Y,"fragment"),Ze.data=this.proxyObservable(Y,"data"),Ze}proxyObservable(Y,De){return Y.pipe((0,Ht.h)(Ze=>!!Ze),(0,dn.w)(Ze=>this.currentActivatedRoute$.pipe((0,Ht.h)(Mt=>null!==Mt&&Mt.component===Ze),(0,dn.w)(Mt=>Mt&&Mt.activatedRoute[De]),(0,vt.x)())))}updateActivatedRouteProxy(Y,De){const Ze=this.proxyMap.get(Y);if(!Ze)throw new Error("Could not find activated route proxy for view");Ze._futureSnapshot=De._futureSnapshot,Ze._routerState=De._routerState,Ze.snapshot=De.snapshot,Ze.outlet=De.outlet,Ze.component=De.component,this.currentActivatedRoute$.next({component:Y,activatedRoute:De})}}return we.\u0275fac=function(Y){return new(Y||we)(U.$8M("name"),U.$8M("tabs"),U.Y36(ae.Ye),U.Y36(U.SBq),U.Y36(K.F0),U.Y36(U.R0b),U.Y36(K.gz),U.Y36(we,12))},we.\u0275dir=U.lG2({type:we,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),we})();class mi{constructor(ye,Y,De){this.route=ye,this.childContexts=Y,this.parent=De}get(ye,Y){return ye===K.gz?this.route:ye===K.y6?this.childContexts:this.parent.get(ye,Y)}}const kr=new U.OlP("");let Fi=(()=>{class we{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Y){this.unsubscribeFromRouteData(Y),this.subscribeToRouteData(Y)}unsubscribeFromRouteData(Y){var De;null===(De=this.outletDataSubscriptions.get(Y))||void 0===De||De.unsubscribe(),this.outletDataSubscriptions.delete(Y)}subscribeToRouteData(Y){const{activatedRoute:De}=Y,Ze=(0,At.a)([De.queryParams,De.params,De.data]).pipe((0,dn.w)(([Mt,tn,on],un)=>(on={...Mt,...tn,...on},0===un?(0,Pt.of)(on):Promise.resolve(on)))).subscribe(Mt=>{if(!Y.isActivated||!Y.activatedComponentRef||Y.activatedRoute!==De||null===De.component)return void this.unsubscribeFromRouteData(Y);const tn=(0,U.qFp)(De.component);if(tn)for(const{templateName:on}of tn.inputs)Y.activatedComponentRef.setInput(on,Mt[on]);else this.unsubscribeFromRouteData(Y)});this.outletDataSubscriptions.set(Y,Ze)}}return we.\u0275fac=function(Y){return new(Y||we)},we.\u0275prov=U.Yz7({token:we,factory:we.\u0275fac}),we})();const Dt=()=>({provide:kr,useFactory:nt,deps:[K.F0]});function nt(we){return null!=we&&we.componentInputBindingEnabled?new Fi:null}const kt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Jt=(()=>{let we=class{constructor(Y,De,Ze,Mt,tn,on){this.routerOutlet=Y,this.navCtrl=De,this.config=Ze,this.r=Mt,this.z=tn,on.detach(),this.el=this.r.nativeElement}onClick(Y){var De;const Ze=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(De=this.routerOutlet)&&void 0!==De&&De.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Y.preventDefault()):null!=Ze&&(this.navCtrl.navigateBack(Ze,{animation:this.routerAnimation}),Y.preventDefault())}};return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(Zt,8),U.Y36(Tn),U.Y36(wn),U.Y36(U.SBq),U.Y36(U.R0b),U.Y36(U.sBO))},we.\u0275dir=U.lG2({type:we,hostBindings:function(Y,De){1&Y&&U.NdJ("click",function(Mt){return De.onClick(Mt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),we=(0,dt.gn)([ei({inputs:kt})],we),we})(),bn=(()=>{class we{constructor(Y,De,Ze,Mt,tn){this.locationStrategy=Y,this.navCtrl=De,this.elementRef=Ze,this.router=Mt,this.routerLink=tn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Y;if(null!==(Y=this.routerLink)&&void 0!==Y&&Y.urlTree){const De=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=De}}onClick(Y){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Y.preventDefault()}}return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(ae.S$),U.Y36(Tn),U.Y36(U.SBq),U.Y36(K.F0),U.Y36(K.rH,8))},we.\u0275dir=U.lG2({type:we,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Y,De){1&Y&&U.NdJ("click",function(Mt){return De.onClick(Mt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.TTD]}),we})(),Sn=(()=>{class we{constructor(Y,De,Ze,Mt,tn){this.locationStrategy=Y,this.navCtrl=De,this.elementRef=Ze,this.router=Mt,this.routerLink=tn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Y;if(null!==(Y=this.routerLink)&&void 0!==Y&&Y.urlTree){const De=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=De}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(ae.S$),U.Y36(Tn),U.Y36(U.SBq),U.Y36(K.F0),U.Y36(K.rH,8))},we.\u0275dir=U.lG2({type:we,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Y,De){1&Y&&U.NdJ("click",function(){return De.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.TTD]}),we})();const Gn=["animated","animation","root","rootParams","swipeGesture"],xr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Xn=(()=>{let we=class{constructor(Y,De,Ze,Mt,tn,on){this.z=tn,on.detach(),this.el=Y.nativeElement,Y.nativeElement.delegate=Mt.create(De,Ze),Kr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(U.SBq),U.Y36(U.lqb),U.Y36(U.zs3),U.Y36(Er),U.Y36(U.R0b),U.Y36(U.sBO))},we.\u0275dir=U.lG2({type:we,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),we=(0,dt.gn)([ei({inputs:Gn,methods:xr})],we),we})(),pr=(()=>{class we{constructor(Y){this.navCtrl=Y,this.ionTabsWillChange=new U.vpe,this.ionTabsDidChange=new U.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Y,tabSwitch:De}){const Ze=Y.stackId;De&&void 0!==Ze&&this.ionTabsWillChange.emit({tab:Ze})}onStackDidChange({enteringView:Y,tabSwitch:De}){const Ze=Y.stackId;De&&void 0!==Ze&&(this.tabBar&&(this.tabBar.selectedTab=Ze),this.ionTabsDidChange.emit({tab:Ze}))}select(Y){const De="string"==typeof Y,Ze=De?Y:Y.detail.tab,Mt=this.outlet.getActiveStackId()===Ze,tn=`${this.outlet.tabsPrefix}/${Ze}`;if(De||Y.stopPropagation(),Mt){const on=this.outlet.getActiveStackId(),un=this.outlet.getLastRouteView(on);if((null==un?void 0:un.url)===tn)return;const Ln=this.outlet.getRootView(Ze);return this.navCtrl.navigateRoot(tn,{...Ln&&tn===Ln.url&&Ln.savedExtras,animated:!0,animationDirection:"back"})}{const on=this.outlet.getLastRouteView(Ze);return this.navCtrl.navigateRoot((null==on?void 0:on.url)||tn,{...null==on?void 0:on.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Y=>{const De=Y.el.getAttribute("slot");De!==this.tabBarSlot&&(this.tabBarSlot=De,this.relocateTabBar())})}relocateTabBar(){const Y=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Y):this.tabsInner.nativeElement.after(Y)}}return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(Tn))},we.\u0275dir=U.lG2({type:we,selectors:[["ion-tabs"]],viewQuery:function(Y,De){if(1&Y&&U.Gf(lt,7,U.SBq),2&Y){let Ze;U.iGM(Ze=U.CRH())&&(De.tabsInner=Ze.first)}},hostBindings:function(Y,De){1&Y&&U.NdJ("ionTabButtonClick",function(Mt){return De.select(Mt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),we})();const di=we=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(we):"function"==typeof requestAnimationFrame?requestAnimationFrame(we):setTimeout(we);let Ri=(()=>{class we{constructor(Y,De){this.injector=Y,this.elementRef=De,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(Y){this.elementRef.nativeElement.value=this.lastValue=Y,Dr(this.elementRef)}handleValueChange(Y,De){Y===this.elementRef.nativeElement&&(De!==this.lastValue&&(this.lastValue=De,this.onChange(De)),Dr(this.elementRef))}_handleBlurEvent(Y){Y===this.elementRef.nativeElement&&(this.onTouched(),Dr(this.elementRef))}registerOnChange(Y){this.onChange=Y}registerOnTouched(Y){this.onTouched=Y}setDisabledState(Y){this.elementRef.nativeElement.disabled=Y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Y;try{Y=this.injector.get(ht.a5)}catch{}if(!Y)return;Y.statusChanges&&(this.statusChanges=Y.statusChanges.subscribe(()=>Dr(this.elementRef)));const De=Y.control;De&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Mt=>{if(typeof De[Mt]<"u"){const tn=De[Mt].bind(De);De[Mt]=(...on)=>{tn(...on),Dr(this.elementRef)}}})}}return we.\u0275fac=function(Y){return new(Y||we)(U.Y36(U.zs3),U.Y36(U.SBq))},we.\u0275dir=U.lG2({type:we,hostBindings:function(Y,De){1&Y&&U.NdJ("ionBlur",function(Mt){return De._handleBlurEvent(Mt.target)})}}),we})();const Dr=we=>{di(()=>{const ye=we.nativeElement,Y=null!=ye.value&&ye.value.toString().length>0,De=zn(ye);_i(ye,De);const Ze=ye.closest("ion-item");Ze&&_i(Ze,Y?[...De,"item-has-value"]:De)})},zn=we=>{const ye=we.classList,Y=[];for(let De=0;De<ye.length;De++){const Ze=ye.item(De);null!==Ze&&Or(Ze,"ng-")&&Y.push(`ion-${Ze.substring(3)}`)}return Y},_i=(we,ye)=>{const Y=we.classList;Y.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Y.add(...ye)},Or=(we,ye)=>we.substring(0,ye.length)===ye;class jn{shouldDetach(ye){return!1}shouldAttach(ye){return!1}store(ye,Y){}retrieve(ye){return null}shouldReuseRoute(ye,Y){if(ye.routeConfig!==Y.routeConfig)return!1;const De=ye.params,Ze=Y.params,Mt=Object.keys(De),tn=Object.keys(Ze);if(Mt.length!==tn.length)return!1;for(const on of Mt)if(Ze[on]!==De[on])return!1;return!0}}class gr{constructor(ye){this.ctrl=ye}create(ye){return this.ctrl.create(ye||{})}dismiss(ye,Y,De){return this.ctrl.dismiss(ye,Y,De)}getTop(){return this.ctrl.getTop()}}},1929:(Qt,it,O)=>{"use strict";O.d(it,{BX:()=>He,dr:()=>Pt,YG:()=>lt,W2:()=>Cn,Gu:()=>ar,gu:()=>br,pK:()=>In,Ie:()=>Hn,Q$:()=>ri,q_:()=>vr,jP:()=>we,yq:()=>pr,ZU:()=>di,UN:()=>ye,g2:()=>Dr,Bs:()=>zn,wd:()=>_i,sr:()=>gr,Pc:()=>Cr,j9:()=>Pn});var u=O(9212),U=O(95),K=O(5472),ae=O(7582),Oe=O(2438),de=O(6814),Ie=O(4934),$e=(O(4913),O(2325),O(3433),O(6615),O(6535),O(2905)),Ve=O(8958),st=(O(5613),O(9207)),je=(O(1848),O(771));O(2019);const Be=$e.i,Ee=["*"],re=["outlet"],_e=[[["","slot","top"]],"*"],q=["[slot=top]","*"];let Pn=(()=>{class C extends K.bk{constructor(P,oe){super(P,oe)}_handleInputEvent(P){this.handleValueChange(P,P.value)}}return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.zs3),u.Y36(u.SBq))},C.\u0275dir=u.lG2({type:C,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(P,oe){1&P&&u.NdJ("ionInput",function(Wn){return oe._handleInputEvent(Wn.target)})},features:[u._Bn([{provide:U.JU,useExisting:C,multi:!0}]),u.qOj]}),C})();const ot=(C,ne)=>{const P=C.prototype;ne.forEach(oe=>{Object.defineProperty(P,oe,{get(){return this.el[oe]},set(et){this.z.runOutsideAngular(()=>this.el[oe]=et)},configurable:!0})})},Pe=(C,ne)=>{const P=C.prototype;ne.forEach(oe=>{P[oe]=function(){const et=arguments;return this.z.runOutsideAngular(()=>this.el[oe].apply(this.el,et))}})},le=(C,ne,P)=>{P.forEach(oe=>C[oe]=(0,Oe.R)(ne,oe))};function Te(C){return function(P){const{defineCustomElementFn:oe,inputs:et,methods:Wn}=C;return void 0!==oe&&oe(),et&&ot(P,et),Wn&&Pe(P,Wn),P}}let Pt=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-app"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({})],C),C})(),lt=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement,le(this,this.el,["ionFocus","ionBlur"])}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],C),C})(),Cn=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement,le(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),ar=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["collapse","mode","translucent"]})],C),C})(),br=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],C),C})(),In=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement,le(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],C),C})(),Hn=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],C),C})(),ri=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["color","mode","position"]})],C),C})(),vr=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],C),C})(),pr=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["color","mode","selectedTab","translucent"]})],C),C})(),di=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],C),C})(),Dr=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement,le(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],C),C})(),zn=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-thumbnail"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({})],C),C})(),_i=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["color","size"]})],C),C})(),gr=(()=>{let C=class{constructor(P,oe,et){this.z=et,P.detach(),this.el=oe.nativeElement}};return C.\u0275fac=function(P){return new(P||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(P,oe){1&P&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,ae.gn)([Te({inputs:["color","mode"]})],C),C})(),we=(()=>{class C extends K.jP{constructor(P,oe,et,Wn,ii,Qr,Io,bo){super(P,oe,et,Wn,ii,Qr,Io,bo),this.parentOutlet=bo}}return C.\u0275fac=function(P){return new(P||C)(u.$8M("name"),u.$8M("tabs"),u.Y36(de.Ye),u.Y36(u.SBq),u.Y36(Ie.F0),u.Y36(u.R0b),u.Y36(Ie.gz),u.Y36(C,12))},C.\u0275dir=u.lG2({type:C,selectors:[["ion-router-outlet"]],features:[u.qOj]}),C})(),ye=(()=>{class C extends K.UN{}return C.\u0275fac=(()=>{let ne;return function(oe){return(ne||(ne=u.n5z(C)))(oe||C)}})(),C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-tabs"]],contentQueries:function(P,oe,et){if(1&P&&(u.Suo(et,pr,5),u.Suo(et,pr,4)),2&P){let Wn;u.iGM(Wn=u.CRH())&&(oe.tabBar=Wn.first),u.iGM(Wn=u.CRH())&&(oe.tabBars=Wn)}},viewQuery:function(P,oe){if(1&P&&u.Gf(re,5,we),2&P){let et;u.iGM(et=u.CRH())&&(oe.outlet=et.first)}},features:[u.qOj],ngContentSelectors:q,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(P,oe){1&P&&(u.F$t(_e),u.Hsn(0),u.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),u.NdJ("stackWillChange",function(Wn){return oe.onStackWillChange(Wn)})("stackDidChange",function(Wn){return oe.onStackDidChange(Wn)}),u.qZA()(),u.Hsn(5,1))},dependencies:[we],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),C})();const un={provide:U.Cf,useExisting:(0,u.Gpc)(()=>Ln),multi:!0};let Ln=(()=>{class C extends U.Fd{}return C.\u0275fac=(()=>{let ne;return function(oe){return(ne||(ne=u.n5z(C)))(oe||C)}})(),C.\u0275dir=u.lG2({type:C,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(P,oe){2&P&&u.uIk("max",oe._enabled?oe.max:null)},features:[u._Bn([un]),u.qOj]}),C})();const Br={provide:U.Cf,useExisting:(0,u.Gpc)(()=>B),multi:!0};let B=(()=>{class C extends U.qQ{}return C.\u0275fac=(()=>{let ne;return function(oe){return(ne||(ne=u.n5z(C)))(oe||C)}})(),C.\u0275dir=u.lG2({type:C,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(P,oe){2&P&&u.uIk("min",oe._enabled?oe.min:null)},features:[u._Bn([Br]),u.qOj]}),C})(),He=(()=>{class C extends K.xs{constructor(){super(st.b)}}return C.\u0275fac=function(P){return new(P||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Ft=(()=>{class C extends K.xs{constructor(){super(st.m),this.angularDelegate=(0,u.f3M)(K.y4),this.injector=(0,u.f3M)(u.zs3),this.environmentInjector=(0,u.f3M)(u.lqb)}create(P){return super.create({...P,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C.\u0275fac=function(P){return new(P||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac}),C})();class Nt extends K.xs{constructor(){super(st.c),this.angularDelegate=(0,u.f3M)(K.y4),this.injector=(0,u.f3M)(u.zs3),this.environmentInjector=(0,u.f3M)(u.lqb)}create(ne){return super.create({...ne,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const vn=(C,ne,P)=>()=>{if(ne.defaultView&&typeof window<"u"){(0,Ve.s)({...C,_zoneGate:Wn=>P.run(Wn)});const et="__zone_symbol__addEventListener"in ne.body?"__zone_symbol__addEventListener":"addEventListener";return function he(){var C=[];if(typeof window<"u"){var ne=window;(!ne.customElements||ne.Element&&(!ne.Element.prototype.closest||!ne.Element.prototype.matches||!ne.Element.prototype.remove||!ne.Element.prototype.getRootNode))&&C.push(O.e(6748).then(O.t.bind(O,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ne.NodeList&&!ne.NodeList.prototype.forEach||!ne.fetch||!function(){try{var oe=new URL("b","http://a");return oe.pathname="c%20d","http://a/c%20d"===oe.href&&oe.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(O.e(2214).then(O.t.bind(O,2668,23)))}return Promise.all(C)}().then(()=>((C,ne)=>{if(!(typeof window>"u"))return Be(),(0,je.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ne)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:K.Wn,jmp:Wn=>P.runOutsideAngular(Wn),ael(Wn,ii,Qr,Io){Wn[et](ii,Qr,Io)},rel(Wn,ii,Qr,Io){Wn.removeEventListener(ii,Qr,Io)}}))}};let Cr=(()=>{class C{static forRoot(P){return{ngModule:C,providers:[{provide:K.dy,useValue:P},{provide:u.ip1,useFactory:vn,multi:!0,deps:[K.dy,de.K0,u.R0b]},(0,K.DN)()]}}}return C.\u0275fac=function(P){return new(P||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({providers:[K.y4,Ft,Nt],imports:[de.ez]}),C})()},7142:(Qt,it,O)=>{"use strict";O.d(it,{Z:()=>u.Z});var u=O(3106);u.Z.registerVersion("firebase","10.7.1","app-compat")},6230:(Qt,it,O)=>{"use strict";O.r(it);var u=O(5861),U=O(3106),K=O(9058),ae=O(534),Oe=O(7879),de=O(7582),Ie=O(4537);const Ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ke=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},st=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new Oe.Yd("@firebase/auth");function he(_,...f){Ye.logLevel<=Oe.in.ERROR&&Ye.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function Be(_,...f){throw _e(_,...f)}function Fe(_,...f){return _e(_,...f)}function Ee(_,f,p){const I=Object.assign(Object.assign({},st()),{[f]:p});return new K.LL("auth","Firebase",I).create(f,{appName:_.name})}function re(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Be(_,"argument-error"),Ee(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _e(_,...f){if("string"!=typeof _){const p=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(p,...I)}return Le.create(_,...f)}function q(_,f,...p){if(!_)throw _e(f,...p)}function ee(_){const f="INTERNAL ASSERTION FAILED: "+_;throw he(f),new Error(f)}function ze(_,f){_||ee(f)}function Me(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Je(){return"http:"===St()||"https:"===St()}function St(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ot{constructor(f,p){this.shortDelay=f,this.longDelay=p,ze(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Je()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pe(_,f){ze(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class le{static initialize(f,p,I){this.fetchImpl=f,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new ot(3e4,6e4);function Ke(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Xe(_,f,p,I){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(_,f,p,I,$={}){return At(_,$,(0,u.Z)(function*(){let J={},We={};I&&("GET"===f?We=I:J={body:JSON.stringify(I)});const pt=(0,K.xO)(Object.assign({key:_.config.apiKey},We)).slice(1),Ot=yield _._getAdditionalHeaders();return Ot["Content-Type"]="application/json",_.languageCode&&(Ot["X-Firebase-Locale"]=_.languageCode),le.fetch()(dn(_,_.config.apiHost,p,pt),Object.assign({method:f,headers:Ot,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function At(_,f,p){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(_,f,p){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},be),f);try{const $=new ht(_),J=yield Promise.race([p(),$.promise]);$.clearNetworkTimeout();const We=yield J.json();if("needConfirmation"in We)throw lt(_,"account-exists-with-different-credential",We);if(J.ok&&!("errorMessage"in We))return We;{const pt=J.ok?We.errorMessage:We.error.message,[Ot,yn]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ot)throw lt(_,"credential-already-in-use",We);if("EMAIL_EXISTS"===Ot)throw lt(_,"email-already-in-use",We);if("USER_DISABLED"===Ot)throw lt(_,"user-disabled",We);const Vn=I[Ot]||Ot.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw Ee(_,Vn,yn);Be(_,Vn)}}catch($){if($ instanceof K.ZR)throw $;Be(_,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function dt(_,f,p,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(_,f,p,I,$={}){const J=yield Xe(_,f,p,I,$);return"mfaPendingCredential"in J&&Be(_,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function dn(_,f,p,I){const $=`${f}${p}?${I}`;return _.config.emulator?Pe(_.config,$):`${_.config.apiScheme}://${$}`}function vt(_){switch(_){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ht{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(Fe(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lt(_,f,p){const I={appName:_.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const $=Fe(_,f,I);return $.customData._tokenResponse=p,$}function bt(_){return void 0!==_&&void 0!==_.getResponse}function zt(_){return void 0!==_&&void 0!==_.enterprise}class En{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===f)return vt(p.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function an(){return(an=(0,u.Z)(function*(_){return(yield Xe(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nn(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(_,f){return Xe(_,"GET","/v2/recaptchaConfig",Ke(_,f))})).apply(this,arguments)}function Gt(){return(Gt=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wt(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Yr(){return(Yr=(0,u.Z)(function*(_,f=!1){const p=(0,K.m9)(_),I=yield p.getIdToken(f),$=br(I);q($&&$.exp&&$.auth_time&&$.iat,p.auth,"internal-error");const J="object"==typeof $.firebase?$.firebase:void 0,We=null==J?void 0:J.sign_in_provider;return{claims:$,token:I,authTime:Wt(ar($.auth_time)),issuedAtTime:Wt(ar($.iat)),expirationTime:Wt(ar($.exp)),signInProvider:We||null,signInSecondFactor:(null==J?void 0:J.sign_in_second_factor)||null}})).apply(this,arguments)}function ar(_){return 1e3*Number(_)}function br(_){const[f,p,I]=_.split(".");if(void 0===f||void 0===p||void 0===I)return he("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,K.tV)(p);return $?JSON.parse($):(he("Failed to decode base64 JWT payload"),null)}catch($){return he("Caught error parsing JWT payload as JSON",null==$?void 0:$.toString()),null}}function hr(_,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(I){throw I instanceof K.ZR&&function In({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}class Hn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const $=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield p.iteration()}),I)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class Kr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wt(this.lastLoginAt),this.creationTime=Wt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(_){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,u.Z)(function*(_){var f;const p=_.auth,I=yield _.getIdToken(),$=yield hr(_,function Yn(_,f){return rr.apply(this,arguments)}(p,{idToken:I}));q(null==$?void 0:$.users.length,p,"internal-error");const J=$.users[0];_._notifyReloadListener(J);const We=null!==(f=J.providerUserInfo)&&void 0!==f&&f.length?function vr(_){return _.map(f=>{var{providerId:p}=f,I=(0,de._T)(f,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(J.providerUserInfo):[],pt=function ri(_,f){return[..._.filter(I=>!f.some($=>$.providerId===I.providerId)),...f]}(_.providerData,We),Vn=!!_.isAnonymous&&!(_.email&&J.passwordHash||null!=pt&&pt.length),On={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:pt,metadata:new Kr(J.createdAt,J.lastLoginAt),isAnonymous:Vn};Object.assign(_,On)}),Zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(_){const f=(0,K.m9)(_);yield ei(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function se(){return(se=(0,u.Z)(function*(_,f){const p=yield At(_,{},(0,u.Z)(function*(){const I=(0,K.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:$,apiKey:J}=_.config,We=dn(_,$,"/v1/token",`key=${J}`),pt=yield _._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(We,{method:"POST",headers:pt,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function ue(){return(ue=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v2/accounts:revokeToken",Ke(_,f))})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){q(f.idToken,"internal-error"),q(typeof f.idToken<"u","internal-error"),q(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Bn(_){const f=br(_);return q(f,"internal-error"),q(typeof f.exp<"u","internal-error"),q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var I=this;return(0,u.Z)(function*(){return q(!I.accessToken||I.refreshToken,f,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var I=this;return(0,u.Z)(function*(){const{accessToken:$,refreshToken:J,expiresIn:We}=yield function gi(_,f){return se.apply(this,arguments)}(f,p);I.updateTokensAndExpiration($,J,Number(We))})()}updateTokensAndExpiration(f,p,I){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,p){const{refreshToken:I,accessToken:$,expirationTime:J}=p,We=new pe;return I&&(q("string"==typeof I,"internal-error",{appName:f}),We.refreshToken=I),$&&(q("string"==typeof $,"internal-error",{appName:f}),We.accessToken=$),J&&(q("number"==typeof J,"internal-error",{appName:f}),We.expirationTime=J),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return ee("not implemented")}}function ge(_,f){q("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class ut{constructor(f){var{uid:p,auth:I,stsTokenManager:$}=f,J=(0,de._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Kr(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,u.Z)(function*(){const I=yield hr(p,p.stsTokenManager.getToken(p.auth,f));return q(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(f){return function Mn(_){return Yr.apply(this,arguments)}(this,f)}reload(){return function li(_){return zr.apply(this,arguments)}(this)}_assign(f){this!==f&&(q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new ut(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var I=this;return(0,u.Z)(function*(){let $=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),$=!0),p&&(yield ei(I)),yield I.auth._persistUserIfCurrent(I),$&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,u.Z)(function*(){const p=yield f.getIdToken();return yield hr(f,function Zn(_,f){return Gt.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var I,$,J,We,pt,Ot,yn,Vn;const On=null!==(I=p.displayName)&&void 0!==I?I:void 0,Si=null!==($=p.email)&&void 0!==$?$:void 0,Yo=null!==(J=p.phoneNumber)&&void 0!==J?J:void 0,Tu=null!==(We=p.photoURL)&&void 0!==We?We:void 0,Mg=null!==(pt=p.tenantId)&&void 0!==pt?pt:void 0,Hi=null!==(Ot=p._redirectEventId)&&void 0!==Ot?Ot:void 0,gh=null!==(yn=p.createdAt)&&void 0!==yn?yn:void 0,mh=null!==(Vn=p.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:ql,emailVerified:Ms,isAnonymous:_h,providerData:vh,stsTokenManager:fl}=p;q(ql&&fl,f,"internal-error");const Pg=pe.fromJSON(this.name,fl);q("string"==typeof ql,f,"internal-error"),ge(On,f.name),ge(Si,f.name),q("boolean"==typeof Ms,f,"internal-error"),q("boolean"==typeof _h,f,"internal-error"),ge(Yo,f.name),ge(Tu,f.name),ge(Mg,f.name),ge(Hi,f.name),ge(gh,f.name),ge(mh,f.name);const yh=new ut({uid:ql,auth:f,email:Si,emailVerified:Ms,displayName:On,isAnonymous:_h,photoURL:Tu,phoneNumber:Yo,tenantId:Mg,stsTokenManager:Pg,createdAt:gh,lastLoginAt:mh});return vh&&Array.isArray(vh)&&(yh.providerData=vh.map(xg=>Object.assign({},xg))),Hi&&(yh._redirectEventId=Hi),yh}static _fromIdTokenResponse(f,p,I=!1){return(0,u.Z)(function*(){const $=new pe;$.updateFromServerResponse(p);const J=new ut({uid:p.localId,auth:f,stsTokenManager:$,isAnonymous:I});return yield ei(J),J})()}}const wt=new Map;function Yt(_){ze(_ instanceof Function,"Expected a class definition");let f=wt.get(_);return f?(ze(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,wt.set(_,f),f)}const $n=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(p,I){var $=this;return(0,u.Z)(function*(){$.storage[p]=I})()}_get(p){var I=this;return(0,u.Z)(function*(){const $=I.storage[p];return void 0===$?null:$})()}_remove(p){var I=this;return(0,u.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return _.type="NONE",_})();function fr(_,f,p){return`firebase:${_}:${f}:${p}`}class nn{constructor(f,p,I){this.persistence=f,this.auth=p,this.userKey=I;const{config:$,name:J}=this.auth;this.fullUserKey=fr(this.userKey,$.apiKey,J),this.fullPersistenceKey=fr("persistence",$.apiKey,J),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?ut._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,u.Z)(function*(){if(p.persistence===f)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,I="authUser"){return(0,u.Z)(function*(){if(!p.length)return new nn(Yt($n),f,I);const $=(yield Promise.all(p.map(function(){var yn=(0,u.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let J=$[0]||Yt($n);const We=fr(I,f.config.apiKey,f.name);let pt=null;for(const yn of p)try{const Vn=yield yn._get(We);if(Vn){const On=ut._fromJSON(f,Vn);yn!==J&&(pt=On),J=yn;break}}catch{}const Ot=$.filter(yn=>yn._shouldAllowMigration);return J._shouldAllowMigration&&Ot.length?(J=Ot[0],pt&&(yield J._set(We,pt.toJSON())),yield Promise.all(p.map(function(){var yn=(0,u.Z)(function*(Vn){if(Vn!==J)try{yield Vn._remove(We)}catch{}});return function(Vn){return yn.apply(this,arguments)}}())),new nn(J,f,I)):new nn(J,f,I)})()}}function Zt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Dt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(mi(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(kt(f))return"Blackberry";if(Jt(f))return"Webos";if(kr(f))return"Safari";if((f.includes("chrome/")||Fi(f))&&!f.includes("edge/"))return"Chrome";if(nt(f))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function mi(_=(0,K.z$)()){return/firefox\//i.test(_)}function kr(_=(0,K.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Fi(_=(0,K.z$)()){return/crios\//i.test(_)}function Dt(_=(0,K.z$)()){return/iemobile/i.test(_)}function nt(_=(0,K.z$)()){return/android/i.test(_)}function kt(_=(0,K.z$)()){return/blackberry/i.test(_)}function Jt(_=(0,K.z$)()){return/webos/i.test(_)}function bn(_=(0,K.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Xn(_=(0,K.z$)()){return bn(_)||nt(_)||Jt(_)||kt(_)||/windows phone/i.test(_)||Dt(_)}function di(_,f=[]){let p;switch(_){case"Browser":p=Zt((0,K.z$)());break;case"Worker":p=`${Zt((0,K.z$)())}-${_}`;break;default:p=_}const I=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${I}`}class Ri{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const I=J=>new Promise((We,pt)=>{try{We(f(J))}catch(Ot){pt(Ot)}});I.onAbort=p,this.queue.push(I);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,u.Z)(function*(){if(p.auth.currentUser===f)return;const I=[];try{for(const $ of p.queue)yield $(f),$.onAbort&&I.push($.onAbort)}catch($){I.reverse();for(const J of I)try{J()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==$?void 0:$.message})}})()}}function zn(){return(zn=(0,u.Z)(function*(_,f={}){return Xe(_,"GET","/v2/passwordPolicy",Ke(_,f))})).apply(this,arguments)}class Or{constructor(f){var p,I,$,J;const We=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=We.minPasswordLength)&&void 0!==p?p:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==($=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==$?$:"",this.forceUpgradeOnSignin=null!==(J=f.forceUpgradeOnSignin)&&void 0!==J&&J,this.schemaVersion=f.schemaVersion}validatePassword(f){var p,I,$,J,We,pt;const Ot={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Ot),this.validatePasswordCharacterOptions(f,Ot),Ot.isValid&&(Ot.isValid=null===(p=Ot.meetsMinPasswordLength)||void 0===p||p),Ot.isValid&&(Ot.isValid=null===(I=Ot.meetsMaxPasswordLength)||void 0===I||I),Ot.isValid&&(Ot.isValid=null===($=Ot.containsLowercaseLetter)||void 0===$||$),Ot.isValid&&(Ot.isValid=null===(J=Ot.containsUppercaseLetter)||void 0===J||J),Ot.isValid&&(Ot.isValid=null===(We=Ot.containsNumericCharacter)||void 0===We||We),Ot.isValid&&(Ot.isValid=null===(pt=Ot.containsNonAlphanumericCharacter)||void 0===pt||pt),Ot}validatePasswordLengthOptions(f,p){const I=this.customStrengthOptions.minPasswordLength,$=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=f.length>=I),$&&(p.meetsMaxPasswordLength=f.length<=$)}validatePasswordCharacterOptions(f,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let $=0;$<f.length;$++)I=f.charAt($),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,p,I,$,J){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=$)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=J))}}class jn{constructor(f,p,I,$){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(f,p){var I=this;return p&&(this._popupRedirectResolver=Yt(p)),this._initializationPromise=this.queue((0,u.Z)(function*(){var $,J;if(!I._deleted&&(I.persistenceManager=yield nn.create(I,f),!I._deleted)){if(null!==($=I._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(J=I.currentUser)||void 0===J?void 0:J.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,u.Z)(function*(){var I;const $=yield p.assertedPersistence.getCurrentUser();let J=$,We=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const pt=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,Ot=null==J?void 0:J._redirectEventId,yn=yield p.tryRedirectSignIn(f);(!pt||pt===Ot)&&null!=yn&&yn.user&&(J=yn.user,We=!0)}if(!J)return p.directlySetCurrentUser(null);if(!J._redirectEventId){if(We)try{yield p.beforeStateQueue.runMiddleware(J)}catch(pt){J=$,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(pt))}return J?p.reloadAndSetCurrentUserOrClear(J):p.directlySetCurrentUser(null)}return q(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===J._redirectEventId?p.directlySetCurrentUser(J):p.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(f){var p=this;return(0,u.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,u.Z)(function*(){try{yield ei(f)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Pn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,u.Z)(function*(){const I=f?(0,K.m9)(f):null;return I&&q(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(f,p=!1){var I=this;return(0,u.Z)(function*(){if(!I._deleted)return f&&q(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,u.Z)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,u.Z)(function*(){yield p.assertedPersistence.setPersistence(Yt(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var p=this;return(0,u.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,u.Z)(function*(){const p=yield function Dr(_){return zn.apply(this,arguments)}(f),I=new Or(p);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new K.LL("auth","Firebase",f())}onAuthStateChanged(f,p,I){return this.registerStateListener(this.authStateSubscription,f,p,I)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,I){return this.registerStateListener(this.idTokenSubscription,f,p,I)}authStateReady(){return new Promise((f,p)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},p)}})}revokeAccessToken(f){var p=this;return(0,u.Z)(function*(){if(p.currentUser){const I=yield p.currentUser.getIdToken(),$={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=p.tenantId&&($.tenantId=p.tenantId),yield function W(_,f){return ue.apply(this,arguments)}(p,$)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var I=this;return(0,u.Z)(function*(){const $=yield I.getOrInitRedirectPersistenceManager(p);return null===f?$.removeCurrentUser():$.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,u.Z)(function*(){if(!p.redirectPersistenceManager){const I=f&&Yt(f)||p._popupRedirectResolver;q(I,p,"argument-error"),p.redirectPersistenceManager=yield nn.create(p,[Yt(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,u.Z)(function*(){var I,$;return p._isInitialized&&(yield p.queue((0,u.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===f?p._currentUser:(null===($=p.redirectUser)||void 0===$?void 0:$._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,u.Z)(function*(){if(f===p.currentUser)return p.queue((0,u.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,I,$){if(this._deleted)return()=>{};const J="function"==typeof p?p:p.next.bind(p);let We=!1;const pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(pt,this,"internal-error"),pt.then(()=>{We||J(this.currentUser)}),"function"==typeof p){const Ot=f.addObserver(p,I,$);return()=>{We=!0,Ot()}}{const Ot=f.addObserver(p);return()=>{We=!0,Ot()}}}directlySetCurrentUser(f){var p=this;return(0,u.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var p;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const $=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();$&&(I["X-Firebase-Client"]=$);const J=yield f._getAppCheckToken();return J&&(I["X-Firebase-AppCheck"]=J),I})()}_getAppCheckToken(){var f=this;return(0,u.Z)(function*(){var p;const I=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=I&&I.error&&function gt(_,...f){Ye.logLevel<=Oe.in.WARN&&Ye.warn(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function gr(_){return(0,K.m9)(_)}class we{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,K.ne)(p=>this.observer=p)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Y(_){return new Promise((f,p)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=f,I.onerror=$=>{const J=Fe("internal-error");J.customData=$,p(J)},I.type="text/javascript",I.charset="UTF-8",function ye(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(I)})}function De(_){return`__${_}${Math.floor(1e6*Math.random())}`}class on{constructor(f){this.type="recaptcha-enterprise",this.auth=gr(f)}verify(f="verify",p=!1){var I=this;return(0,u.Z)(function*(){function J(){return J=(0,u.Z)(function*(pt){if(!p){if(null==pt.tenantId&&null!=pt._agentRecaptchaConfig)return pt._agentRecaptchaConfig.siteKey;if(null!=pt.tenantId&&void 0!==pt._tenantRecaptchaConfigs[pt.tenantId])return pt._tenantRecaptchaConfigs[pt.tenantId].siteKey}return new Promise(function(){var Ot=(0,u.Z)(function*(yn,Vn){Nn(pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(On=>{if(void 0!==On.recaptchaKey){const Si=new En(On);return null==pt.tenantId?pt._agentRecaptchaConfig=Si:pt._tenantRecaptchaConfigs[pt.tenantId]=Si,yn(Si.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(On=>{Vn(On)})});return function(yn,Vn){return Ot.apply(this,arguments)}}())}),J.apply(this,arguments)}function We(pt,Ot,yn){const Vn=window.grecaptcha;zt(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(pt,{action:f}).then(On=>{Ot(On)}).catch(()=>{Ot("NO_RECAPTCHA")})}):yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pt,Ot)=>{(function $(pt){return J.apply(this,arguments)})(I.auth).then(yn=>{if(!p&&zt(window.grecaptcha))We(yn,pt,Ot);else{if(typeof window>"u")return void Ot(new Error("RecaptchaVerifier is only supported in browser"));Y("https://www.google.com/recaptcha/enterprise.js?render="+yn).then(()=>{We(yn,pt,Ot)}).catch(Vn=>{Ot(Vn)})}}).catch(yn=>{Ot(yn)})})})()}}function un(_,f,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(_,f,p,I=!1){const $=new on(_);let J;try{J=yield $.verify(p)}catch{J=yield $.verify(p,!0)}const We=Object.assign({},f);return Object.assign(We,I?{captchaResp:J}:{captchaResponse:J}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function Br(_,f,p,I){return B.apply(this,arguments)}function B(){return B=(0,u.Z)(function*(_,f,p,I){var $;if(null!==($=_._getRecaptchaConfig())&&void 0!==$&&$.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const J=yield un(_,f,p,"getOobCode"===p);return I(_,J)}return I(_,f).catch(function(){var J=(0,u.Z)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pt=yield un(_,f,p,"getOobCode"===p);return I(_,pt)}return Promise.reject(We)});return function(We){return J.apply(this,arguments)}}())}),B.apply(this,arguments)}function xt(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function $t(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Kt{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return ee("not implemented")}_getIdTokenResponse(f){return ee("not implemented")}_linkToIdToken(f,p){return ee("not implemented")}_getReauthenticationResolver(f){return ee("not implemented")}}function vn(_,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:resetPassword",Ke(_,f))})).apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function C(_,f){return ne.apply(this,arguments)}function ne(){return(ne=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:update",Ke(_,f))})).apply(this,arguments)}function et(_,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithPassword",Ke(_,f))})).apply(this,arguments)}function ii(_,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:sendOobCode",Ke(_,f))})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(_,f){return ii(_,f)})).apply(this,arguments)}function Eo(_,f){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(_,f){return ii(_,f)})).apply(this,arguments)}function oo(_,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(_,f){return ii(_,f)})).apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(_,f){return ii(_,f)})).apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithEmailLink",Ke(_,f))})).apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithEmailLink",Ke(_,f))})).apply(this,arguments)}class es extends Kt{constructor(f,p,I,$=null){super("password",I),this._email=f,this._password=p,this._tenantId=$}static _fromEmailAndPassword(f,p){return new es(f,p,"password")}static _fromEmailAndCode(f,p,I=null){return new es(f,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,u.Z)(function*(){switch(p.signInMethod){case"password":return Br(f,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",et);case"emailLink":return function lo(_,f){return Es.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Be(f,"internal-error")}})()}_linkToIdToken(f,p){var I=this;return(0,u.Z)(function*(){switch(I.signInMethod){case"password":return Br(f,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C);case"emailLink":return function Ts(_,f){return To.apply(this,arguments)}(f,{idToken:p,email:I._email,oobCode:I._password});default:Be(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ki(_,f){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithIdp",Ke(_,f))})).apply(this,arguments)}class Zi extends Kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Zi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Be("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:$}=p,J=(0,de._T)(p,["providerId","signInMethod"]);if(!I||!$)return null;const We=new Zi(I,$);return We.idToken=J.idToken||void 0,We.accessToken=J.accessToken||void 0,We.secret=J.secret,We.nonce=J.nonce,We.pendingToken=J.pendingToken||null,We}_getIdTokenResponse(f){return Ki(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Ki(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ki(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,K.xO)(p)}return f}}function zi(){return(zi=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:sendVerificationCode",Ke(_,f))})).apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ke(_,f))})).apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(_,f){const p=yield dt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ke(_,f));if(p.temporaryProof)throw lt(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Ra={USER_NOT_FOUND:"user-not-found"};function Ao(){return(Ao=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ke(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ra)})).apply(this,arguments)}class Os extends Kt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Os({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Os({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function oi(_,f){return ds.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Uo(_,f){return jo.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ka(_,f){return Ao.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:I,verificationCode:$}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:I,code:$}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:I,phoneNumber:$,temporaryProof:J}=f;return I||p||$||J?new Os({verificationId:p,verificationCode:I,phoneNumber:$,temporaryProof:J}):null}}class co{constructor(f){var p,I,$,J,We,pt;const Ot=(0,K.zd)((0,K.pd)(f)),yn=null!==(p=Ot.apiKey)&&void 0!==p?p:null,Vn=null!==(I=Ot.oobCode)&&void 0!==I?I:null,On=function Ns(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Ot.mode)&&void 0!==$?$:null);q(yn&&Vn&&On,"argument-error"),this.apiKey=yn,this.operation=On,this.code=Vn,this.continueUrl=null!==(J=Ot.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(We=Ot.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(pt=Ot.tenantId)&&void 0!==pt?pt:null}static parseLink(f){const p=function wl(_){const f=(0,K.zd)((0,K.pd)(_)).link,p=f?(0,K.zd)((0,K.pd)(f)).deep_link_id:null,I=(0,K.zd)((0,K.pd)(_)).deep_link_id;return(I?(0,K.zd)((0,K.pd)(I)).link:null)||I||p||f||_}(f);try{return new co(p)}catch{return null}}}let ts=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,I){return es._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const $=co.parseLink(I);return q($,"argument-error"),es._fromEmailAndCode(p,$.code,$.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class jr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Pi extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Li extends Pi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return q("providerId"in p&&"signInMethod"in p,"argument-error"),Zi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return q(f.idToken||f.accessToken,"argument-error"),Zi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Li.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Li.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:$,pendingToken:J,nonce:We,providerId:pt}=f;if(!I&&!$&&!p&&!J||!pt)return null;try{return new Li(pt)._credential({idToken:p,accessToken:I,nonce:We,pendingToken:J})}catch{return null}}}let ks=(()=>{class _ extends Pi{constructor(){super("facebook.com")}static credential(p){return Zi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ur=(()=>{class _ extends Pi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return Zi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:$}=p;if(!I&&!$)return null;try{return _.credential(I,$)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),hi=(()=>{class _ extends Pi{constructor(){super("github.com")}static credential(p){return Zi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ei extends Kt{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ki(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Ki(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ki(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:$,pendingToken:J}=p;return I&&$&&J&&I===$?new Ei(I,J):null}static _create(f,p){return new Ei(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ho extends jr{constructor(f){q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ho.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ho.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Ei.fromJSON(f);return q(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:I}=f;if(!p||!I)return null;try{return Ei._create(I,p)}catch{return null}}}let zo=(()=>{class _ extends Pi{constructor(){super("twitter.com")}static credential(p,I){return Zi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:$}=p;if(!I||!$)return null;try{return _.credential(I,$)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ko(_,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signUp",Ke(_,f))})).apply(this,arguments)}class ho{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,I,$=!1){return(0,u.Z)(function*(){const J=yield ut._fromIdTokenResponse(f,I,$),We=Gr(I);return new ho({user:J,providerId:We,_tokenResponse:I,operationType:p})})()}static _forOperation(f,p,I){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const $=Gr(I);return new ho({user:f,providerId:$,_tokenResponse:I,operationType:p})})()}}function Gr(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Un(){return(Un=(0,u.Z)(function*(_){var f;const p=gr(_);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new ho({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield ko(p,{returnSecureToken:!0}),$=yield ho._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser($.user),$})).apply(this,arguments)}class Fr extends K.ZR{constructor(f,p,I,$){var J;super(p.code,p.message),this.operationType=I,this.user=$,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:f.name,tenantId:null!==(J=f.tenantId)&&void 0!==J?J:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,p,I,$){return new Fr(f,p,I,$)}}function Qi(_,f,p,I){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Fr._fromErrorAndOperation(_,J,f,I):J})}function yi(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function z(){return z=(0,u.Z)(function*(_,f){const p=(0,K.m9)(_);yield b(!0,p,f);const{providerUserInfo:I}=yield function Cn(_,f){return wn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),$=yi(I||[]);return p.providerData=p.providerData.filter(J=>$.has(J.providerId)),$.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),z.apply(this,arguments)}function L(_,f){return me.apply(this,arguments)}function me(){return(me=(0,u.Z)(function*(_,f,p=!1){const I=yield hr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return ho._forOperation(_,"link",I)})).apply(this,arguments)}function b(_,f,p){return E.apply(this,arguments)}function E(){return(E=(0,u.Z)(function*(_,f,p){yield ei(f);const $=!1===_?"provider-already-linked":"no-such-provider";q(yi(f.providerData).has(p)===_,f.auth,$)})).apply(this,arguments)}function j(_,f){return x.apply(this,arguments)}function x(){return(x=(0,u.Z)(function*(_,f,p=!1){const{auth:I}=_,$="reauthenticate";try{const J=yield hr(_,Qi(I,$,f,_),p);q(J.idToken,I,"internal-error");const We=br(J.idToken);q(We,I,"internal-error");const{sub:pt}=We;return q(_.uid===pt,I,"user-mismatch"),ho._forOperation(_,$,J)}catch(J){throw"auth/user-not-found"===(null==J?void 0:J.code)&&Be(I,"user-mismatch"),J}})).apply(this,arguments)}function ie(_,f){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(_,f,p=!1){const I="signIn",$=yield Qi(_,I,f),J=yield ho._fromIdTokenResponse(_,I,$);return p||(yield _._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Vt(_,f){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(_,f){return ie(gr(_),f)})).apply(this,arguments)}function ir(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(_,f){const p=(0,K.m9)(_);return yield b(!1,p,f.providerId),L(p,f)})).apply(this,arguments)}function Ar(_,f){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(_,f){return j((0,K.m9)(_),f)})).apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithCustomToken",Ke(_,f))})).apply(this,arguments)}function Xi(){return Xi=(0,u.Z)(function*(_,f){const p=gr(_),I=yield function fi(_,f){return Hr.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),$=yield ho._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser($.user),$}),Xi.apply(this,arguments)}class Lr{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Wr._fromServerResponse(f,p):"totpInfo"in p?fo._fromServerResponse(f,p):Be(f,"internal-error")}}class Wr extends Lr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Wr(p)}}class fo extends Lr{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new fo(p)}}function Ji(_,f,p){var I;q((null===(I=p.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),q(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(q(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(q(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function ai(_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(_){const f=gr(_);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(_,f,p){const I=gr(_),$={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};p&&Ji(I,$,p),yield Br(I,$,"getOobCode",Eo)})).apply(this,arguments)}function fs(){return fs=(0,u.Z)(function*(_,f,p){yield vn((0,K.m9)(_),{oobCode:f,newPassword:p}).catch(function(){var I=(0,u.Z)(function*($){throw"auth/password-does-not-meet-requirements"===$.code&&ai(_),$});return function($){return I.apply(this,arguments)}}())}),fs.apply(this,arguments)}function Ro(){return Ro=(0,u.Z)(function*(_,f){yield function P(_,f){return oe.apply(this,arguments)}((0,K.m9)(_),{oobCode:f})}),Ro.apply(this,arguments)}function Ma(_,f){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(_,f){const p=(0,K.m9)(_),I=yield vn(p,{oobCode:f}),$=I.requestType;switch(q($,p,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(I.mfaInfo,p,"internal-error");default:q(I.email,p,"internal-error")}let J=null;return I.mfaInfo&&(J=Lr._fromServerResponse(gr(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:J},operation:$}})).apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(_,f){const{data:p}=yield Ma((0,K.m9)(_),f);return p.email})).apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(_,f,p){const I=gr(_),We=yield Br(I,{returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ko).catch(Ot=>{throw"auth/password-does-not-meet-requirements"===Ot.code&&ai(_),Ot}),pt=yield ho._fromIdTokenResponse(I,"signIn",We);return yield I._updateCurrentUser(pt.user),pt})).apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(_,f,p){const I=gr(_),$={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function J(We,pt){q(pt.handleCodeInApp,I,"argument-error"),pt&&Ji(I,We,pt)})($,p),yield Br(I,$,"getOobCode",oo)})).apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_),$=ts.credentialWithLink(f,p||Me());return q($._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Vt(I,$)})).apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:createAuthUri",Ke(_,f))})).apply(this,arguments)}function Pa(){return Pa=(0,u.Z)(function*(_,f){const I={identifier:f,continueUri:Je()?Me():"http://localhost"},{signinMethods:$}=yield function Hd(_,f){return uu.apply(this,arguments)}((0,K.m9)(_),I);return $||[]}),Pa.apply(this,arguments)}function w(){return w=(0,u.Z)(function*(_,f){const p=(0,K.m9)(_),$={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ji(p.auth,$,f);const{email:J}=yield function Io(_,f){return bo.apply(this,arguments)}(p.auth,$);J!==_.email&&(yield _.reload())}),w.apply(this,arguments)}function Se(){return Se=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Ji(I.auth,J,p);const{email:We}=yield function lr(_,f){return so.apply(this,arguments)}(I.auth,J);We!==_.email&&(yield _.reload())}),Se.apply(this,arguments)}function ce(){return(ce=(0,u.Z)(function*(_,f){return Xe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Rt(){return Rt=(0,u.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const I=(0,K.m9)(_),J={idToken:yield I.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},We=yield hr(I,function F(_,f){return ce.apply(this,arguments)}(I.auth,J));I.displayName=We.displayName||null,I.photoURL=We.photoUrl||null;const pt=I.providerData.find(({providerId:Ot})=>"password"===Ot);pt&&(pt.displayName=I.displayName,pt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(We)}),Rt.apply(this,arguments)}function yr(_,f,p){return cr.apply(this,arguments)}function cr(){return cr=(0,u.Z)(function*(_,f,p){const{auth:I}=_,J={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(J.email=f),p&&(J.password=p);const We=yield hr(_,function Jn(_,f){return Cr.apply(this,arguments)}(I,J));yield _._updateTokensIfNecessary(We,!0)}),cr.apply(this,arguments)}class er{constructor(f,p,I={}){this.isNewUser=f,this.providerId=p,this.profile=I}}class Nr extends er{constructor(f,p,I,$){super(f,p,I),this.username=$}}class Di extends er{constructor(f,p){super(f,"facebook.com",p)}}class Po extends Nr{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class xo extends er{constructor(f,p){super(f,"google.com",p)}}class ws extends Nr{constructor(f,p,I){super(f,"twitter.com",p,I)}}function Fo(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function qn(_){var f,p;if(!_)return null;const{providerId:I}=_,$=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},J=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&null!=_&&_.idToken){const We=null===(p=null===(f=br(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(We)return new er(J,"anonymous"!==We&&"custom"!==We?We:null)}if(!I)return null;switch(I){case"facebook.com":return new Di(J,$);case"github.com":return new Po(J,$);case"google.com":return new xo(J,$);case"twitter.com":return new ws(J,$,_.screenName||null);case"custom":case"anonymous":return new er(J,null);default:return new er(J,I,$)}}(p)}class wi{constructor(f,p,I){this.type=f,this.credential=p,this.user=I}static _fromIdtoken(f,p){return new wi("enroll",f,p)}static _fromMfaPendingCredential(f){return new wi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,I;if(null!=f&&f.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return wi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return wi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Vs{constructor(f,p,I){this.session=f,this.hints=p,this.signInResolver=I}static _fromError(f,p){const I=gr(f),$=p.customData._serverResponse,J=($.mfaInfo||[]).map(pt=>Lr._fromServerResponse(I,pt));q($.mfaPendingCredential,I,"internal-error");const We=wi._fromMfaPendingCredential($.mfaPendingCredential);return new Vs(We,J,function(){var pt=(0,u.Z)(function*(Ot){const yn=yield Ot._process(I,We);delete $.mfaInfo,delete $.mfaPendingCredential;const Vn=Object.assign(Object.assign({},$),{idToken:yn.idToken,refreshToken:yn.refreshToken});switch(p.operationType){case"signIn":const On=yield ho._fromIdTokenResponse(I,p.operationType,Vn);return yield I._updateCurrentUser(On.user),On;case"reauthenticate":return q(p.user,I,"internal-error"),ho._forOperation(p.user,p.operationType,Vn);default:Be(I,"internal-error")}});return function(Ot){return pt.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,u.Z)(function*(){return p.signInResolver(f)})()}}class Rn{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>Lr._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new Rn(f)}getSession(){var f=this;return(0,u.Z)(function*(){return wi._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,p){var I=this;return(0,u.Z)(function*(){const $=f,J=yield I.getSession(),We=yield hr(I.user,$._process(I.user.auth,J,p));return yield I.user._updateTokensIfNecessary(We),I.user.reload()})()}unenroll(f){var p=this;return(0,u.Z)(function*(){const I="string"==typeof f?f:f.uid,$=yield p.user.getIdToken();try{const J=yield hr(p.user,function ku(_,f){return Xe(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(_,f))}(p.user.auth,{idToken:$,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:We})=>We!==I),yield p.user._updateTokensIfNecessary(J),yield p.user.reload()}catch(J){throw J}})()}}const xn=new WeakMap,hn="__sak";class Ct{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(hn,"1"),this.storage.removeItem(hn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fu=(()=>{class _ extends Ct{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _t(){const _=(0,K.z$)();return kr(_)||bn(_)}()&&function pr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const $=this.storage.getItem(I),J=this.localCache[I];$!==J&&p(I,J,$)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((pt,Ot,yn)=>{this.notifyListeners(pt,yn)});const $=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pt=this.storage.getItem($);if(p.newValue!==pt)null!==p.newValue?this.storage.setItem($,p.newValue):this.storage.removeItem($);else if(this.localCache[$]===p.newValue&&!I)return}const J=()=>{const pt=this.storage.getItem($);!I&&this.localCache[$]===pt||this.notifyListeners($,pt)},We=this.storage.getItem($);!function xr(){return(0,K.w1)()&&10===document.documentMode}()||We===p.newValue||p.newValue===p.oldValue?J():setTimeout(J,10)}notifyListeners(p,I){this.localCache[p]=I;const $=this.listeners[p];if($)for(const J of Array.from($))J(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var $=()=>super._set,J=this;return(0,u.Z)(function*(){yield $().call(J,p,I),J.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,$=this;return(0,u.Z)(function*(){const J=yield I().call($,p);return $.localCache[p]=JSON.stringify(J),J})()}_remove(p){var I=()=>super._remove,$=this;return(0,u.Z)(function*(){yield I().call($,p),delete $.localCache[p]})()}}return _.type="LOCAL",_})(),Bs=(()=>{class _ extends Ct{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return _.type="SESSION",_})();let Ac=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(J=>J.isListeningto(p));if(I)return I;const $=new _(p);return this.receivers.push($),$}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,u.Z)(function*(){const $=p,{eventId:J,eventType:We,data:pt}=$.data,Ot=I.handlersMap[We];if(null==Ot||!Ot.size)return;$.ports[0].postMessage({status:"ack",eventId:J,eventType:We});const yn=Array.from(Ot).map(function(){var On=(0,u.Z)(function*(Si){return Si($.origin,pt)});return function(Si){return On.apply(this,arguments)}}()),Vn=yield function ma(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return f.apply(this,arguments)}}()))}(yn);$.ports[0].postMessage({status:"done",eventId:J,eventType:We,response:Vn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Pl(_="",f=10){let p="";for(let I=0;I<f;I++)p+=Math.floor(10*Math.random());return _+p}class Ig{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,I=50){var $=this;return(0,u.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let We,pt;return new Promise((Ot,yn)=>{const Vn=Pl("",20);J.port1.start();const On=setTimeout(()=>{yn(new Error("unsupported_event"))},I);pt={messageChannel:J,onMessage(Si){const Yo=Si;if(Yo.data.eventId===Vn)switch(Yo.data.status){case"ack":clearTimeout(On),We=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),Ot(Yo.data.response);break;default:clearTimeout(On),clearTimeout(We),yn(new Error("invalid_response"))}}},$.handlers.add(pt),J.port1.addEventListener("message",pt.onMessage),$.target.postMessage({eventType:f,eventId:Vn,data:p},[J.port2])}).finally(()=>{pt&&$.removeMessageHandler(pt)})})()}}function Wi(){return window}function ft(){return typeof Wi().WorkerGlobalScope<"u"&&"function"==typeof Wi().importScripts}function cu(){return(cu=(0,u.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const el="firebaseLocalStorageDb",rs="firebaseLocalStorage",ui="fbase_key";class fn{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Zs(_,f){return _.transaction([rs],f?"readwrite":"readonly").objectStore(rs)}function $s(){const _=indexedDB.open(el,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(rs,{keyPath:ui})}catch($){p($)}}),_.addEventListener("success",(0,u.Z)(function*(){const I=_.result;I.objectStoreNames.contains(rs)?f(I):(I.close(),yield function Rc(){const _=indexedDB.deleteDatabase(el);return new fn(_).toPromise()}(),f(yield $s()))}))})}function Oo(_,f,p){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(_,f,p){const I=Zs(_,!0).put({[ui]:f,value:p});return new fn(I).toPromise()})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(_,f){const p=Zs(_,!1).get(f),I=yield new fn(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Us(_,f){const p=Zs(_,!0).delete(f);return new fn(p).toPromise()}const tl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,u.Z)(function*(){return p.db||(p.db=yield $s()),p.db})()}_withRetries(p){var I=this;return(0,u.Z)(function*(){let $=0;for(;;)try{const J=yield I._openDb();return yield p(J)}catch(J){if($++>3)throw J;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,u.Z)(function*(){return ft()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,u.Z)(function*(){p.receiver=Ac._getInstance(function cn(){return ft()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,u.Z)(function*($,J){return{keyProcessed:(yield p._poll()).includes(J.key)}});return function($,J){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,u.Z)(function*($,J){return["keyChanged"]});return function($,J){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,u.Z)(function*(){var I,$;if(p.activeServiceWorker=yield function Sr(){return cu.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ig(p.activeServiceWorker);const J=yield p.sender._send("ping",{},800);J&&null!==(I=J[0])&&void 0!==I&&I.fulfilled&&null!==($=J[0])&&void 0!==$&&$.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,u.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Ii(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const p=yield $s();return yield Oo(p,hn,"1"),yield Us(p,hn),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,u.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var $=this;return(0,u.Z)(function*(){return $._withPendingWrite((0,u.Z)(function*(){return yield $._withRetries(J=>Oo(J,p,I)),$.localCache[p]=I,$.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,u.Z)(function*(){const $=yield I._withRetries(J=>function Mc(_,f){return No.apply(this,arguments)}(J,p));return I.localCache[p]=$,$})()}_remove(p){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries($=>Us($,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,u.Z)(function*(){const I=yield p._withRetries(We=>{const pt=Zs(We,!1).getAll();return new fn(pt).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const $=[],J=new Set;if(0!==I.length)for(const{fbase_key:We,value:pt}of I)J.add(We),JSON.stringify(p.localCache[We])!==JSON.stringify(pt)&&(p.notifyListeners(We,pt),$.push(We));for(const We of Object.keys(p.localCache))p.localCache[We]&&!J.has(We)&&(p.notifyListeners(We,null),$.push(We));return $})()}notifyListeners(p,I){this.localCache[p]=I;const $=this.listeners[p];if($)for(const J of Array.from($))J(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Q=1e12;class ve{constructor(f){this.auth=f,this.counter=Q,this._widgets=new Map}render(f,p){const I=this.counter;return this._widgets.set(I,new ct(f,this.auth.name,p||{})),this.counter++,I}reset(f){var p;const I=f||Q;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Q))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,u.Z)(function*(){var I;return null===(I=p._widgets.get(f||Q))||void 0===I||I.execute(),""})()}}class ct{constructor(f,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof f?document.getElementById(f):f;q($,"argument-error",{appName:p}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lt(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<_;I++)f.push(p.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yt=De("rcb"),pn=new ot(3e4,6e4);class vi{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Wi().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return q(function dr(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&bt(Wi().grecaptcha)?Promise.resolve(Wi().grecaptcha):new Promise((I,$)=>{const J=Wi().setTimeout(()=>{$(Fe(f,"network-request-failed"))},pn.get());Wi()[yt]=()=>{Wi().clearTimeout(J),delete Wi()[yt];const pt=Wi().grecaptcha;if(!pt||!bt(pt))return void $(Fe(f,"internal-error"));const Ot=pt.render;pt.render=(yn,Vn)=>{const On=Ot(yn,Vn);return this.counter++,On},this.hostLanguage=p,I(pt)},Y(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:yt,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(J),$(Fe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=Wi().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ni{load(f){return(0,u.Z)(function*(){return new ve(f)})()}clearedOneInstance(){}}const mr="recaptcha",Qs={theme:"light",type:"image"};class Xs{constructor(f,p,I=Object.assign({},Qs)){this.parameters=I,this.type=mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gr(f),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof p?document.getElementById(p):p;q($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ni:new vi,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(p)||new Promise(J=>{const We=pt=>{pt&&(f.tokenChangeListeners.delete(We),J(pt))};f.tokenChangeListeners.add(We),f.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof f)f(p);else if("string"==typeof f){const I=Wi()[f];"function"==typeof I&&I(p)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){q(Je()&&!ft(),f.auth,"internal-error"),yield function nl(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function _n(_){return an.apply(this,arguments)}(f.auth);q(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $i{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Os._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Js(){return(Js=(0,u.Z)(function*(_,f,p){const I=gr(_),$=yield Ol(I,f,(0,K.m9)(p));return new $i($,J=>Vt(I,J))})).apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_);yield b(!1,I,"phone");const $=yield Ol(I.auth,f,(0,K.m9)(p));return new $i($,J=>ir(I,J))})).apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_),$=yield Ol(I.auth,f,(0,K.m9)(p));return new $i($,J=>Ar(I,J))})).apply(this,arguments)}function Ol(_,f,p){return du.apply(this,arguments)}function du(){return du=(0,u.Z)(function*(_,f,p){var I;const $=yield p.verify();try{let J;if(q("string"==typeof $,_,"argument-error"),q(p.type===mr,_,"argument-error"),J="string"==typeof f?{phoneNumber:f}:f,"session"in J){const We=J.session;if("phoneNumber"in J)return q("enroll"===We.type,_,"internal-error"),(yield function Gd(_,f){return Xe(_,"POST","/v2/accounts/mfaEnrollment:start",Ke(_,f))}(_,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{q("signin"===We.type,_,"internal-error");const pt=(null===(I=J.multiFactorHint)||void 0===I?void 0:I.uid)||J.multiFactorUid;return q(pt,_,"missing-multi-factor-info"),(yield function T(_,f){return Xe(_,"POST","/v2/accounts/mfaSignIn:start",Ke(_,f))}(_,{mfaPendingCredential:We.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function Ds(_,f){return zi.apply(this,arguments)}(_,{phoneNumber:J.phoneNumber,recaptchaToken:$});return We}}finally{p._reset()}}),du.apply(this,arguments)}function Oc(){return(Oc=(0,u.Z)(function*(_,f){yield L((0,K.m9)(_),f)})).apply(this,arguments)}let hu=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=gr(p)}verifyPhoneNumber(p,I){return Ol(this.auth,p,(0,K.m9)(I))}static credential(p,I){return Os._fromVerification(p,I)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:$}=p;return I&&$?Os._fromTokenResponse(I,$):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Nl(_,f){return f?Yt(f):(q(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class rl extends Kt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ki(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ki(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ki(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Lu(_){return ie(_.auth,new rl(_),_.bypassAuthState)}function Eg(_){const{auth:f,user:p}=_;return q(p,f,"internal-error"),j(p,new rl(_),_.bypassAuthState)}function Zd(_){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,u.Z)(function*(_){const{auth:f,user:p}=_;return q(p,f,"internal-error"),L(p,new rl(_),_.bypassAuthState)})).apply(this,arguments)}class wf{constructor(f,p,I,$,J=!1){this.auth=f,this.resolver=I,this.user=$,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,u.Z)(function*(I,$){f.pendingPromise={resolve:I,reject:$};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(J){f.reject(J)}});return function(I,$){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,u.Z)(function*(){const{urlResponse:I,sessionId:$,postBody:J,tenantId:We,error:pt,type:Ot}=f;if(pt)return void p.reject(pt);const yn={auth:p.auth,requestUri:I,sessionId:$,tenantId:We||void 0,postBody:J||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ot)(yn))}catch(Vn){p.reject(Vn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Lu;case"linkViaPopup":case"linkViaRedirect":return Zd;case"reauthViaPopup":case"reauthViaRedirect":return Eg;default:Be(this.auth,"internal-error")}}resolve(f){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tg=new ot(2e3,1e4);function bf(){return(bf=(0,u.Z)(function*(_,f,p){const I=gr(_);re(_,f,jr);const $=Nl(I,p);return new Vu(I,"signInViaPopup",f,$).executeNotNull()})).apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_);re(I.auth,f,jr);const $=Nl(I.auth,p);return new Vu(I.auth,"reauthViaPopup",f,$,I).executeNotNull()})).apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_);re(I.auth,f,jr);const $=Nl(I.auth,p);return new Vu(I.auth,"linkViaPopup",f,$,I).executeNotNull()})).apply(this,arguments)}let Vu=(()=>{class _ extends wf{constructor(p,I,$,J,We){super(p,I,J,We),this.provider=$,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,u.Z)(function*(){const I=yield p.execute();return q(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,u.Z)(function*(){ze(1===p.filter.length,"Popup operations only handle one event");const I=Pl();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch($=>{p.reject($)}),p.resolver._isIframeWebStorageSupported(p.auth,$=>{$||p.reject(Fe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,$;this.pollId=null!==($=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Tg.get())};p()}}return _.currentPopupAction=null,_})();const fu="pendingRedirect",ao=new Map;class Xd extends wf{constructor(f,p,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,u.Z)(function*(){let I=ao.get(p.auth._key());if(!I){try{const J=(yield function xa(_,f){return kc.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;I=()=>Promise.resolve(J)}catch($){I=()=>Promise.reject($)}ao.set(p.auth._key(),I)}return p.bypassAuthState||ao.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,I=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(I,f);if("unknown"!==f.type){if(f.eventId){const $=yield I.auth._redirectUserForId(f.eventId);if($)return I.user=$,p().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function kc(){return(kc=(0,u.Z)(function*(_,f){const p=_a(f),I=Fc(_);if(!(yield I._isAvailable()))return!1;const $="true"===(yield I._get(p));return yield I._remove(p),$})).apply(this,arguments)}function $r(_,f){return pu.apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(_,f){return Fc(_)._set(_a(f),"true")})).apply(this,arguments)}function si(_,f){ao.set(_._key(),f)}function Fc(_){return Yt(_._redirectPersistence)}function _a(_){return fr(fu,_.config.apiKey,_.name)}function Wo(_,f,p){return function Sf(_,f,p){return Lc.apply(this,arguments)}(_,f,p)}function Lc(){return(Lc=(0,u.Z)(function*(_,f,p){const I=gr(_);re(_,f,jr),yield I._initializationPromise;const $=Nl(I,p);return yield $r($,I),$._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function mo(_,f,p){return function Rf(_,f,p){return ta.apply(this,arguments)}(_,f,p)}function ta(){return(ta=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_);re(I.auth,f,jr),yield I.auth._initializationPromise;const $=Nl(I.auth,p);yield $r($,I.auth);const J=yield ps(I);return $._openRedirect(I.auth,f,"reauthViaRedirect",J)})).apply(this,arguments)}function no(_,f,p){return function js(_,f,p){return Hs.apply(this,arguments)}(_,f,p)}function Hs(){return(Hs=(0,u.Z)(function*(_,f,p){const I=(0,K.m9)(_);re(I.auth,f,jr),yield I.auth._initializationPromise;const $=Nl(I.auth,p);yield b(!1,I,f.providerId),yield $r($,I.auth);const J=yield ps(I);return $._openRedirect(I.auth,f,"linkViaRedirect",J)})).apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(_,f){return yield gr(_)._initializationPromise,Bu(_,f,!1)})).apply(this,arguments)}function Bu(_,f){return os.apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(_,f,p=!1){const I=gr(_),$=Nl(I,f),We=yield new Xd(I,$,p).execute();return We&&!p&&(delete We.user._redirectEventId,yield I._persistUserIfCurrent(We.user),yield I._setRedirectUser(null,f)),We})).apply(this,arguments)}function ps(_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(_){const f=Pl(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class zs{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(p=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Jd(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oa(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var I;if(f.error&&!Oa(f)){const $=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(Fe(this.auth,$))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const I=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(al(f))}saveEventToCache(f){this.cachedEventUids.add(al(f)),this.lastProcessedEventTime=Date.now()}}function al(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Oa({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Na(_){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(_,f={}){return Xe(_,"GET","/v1/projects",f)})).apply(this,arguments)}const ka=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gs=/^https?/;function Fa(){return(Fa=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Na(_);for(const p of f)try{if(Fl(p))return}catch{}Be(_,"unauthorized-domain")})).apply(this,arguments)}function Fl(_){const f=Me(),{protocol:p,hostname:I}=new URL(f);if(_.startsWith("chrome-extension://")){const We=new URL(_);return""===We.hostname&&""===I?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&We.hostname===I}if(!Gs.test(p))return!1;if(ka.test(_))return I===_;const $=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(I)}const Dg=new ot(3e4,6e4);function $u(){const _=Wi().___jsl;if(null!=_&&_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Uc=null;const S_=new ot(5e3,15e3),Cg="__/auth/iframe",wg="emulator/auth/iframe",ro={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ki(_){const f=_.config;q(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?Pe(f,wg):`https://${_.config.authDomain}/${Cg}`,I={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},$=Mf.get(_.config.apiHost);$&&(I.eid=$);const J=_._getFrameworks();return J.length&&(I.fw=J.join(",")),`${p}?${(0,K.xO)(I).slice(1)}`}function jc(){return jc=(0,u.Z)(function*(_){const f=yield function A_(_){return Uc=Uc||function $c(_){return new Promise((f,p)=>{var I,$,J;function We(){$u(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{$u(),p(Fe(_,"network-request-failed"))},timeout:Dg.get()})}if(null!==($=null===(I=Wi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==$&&$.Iframe)f(gapi.iframes.getContext());else{if(null===(J=Wi().gapi)||void 0===J||!J.load){const pt=De("iframefcb");return Wi()[pt]=()=>{gapi.load?We():p(Fe(_,"network-request-failed"))},Y(`https://apis.google.com/js/api.js?onload=${pt}`).catch(Ot=>p(Ot))}We()}}).catch(f=>{throw Uc=null,f})}(_),Uc}(_),p=Wi().gapi;return q(p,_,"internal-error"),f.open({where:document.body,url:ki(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ro,dontclear:!0},I=>new Promise(function(){var $=(0,u.Z)(function*(J,We){yield I.restyle({setHideOnLeave:!1});const pt=Fe(_,"network-request-failed"),Ot=Wi().setTimeout(()=>{We(pt)},S_.get());function yn(){Wi().clearTimeout(Ot),J(I)}I.ping(yn).then(yn,()=>{We(pt)})});return function(J,We){return $.apply(this,arguments)}}()))}),jc.apply(this,arguments)}const gu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ti{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pf="__/auth/handler",eh="emulator/auth/handler",xf=encodeURIComponent("fac");function qo(_,f,p,I,$,J){return mu.apply(this,arguments)}function mu(){return(mu=(0,u.Z)(function*(_,f,p,I,$,J){q(_.config.authDomain,_,"auth-domain-config-required"),q(_.config.apiKey,_,"invalid-api-key");const We={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:I,v:ae.SDK_VERSION,eventId:$};if(f instanceof jr){f.setDefaultLanguage(_.languageCode),We.providerId=f.providerId||"",(0,K.xb)(f.getCustomParameters())||(We.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Vn,On]of Object.entries(J||{}))We[Vn]=On}if(f instanceof Pi){const Vn=f.getScopes().filter(On=>""!==On);Vn.length>0&&(We.scopes=Vn.join(","))}_.tenantId&&(We.tid=_.tenantId);const pt=We;for(const Vn of Object.keys(pt))void 0===pt[Vn]&&delete pt[Vn];const Ot=yield _._getAppCheckToken(),yn=Ot?`#${xf}=${encodeURIComponent(Ot)}`:"";return`${function Vl({config:_}){return _.emulator?Pe(_,eh):`https://${_.authDomain}/${Pf}`}(_)}?${(0,K.xO)(pt).slice(1)}${yn}`})).apply(this,arguments)}const Of="webStorageSupport",kf=class Nf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=Bu,this._overrideRedirectResult=si}_openPopup(f,p,I,$){var J=this;return(0,u.Z)(function*(){var We;ze(null===(We=J.eventManagers[f._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const pt=yield qo(f,p,I,Me(),$);return function ya(_,f,p,I=500,$=600){const J=Math.max((window.screen.availHeight-$)/2,0).toString(),We=Math.max((window.screen.availWidth-I)/2,0).toString();let pt="";const Ot=Object.assign(Object.assign({},gu),{width:I.toString(),height:$.toString(),top:J,left:We}),yn=(0,K.z$)().toLowerCase();p&&(pt=Fi(yn)?"_blank":p),mi(yn)&&(f=f||"http://localhost",Ot.scrollbars="yes");const Vn=Object.entries(Ot).reduce((Si,[Yo,Tu])=>`${Si}${Yo}=${Tu},`,"");if(function Gn(_=(0,K.z$)()){var f;return bn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(yn)&&"_self"!==pt)return function ju(_,f){const p=document.createElement("a");p.href=_,p.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(f||"",pt),new ti(null);const On=window.open(f||"",pt,Vn);q(On,_,"popup-blocked");try{On.focus()}catch{}return new ti(On)}(f,pt,Pl())})()}_openRedirect(f,p,I,$){var J=this;return(0,u.Z)(function*(){return yield J._originValidation(f),function Sc(_){Wi().location.href=_}(yield qo(f,p,I,Me(),$)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:$,promise:J}=this.eventManagers[p];return $?Promise.resolve($):(ze(J,"If manager is not set, promise should be"),J)}const I=this.initAndGetManager(f);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(f){var p=this;return(0,u.Z)(function*(){const I=yield function bi(_){return jc.apply(this,arguments)}(f),$=new zs(f);return I.register("authEvent",J=>(q(null==J?void 0:J.authEvent,f,"invalid-auth-event"),{status:$.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:$},p.iframes[f._key()]=I,$})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Of,{type:Of},$=>{var J;const We=null===(J=null==$?void 0:$[0])||void 0===J?void 0:J[Of];void 0!==We&&p(!!We),Be(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Bc(_){return Fa.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Xn()||kr()||bn()}};class Ff{constructor(f){this.factorId=f}_process(f,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,I);case"signin":return this._finalizeSignIn(f,p.credential);default:return ee("unexpected MultiFactorSessionType")}}}class th extends Ff{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new th(f)}_finalizeEnroll(f,p,I){return function Ut(_,f){return Xe(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(_,f))}(f,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function A(_,f){return Xe(_,"POST","/v2/accounts/mfaSignIn:finalize",Ke(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lf=(()=>{class _{constructor(){}static assertion(p){return th._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var ll="@firebase/auth";class zc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,u.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(I=>{f((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ba(){return window}(0,K.Pz)("authIdTokenMaxAge"),function Vf(_){(0,ae._registerComponent)(new Ie.wA("auth",(f,{options:p})=>{const I=f.getProvider("app").getImmediate(),$=f.getProvider("heartbeat"),J=f.getProvider("app-check-internal"),{apiKey:We,authDomain:pt}=I.options;q(We&&!We.includes(":"),"invalid-api-key",{appName:I.name});const Ot={apiKey:We,authDomain:pt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:di(_)},yn=new jn(I,$,J,Ot);return function mt(_,f){const p=(null==f?void 0:f.persistence)||[],I=(Array.isArray(p)?p:[p]).map(Yt);null!=f&&f.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(I,null==f?void 0:f.popupRedirectResolver)}(yn,p),yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,I)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Ie.wA("auth-internal",f=>{const p=gr(f.getProvider("auth").getImmediate());return new zc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(ll,"1.5.1",function Bl(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(ll,"1.5.1","esm2017")}("Browser");function Gc(){return Gc=(0,u.Z)(function*(_,f,p){var I;const{BuildInfo:$}=Ba();ze(f.sessionId,"AuthEvent did not contain a session ID");const J=yield function $f(_){return Ia.apply(this,arguments)}(f.sessionId),We={};return bn()?We.ibi=$.packageName:nt()?We.apn=$.packageName:Be(_,"operation-not-supported-in-this-environment"),$.displayName&&(We.appDisplayName=$.displayName),We.sessionId=J,qo(_,p,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,We)}),Gc.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(_){const{BuildInfo:f}=Ba(),p={};bn()?p.iosBundleId=f.packageName:nt()?p.androidPackageName=f.packageName:Be(_,"operation-not-supported-in-this-environment"),yield Na(_,p)})).apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(_,f,p){const{cordova:I}=Ba();let $=()=>{};try{yield new Promise((J,We)=>{let pt=null;function Ot(){var On;J();const Si=null===(On=I.plugins.browsertab)||void 0===On?void 0:On.close;"function"==typeof Si&&Si(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function yn(){pt||(pt=window.setTimeout(()=>{We(Fe(_,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===(null==document?void 0:document.visibilityState)&&yn()}f.addPassiveListener(Ot),document.addEventListener("resume",yn,!1),nt()&&document.addEventListener("visibilitychange",Vn,!1),$=()=>{f.removePassiveListener(Ot),document.removeEventListener("resume",yn,!1),document.removeEventListener("visibilitychange",Vn,!1),pt&&window.clearTimeout(pt)}})}finally{$()}})).apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(_){const f=function Uf(_){if(ze(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let I=0;I<_.length;I++)p[I]=_.charCodeAt(I);return p}(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Wc extends zs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function jl(_){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(_){const f=yield $a()._get(ih(_));return f&&(yield $a()._remove(ih(_))),f})).apply(this,arguments)}function Sg(){const _=[];for(let p=0;p<20;p++){const I=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return _.join("")}function $a(){return Yt(Fu)}function ih(_){return fr("authEvent",_.config.apiKey,_.name)}function Wu(_){if(null==_||!_.includes("?"))return{};const[f,...p]=_.split("?");return(0,K.zd)(p.join("?"))}const qc=class Hf{constructor(){this._redirectPersistence=Bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bu,this._overrideRedirectResult=si}_initialize(f){var p=this;return(0,u.Z)(function*(){const I=f._key();let $=p.eventManagers.get(I);return $||($=new Wc(f),p.eventManagers.set(I,$),p.attachCallbackListeners(f,$)),$})()}_openPopup(f){Be(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,I,$){var J=this;return(0,u.Z)(function*(){!function zu(_){var f,p,I,$,J,We,pt,Ot,yn,Vn;const On=Ba();q("function"==typeof(null===(f=null==On?void 0:On.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(p=null==On?void 0:On.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(J=null===($=null===(I=null==On?void 0:On.cordova)||void 0===I?void 0:I.plugins)||void 0===$?void 0:$.browsertab)||void 0===J?void 0:J.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Ot=null===(pt=null===(We=null==On?void 0:On.cordova)||void 0===We?void 0:We.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===Ot?void 0:Ot.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Vn=null===(yn=null==On?void 0:On.cordova)||void 0===yn?void 0:yn.InAppBrowser)||void 0===Vn?void 0:Vn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const We=yield J._initialize(f);yield We.initialized(),We.resetRedirect(),function go(){ao.clear()}(),yield J._originValidation(f);const pt=function ss(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Sg(),postBody:null,tenantId:_.tenantId,error:Fe(_,"no-auth-event")}}(f,I,$);yield function jf(_,f){return $a()._set(ih(_),f)}(f,pt);const Ot=yield function Co(_,f,p){return Gc.apply(this,arguments)}(f,pt,p),yn=yield function Hu(_){const{cordova:f}=Ba();return new Promise(p=>{f.plugins.browsertab.isAvailable(I=>{let $=null;I?f.plugins.browsertab.openUrl(_):$=f.InAppBrowser.open(_,function Sn(_=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p($)})})}(Ot);return function Ag(_,f,p){return ul.apply(this,arguments)}(f,We,yn)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Bf(_){return Ul.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:I,handleOpenURL:$,BuildInfo:J}=Ba(),We=setTimeout((0,u.Z)(function*(){yield jl(f),p.onEvent(vu())}),500),pt=function(){var Vn=(0,u.Z)(function*(On){clearTimeout(We);const Si=yield jl(f);let Yo=null;Si&&null!=On&&On.url&&(Yo=function Rs(_,f){var p,I;const $=function Tr(_){const f=Wu(_),p=f.link?decodeURIComponent(f.link):void 0,I=Wu(p).link,$=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Wu($).link||$||I||p||_}(f);if($.includes("/__/auth/callback")){const J=Wu($),We=J.firebaseError?function oh(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(J.firebaseError)):null,pt=null===(I=null===(p=null==We?void 0:We.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],Ot=pt?Fe(pt):null;return Ot?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ot,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:$,postBody:null}}return null}(Si,On.url)),p.onEvent(Yo||vu())});return function(Si){return Vn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,pt);const Ot=$,yn=`${J.packageName.toLowerCase()}://`;Ba().handleOpenURL=function(){var Vn=(0,u.Z)(function*(On){if(On.toLowerCase().startsWith(yn)&&pt({url:On}),"function"==typeof Ot)try{Ot(On)}catch(Si){console.error(Si)}});return function(On){return Vn.apply(this,arguments)}}()}};function vu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fe("no-auth-event")}}function as(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ah(_=(0,K.z$)()){return!("file:"!==as()&&"ionic:"!==as()&&"capacitor:"!==as()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function uh(){try{const _=self.localStorage,f=Pl();if(_)return _.setItem(f,"1"),_.removeItem(f),!function zf(_=(0,K.z$)()){return function lh(){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)}()||function sa(_=(0,K.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,K.hl)()}catch{return zl()&&(0,K.hl)()}return!1}function zl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qu(){return(function ja(){return"http:"===as()||"https:"===as()}()||(0,K.ru)()||ah())&&!function Hl(){return(0,K.b$)()||(0,K.UG)()}()&&uh()&&!zl()}function Gf(){return ah()&&typeof document<"u"}function Gl(){return(Gl=(0,u.Z)(function*(){return!!Gf()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const ms={LOCAL:"local",NONE:"none",SESSION:"session"},yu=q,Iu="persistence";function Qc(_){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(_){yield _._initializationPromise;const f=Xc(),p=fr(Iu,_.config.apiKey,_.name);f&&f.setItem(p,_._getPersistence())})).apply(this,arguments)}function Xc(){var _;try{return(null===(_=function Zc(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const ch=q;class _o{constructor(){this.browserResolver=Yt(kf),this.cordovaResolver=Yt(qc),this.underlyingResolver=null,this._redirectPersistence=Bs,this._completeRedirectFn=Bu,this._overrideRedirectResult=si}_initialize(f){var p=this;return(0,u.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,I,$){var J=this;return(0,u.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(f,p,I,$)})()}_openRedirect(f,p,I,$){var J=this;return(0,u.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(f,p,I,$)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ch(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Ai(){return Gl.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function Ha(_){return _.unwrap()}function Eu(_){return hl(_)}function hl(_){const{_tokenResponse:f}=_ instanceof K.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof K.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return hu.credentialFromResult(_);const p=f.providerId;if(!p||p===Ge.PASSWORD)return null;let I;switch(p){case Ge.GOOGLE:I=ur;break;case Ge.FACEBOOK:I=ks;break;case Ge.GITHUB:I=hi;break;case Ge.TWITTER:I=zo;break;default:const{oauthIdToken:$,oauthAccessToken:J,oauthTokenSecret:We,pendingToken:pt,nonce:Ot}=f;return J||We||$||pt?pt?p.startsWith("saml.")?Ei._create(p,pt):Zi._fromParams({providerId:p,signInMethod:p,pendingToken:pt,idToken:$,accessToken:J}):new Li(p).credential({idToken:$,accessToken:J,rawNonce:Ot}):null}return _ instanceof K.ZR?I.credentialFromError(_):I.credentialFromResult(_)}function _s(_,f){return f.catch(p=>{throw p instanceof K.ZR&&function Jc(_,f){var p;const I=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new Xr(_,function As(_,f){var p;const I=(0,K.m9)(_),$=f;return q(f.customData.operationType,I,"argument-error"),q(null===(p=$.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),Vs._fromError(I,$)}(_,f));else if(I){const $=hl(f),J=f;$&&(J.credential=$,J.tenantId=I.tenantId||void 0,J.email=I.email||void 0,J.phoneNumber=I.phoneNumber||void 0)}}(_,p),p}).then(p=>{const $=p.user;return{operationType:p.operationType,credential:Eu(p),additionalUserInfo:Fo(p),user:Lo.getOrCreate($)}})}function dh(_,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:I=>_s(_,p.confirm(I))}})).apply(this,arguments)}class Xr{constructor(f,p){this.resolver=p,this.auth=function Ea(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return _s(Ha(this.auth),this.resolver.resolveSignIn(f))}}class Lo{constructor(f){this._delegate=f,this.multiFactor=function Ja(_){const f=(0,K.m9)(_);return xn.has(f)||xn.set(f,Rn._fromUser(f)),xn.get(f)}(f)}static getOrCreate(f){return Lo.USER_MAP.has(f)||Lo.USER_MAP.set(f,new Lo(f)),Lo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,u.Z)(function*(){return _s(p.auth,ir(p._delegate,f))})()}linkWithPhoneNumber(f,p){var I=this;return(0,u.Z)(function*(){return dh(I.auth,function Ss(_,f,p){return ea.apply(this,arguments)}(I._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,u.Z)(function*(){return _s(p.auth,function Af(_,f,p){return il.apply(this,arguments)}(p._delegate,f,_o))})()}linkWithRedirect(f){var p=this;return(0,u.Z)(function*(){return yield Qc(gr(p.auth)),no(p._delegate,f,_o)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,u.Z)(function*(){return _s(p.auth,Ar(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return dh(this.auth,function xc(_,f,p){return xl.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return _s(this.auth,function Nc(_,f,p){return kl.apply(this,arguments)}(this._delegate,f,_o))}reauthenticateWithRedirect(f){var p=this;return(0,u.Z)(function*(){return yield Qc(gr(p.auth)),mo(p._delegate,f,_o)})()}sendEmailVerification(f){return function Cs(_,f){return w.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,u.Z)(function*(){return yield function Do(_,f){return z.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function qt(_,f){return yr((0,K.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Kn(_,f){return yr((0,K.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Kd(_,f){return Oc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ue(_,f){return Rt.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function V(_,f,p){return Se.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lo.USER_MAP=new WeakMap;const Wl=q;let Yu=(()=>{class _{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=p.options;Wl($,"invalid-api-key",{appName:p.name}),Wl($,"invalid-api-key",{appName:p.name});const J=typeof window<"u"?_o:void 0;this._delegate=I.initialize({options:{persistence:hh($,p.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function rt(_,f,p){const I=gr(_);q(I._canInitEmulator,I,"emulator-config-failed"),q(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const $=!(null==p||!p.disableWarnings),J=xt(f),{host:We,port:pt}=function Ft(_){const f=xt(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(I);if($){const J=$[1];return{host:J,port:$t(I.substr(J.length+1))}}{const[J,We]=I.split(":");return{host:J,port:$t(We)}}}(f);I.config.emulator={url:`${J}//${We}${null===pt?"":`:${pt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:We,port:pt,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Nt(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,I)}applyActionCode(p){return function Za(_,f){return Ro.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ma(this._delegate,p)}confirmPasswordReset(p,I){return function ha(_,f,p){return fs.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var $=this;return(0,u.Z)(function*(){return _s($._delegate,function bl(_,f,p){return Fs.apply(this,arguments)}($._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Xa(_,f){return Pa.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function wc(_,f){const p=co.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,u.Z)(function*(){Wl(qu(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function Vc(_,f){return ol.apply(this,arguments)}(p._delegate,_o);return I?_s(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Yc(_,f){gr(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,I,$){const{next:J,error:We,complete:pt}=ed(p,I,$);return this._delegate.onAuthStateChanged(J,We,pt)}onIdTokenChanged(p,I,$){const{next:J,error:We,complete:pt}=ed(p,I,$);return this._delegate.onIdTokenChanged(J,We,pt)}sendSignInLinkToEmail(p,I){return function Cc(_,f,p){return au.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function Vi(_,f,p){return Ti.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,u.Z)(function*(){let $;switch(function Wf(_,f){yu(Object.values(ms).includes(f),_,"invalid-persistence-type"),(0,K.b$)()?yu(f!==ms.SESSION,_,"unsupported-persistence-type"):(0,K.UG)()?yu(f===ms.NONE,_,"unsupported-persistence-type"):zl()?yu(f===ms.NONE||f===ms.LOCAL&&(0,K.hl)(),_,"unsupported-persistence-type"):yu(f===ms.NONE||uh(),_,"unsupported-persistence-type")}(I._delegate,p),p){case ms.SESSION:$=Bs;break;case ms.LOCAL:$=(yield Yt(tl)._isAvailable())?tl:Fu;break;case ms.NONE:$=$n;break;default:return Be("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return _s(this._delegate,function en(_){return Un.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return _s(this._delegate,Vt(this._delegate,p))}signInWithCustomToken(p){return _s(this._delegate,function Fn(_,f){return Xi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return _s(this._delegate,function Al(_,f,p){return Vt((0,K.m9)(_),ts.credential(f,p)).catch(function(){var I=(0,u.Z)(function*($){throw"auth/password-does-not-meet-requirements"===$.code&&ai(_),$});return function($){return I.apply(this,arguments)}}())}(this._delegate,p,I))}signInWithEmailLink(p,I){return _s(this._delegate,function lu(_,f,p){return Mo.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return dh(this._delegate,function Pc(_,f,p){return Js.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,u.Z)(function*(){return Wl(qu(),I._delegate,"operation-not-supported-in-this-environment"),_s(I._delegate,function b_(_,f,p){return bf.apply(this,arguments)}(I._delegate,p,_o))})()}signInWithRedirect(p){var I=this;return(0,u.Z)(function*(){return Wl(qu(),I._delegate,"operation-not-supported-in-this-environment"),yield Qc(I._delegate),Wo(I._delegate,p,_o)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function fa(_,f){return pa.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ms,_})();function ed(_,f,p){let I=_;"function"!=typeof _&&({next:I,error:f,complete:p}=_);const $=I;return{next:We=>$(We&&Lo.getOrCreate(We)),error:f,complete:p}}function hh(_,f){const p=function dl(_,f){const p=Xc();if(!p)return[];const I=fr(Iu,_,f);switch(p.getItem(I)){case ms.NONE:return[$n];case ms.LOCAL:return[tl,Bs];case ms.SESSION:return[Bs];default:return[]}}(_,f);if(typeof self<"u"&&!p.includes(tl)&&p.push(tl),typeof window<"u")for(const I of[Fu,Bs])p.includes(I)||p.push(I);return p.includes($n)||p.push($n),p}class fh{constructor(){this.providerId="phone",this._delegate=new hu(Ha(U.Z.auth()))}static credential(f,p){return hu.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}fh.PHONE_SIGN_IN_METHOD=hu.PHONE_SIGN_IN_METHOD,fh.PROVIDER_ID=hu.PROVIDER_ID;const Rg=q;class ph{constructor(f,p,I=U.Z.app()){var $;Rg(null===($=I.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Xs(I.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zu(_){_.INTERNAL.registerComponent(new Ie.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Yu(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ts,FacebookAuthProvider:ks,GithubAuthProvider:hi,GoogleAuthProvider:ur,OAuthProvider:Li,SAMLAuthProvider:Ho,PhoneAuthProvider:fh,PhoneMultiFactorGenerator:Lf,RecaptchaVerifier:ph,TwitterAuthProvider:zo,Auth:Yu,AuthCredential:Kt,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.5.1")}(U.Z)},5861:(Qt,it,O)=>{"use strict";function u(K,ae,Oe,de,Ie,qe,Ge){try{var Ce=K[qe](Ge),fe=Ce.value}catch(Ne){return void Oe(Ne)}Ce.done?ae(fe):Promise.resolve(fe).then(de,Ie)}function U(K){return function(){var ae=this,Oe=arguments;return new Promise(function(de,Ie){var qe=K.apply(ae,Oe);function Ge(fe){u(qe,de,Ie,Ge,Ce,"next",fe)}function Ce(fe){u(qe,de,Ie,Ge,Ce,"throw",fe)}Ge(void 0)})}}O.d(it,{Z:()=>U})},1180:(Qt,it,O)=>{"use strict";function u(Oe){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(Oe)}function ae(Oe,de,Ie){return(de=function K(Oe){var de=function U(Oe,de){if("object"!==u(Oe)||null===Oe)return Oe;var Ie=Oe[Symbol.toPrimitive];if(void 0!==Ie){var qe=Ie.call(Oe,de||"default");if("object"!==u(qe))return qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===de?String:Number)(Oe)}(Oe,"string");return"symbol"===u(de)?de:String(de)}(de))in Oe?Object.defineProperty(Oe,de,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):Oe[de]=Ie,Oe}O.d(it,{Z:()=>ae})},7582:(Qt,it,O)=>{"use strict";function ae(Pe,le){var be={};for(var Te in Pe)Object.prototype.hasOwnProperty.call(Pe,Te)&&le.indexOf(Te)<0&&(be[Te]=Pe[Te]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Te=Object.getOwnPropertySymbols(Pe);Ke<Te.length;Ke++)le.indexOf(Te[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Pe,Te[Ke])&&(be[Te[Ke]]=Pe[Te[Ke]])}return be}function Oe(Pe,le,be,Te){var Tt,Ke=arguments.length,Xe=Ke<3?le:null===Te?Te=Object.getOwnPropertyDescriptor(le,be):Te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(Pe,le,be,Te);else for(var At=Pe.length-1;At>=0;At--)(Tt=Pe[At])&&(Xe=(Ke<3?Tt(Xe):Ke>3?Tt(le,be,Xe):Tt(le,be))||Xe);return Ke>3&&Xe&&Object.defineProperty(le,be,Xe),Xe}function Ne(Pe,le,be,Te){return new(be||(be=Promise))(function(Xe,Tt){function At(Ht){try{dt(Te.next(Ht))}catch(dn){Tt(dn)}}function Pt(Ht){try{dt(Te.throw(Ht))}catch(dn){Tt(dn)}}function dt(Ht){Ht.done?Xe(Ht.value):function Ke(Xe){return Xe instanceof be?Xe:new be(function(Tt){Tt(Xe)})}(Ht.value).then(At,Pt)}dt((Te=Te.apply(Pe,le||[])).next())})}function he(Pe){return this instanceof he?(this.v=Pe,this):new he(Pe)}function Be(Pe,le,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Te=be.apply(Pe,le||[]),Xe=[];return Ke={},Tt("next"),Tt("throw"),Tt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Tt(vt){Te[vt]&&(Ke[vt]=function(ht){return new Promise(function(lt,bt){Xe.push([vt,ht,lt,bt])>1||At(vt,ht)})})}function At(vt,ht){try{!function Pt(vt){vt.value instanceof he?Promise.resolve(vt.value.v).then(dt,Ht):dn(Xe[0][2],vt)}(Te[vt](ht))}catch(lt){dn(Xe[0][3],lt)}}function dt(vt){At("next",vt)}function Ht(vt){At("throw",vt)}function dn(vt,ht){vt(ht),Xe.shift(),Xe.length&&At(Xe[0][0],Xe[0][1])}}function Ee(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,le=Pe[Symbol.asyncIterator];return le?le.call(Pe):(Pe=function st(Pe){var le="function"==typeof Symbol&&Symbol.iterator,be=le&&Pe[le],Te=0;if(be)return be.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&Te>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Te++],done:!Pe}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),be={},Te("next"),Te("throw"),Te("return"),be[Symbol.asyncIterator]=function(){return this},be);function Te(Xe){be[Xe]=Pe[Xe]&&function(Tt){return new Promise(function(At,Pt){!function Ke(Xe,Tt,At,Pt){Promise.resolve(Pt).then(function(dt){Xe({value:dt,done:At})},Tt)}(At,Pt,(Tt=Pe[Xe](Tt)).done,Tt.value)})}}}O.d(it,{FC:()=>Be,KL:()=>Ee,_T:()=>ae,gn:()=>Oe,mG:()=>Ne,qq:()=>he}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=9353)}]);