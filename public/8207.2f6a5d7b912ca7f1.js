"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8207],{5961:(G,A,d)=>{d.d(A,{GW:()=>k,dk:()=>y,oK:()=>i});var i=function(u){return u.Prompt="PROMPT",u.Camera="CAMERA",u.Photos="PHOTOS",u}(i||{}),k=function(u){return u.Rear="REAR",u.Front="FRONT",u}(k||{}),y=function(u){return u.Uri="uri",u.Base64="base64",u.DataUrl="dataUrl",u}(y||{})},2726:(G,A,d)=>{d.d(A,{Uw:()=>C,fo:()=>l,xz:()=>R});var i=d(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var U=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(U||{});class R extends Error{constructor(e,t,o){super(e),this.message=e,this.code=t,this.data=o}}const E=r=>{var e,t,o,s,n;const c=r.CapacitorCustomPlatform||null,a=r.Capacitor||{},h=a.Plugins=a.Plugins||{},f=r.CapacitorPlatforms,D=(null===(e=null==f?void 0:f.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==c?c.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),le=(null===(t=null==f?void 0:f.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==D()),de=(null===(o=null==f?void 0:f.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(m=>{const g=N.get(m);return!!(null!=g&&g.platforms.has(D())||q(m))}),q=(null===(s=null==f?void 0:f.currentPlatform)||void 0===s?void 0:s.getPluginHeader)||(m=>{var g;return null===(g=a.PluginHeaders)||void 0===g?void 0:g.find(Z=>Z.name===m)}),N=new Map,he=(null===(n=null==f?void 0:f.currentPlatform)||void 0===n?void 0:n.registerPlugin)||((m,g={})=>{const Z=N.get(m);if(Z)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),Z.proxy;const S=D(),W=q(m);let _;const ve=function(){var v=(0,i.Z)(function*(){return!_&&S in g?_=_="function"==typeof g[S]?yield g[S]():g[S]:null!==c&&!_&&"web"in g&&(_=_="function"==typeof g.web?yield g.web():g.web),_});return function(){return v.apply(this,arguments)}}(),Q=v=>{let P;const O=(...$)=>{const x=ve().then(L=>{const M=((v,P)=>{var O,$;if(!W){if(v)return null===($=v[P])||void 0===$?void 0:$.bind(v);throw new R(`"${m}" plugin is not implemented on ${S}`,U.Unimplemented)}{const x=null==W?void 0:W.methods.find(L=>P===L.name);if(x)return"promise"===x.rtype?L=>a.nativePromise(m,P.toString(),L):(L,M)=>a.nativeCallback(m,P.toString(),L,M);if(v)return null===(O=v[P])||void 0===O?void 0:O.bind(v)}})(L,v);if(M){const F=M(...$);return P=null==F?void 0:F.remove,F}throw new R(`"${m}.${v}()" is not implemented on ${S}`,U.Unimplemented)});return"addListener"===v&&(x.remove=(0,i.Z)(function*(){return P()})),x};return O.toString=()=>`${v.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:v,writable:!1,configurable:!1}),O},ee=Q("addListener"),te=Q("removeListener"),Pe=(v,P)=>{const O=ee({eventName:v},P),$=function(){var L=(0,i.Z)(function*(){const M=yield O;te({eventName:v,callbackId:M},P)});return function(){return L.apply(this,arguments)}}(),x=new Promise(L=>O.then(()=>L({remove:$})));return x.remove=(0,i.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield $()}),x},X=new Proxy({},{get(v,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?Pe:ee;case"removeListener":return te;default:return Q(P)}}});return h[m]=X,N.set(m,{name:m,proxy:X,platforms:new Set([...Object.keys(g),...W?[S]:[]])}),X});return a.convertFileSrc||(a.convertFileSrc=m=>m),a.getPlatform=D,a.handleError=m=>r.console.error(m),a.isNativePlatform=le,a.isPluginAvailable=de,a.pluginMethodNoop=(m,g,Z)=>Promise.reject(`${Z} does not have an implementation of "${g}".`),a.registerPlugin=he,a.Exception=R,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},T=(r=>r.Capacitor=E(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),l=T.registerPlugin;class C{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var o=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const c=function(){var h=(0,i.Z)(function*(){return o.removeListener(e,t)});return function(){return h.apply(this,arguments)}}(),a=Promise.resolve({remove:c});return Object.defineProperty(a,"remove",{value:(h=(0,i.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield c()}),function(){return h.apply(this,arguments)})}),a;var h}removeAllListeners(){var e=this;return(0,i.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const o=this.listeners[e];o&&o.forEach(s=>s(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(e="not implemented"){return new T.Exception(e,U.Unimplemented)}unavailable(e="not available"){return new T.Exception(e,U.Unavailable)}removeListener(e,t){var o=this;return(0,i.Z)(function*(){const s=o.listeners[e];if(!s)return;const n=s.indexOf(t);o.listeners[e].splice(n,1),o.listeners[e].length||o.removeWindowListener(o.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const V=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Y=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class re extends C{getCookies(){return(0,i.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[s,n]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Y(s).trim(),n=Y(n).trim(),t[s]=n}),t})()}setCookie(e){return(0,i.Z)(function*(){try{const t=V(e.key),o=V(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),c=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${o||""}${s}; path=${n}; ${c};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,i.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,i.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,i.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}l("CapacitorCookies",{web:()=>new re});const ne=function(){var r=(0,i.Z)(function*(e){return new Promise((t,o)=>{const s=new FileReader;s.onload=()=>{const n=s.result;t(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>o(n),s.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}();class ie extends C{request(e){return(0,i.Z)(function*(){const t=((r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),s=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(s=>s.toLocaleLowerCase()).reduce((s,n,c)=>(s[n]=r[e[c]],s),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(s.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[c,a]of Object.entries(r.data||{}))n.set(c,a);t.body=n.toString()}else if(s.includes("multipart/form-data")||r.data instanceof FormData){const n=new FormData;if(r.data instanceof FormData)r.data.forEach((a,h)=>{n.append(h,a)});else for(const a of Object.keys(r.data))n.append(a,r.data[a]);t.body=n;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(s.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t})(e,e.webFetchExtra),o=((r,e=!0)=>r?Object.entries(r).reduce((o,s)=>{const[n,c]=s;let a,h;return Array.isArray(c)?(h="",c.forEach(f=>{a=e?encodeURIComponent(f):f,h+=`${n}=${a}&`}),h.slice(0,-1)):(a=e?encodeURIComponent(c):c,h=`${n}=${a}`),`${o}&${h}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),s=o?`${e.url}?${o}`:e.url,n=yield fetch(s,t),c=n.headers.get("content-type")||"";let h,f,{responseType:a="text"}=n.ok?e:{};switch(c.includes("application/json")&&(a="json"),a){case"arraybuffer":case"blob":f=yield n.blob(),h=yield ne(f);break;case"json":h=yield n.json();break;default:h=yield n.text()}const B={};return n.headers.forEach((D,J)=>{B[J]=D}),{data:h,headers:B,status:n.status,url:n.url}})()}get(e){var t=this;return(0,i.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,i.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,i.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,i.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,i.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}l("CapacitorHttp",{web:()=>new ie})},3554:(G,A,d)=>{d.d(A,{e:()=>I});var i=d(6814),k=d(95),y=d(1929),u=d(9212);let I=(()=>{var b;class j{}return(b=j).\u0275fac=function(R){return new(R||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[i.ez,k.u5,y.Pc]}),j})()},5330:(G,A,d)=>{d.d(A,{T:()=>K});var i=d(5861),k=d(2726),y=d(5961);const u=(0,k.fo)("Camera",{web:()=>d.e(6468).then(d.bind(d,6468)).then(E=>new E.CameraWeb)});var I=d(7398),b=d(9212),j=d(9027),U=d(1929),R=d(830);let K=(()=>{var E;class H{constructor(l,p,w){this.firestore=l,this.actionSheetController=p,this.storage=w}isCameraAvailable(){return(0,i.Z)(function*(){return"granted"===(yield u.checkPermissions()).camera})()}uploadImage(l){var p=this;return(0,i.Z)(function*(){const w=`your-storage-path/${(new Date).getTime()}.png`,C=p.storage.ref(w);try{return yield(yield C.putString(l,"data_url",{contentType:"image/png"})).ref.getDownloadURL()}catch(z){return console.error("Error al subir la imagen:",z),null}})()}selectImageSource(){var l=this;return(0,i.Z)(function*(){const p=[{text:"Usar C\xe1mara",handler:()=>y.oK.Camera},{text:"Seleccionar de la Galer\xeda",handler:()=>y.oK.Photos}],w=yield l.actionSheetController.create({header:"Seleccionar fuente de la imagen",buttons:p});yield w.present();const{role:C}=yield w.onDidDismiss();return"cancel"===C?null:C})()}takePhoto(l){return(0,i.Z)(function*(){try{const p=yield u.getPhoto({resultType:y.dk.Base64,source:l,quality:100});return{base64String:p.base64String,format:p.format,saved:!1}}catch(p){return void console.error("Error al capturar la foto desde la c\xe1mara.",p)}})()}selectImage(){return(0,i.Z)(function*(){return yield u.getPhoto({resultType:y.dk.Uri,source:y.oK.Photos,quality:100})})()}addNewToGallery(){var l=this;return(0,i.Z)(function*(){const p=yield l.takePhoto(y.oK.Camera);if(p){const w=yield l.uploadImage(p.base64String||"");if(w){const C={name:"Nuevo Restaurante",description:"Descripci\xf3n del restaurante",image:w};yield l.addRestaurant(C)}}})()}getRestaurants(){return this.firestore.collection("restaurants").snapshotChanges().pipe((0,I.U)(l=>l.map(p=>{const w=p.payload.doc.data();return{id:p.payload.doc.id,...w}})))}addRestaurant(l){return this.firestore.collection("restaurants").add(l)}deleteRestaurant(l){return this.firestore.collection("restaurants").doc(l).delete()}}return(E=H).\u0275fac=function(l){return new(l||E)(b.LFG(j.ST),b.LFG(U.BX),b.LFG(R.Q1))},E.\u0275prov=b.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),H})()}}]);